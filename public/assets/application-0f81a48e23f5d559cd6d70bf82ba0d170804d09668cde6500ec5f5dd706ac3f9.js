/*!
 * jQuery JavaScript Library v1.12.0
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-01-08T19:56Z
 */
!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=!!t&&"length"in t&&t.length,n=pt.type(t);return"function"===n||pt.isWindow(t)?!1:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function o(t,e,n){if(pt.isFunction(e))return pt.grep(t,function(t,o){return!!e.call(t,o,t)!==n});if(e.nodeType)return pt.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(xt.test(e))return pt.filter(e,t,n);e=pt.filter(e,t)}return pt.grep(t,function(t){return pt.inArray(t,e)>-1!==n})}function i(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function r(t){var e={};return pt.each(t.match(Nt)||[],function(t,n){e[n]=!0}),e}function a(){ot.addEventListener?(ot.removeEventListener("DOMContentLoaded",s),t.removeEventListener("load",s)):(ot.detachEvent("onreadystatechange",s),t.detachEvent("onload",s))}function s(){(ot.addEventListener||"load"===t.event.type||"complete"===ot.readyState)&&(a(),pt.ready())}function l(t,e,n){if(void 0===n&&1===t.nodeType){var o="data-"+e.replace(Pt,"-$1").toLowerCase();if(n=t.getAttribute(o),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Ot.test(n)?pt.parseJSON(n):n}catch(i){}pt.data(t,e,n)}else n=void 0}return n}function d(t){var e;for(e in t)if(("data"!==e||!pt.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function u(t,e,n,o){if(At(t)){var i,r,a=pt.expando,s=t.nodeType,l=s?pt.cache:t,d=s?t[a]:t[a]&&a;if(d&&l[d]&&(o||l[d].data)||void 0!==n||"string"!=typeof e)return d||(d=s?t[a]=nt.pop()||pt.guid++:a),l[d]||(l[d]=s?{}:{toJSON:pt.noop}),("object"==typeof e||"function"==typeof e)&&(o?l[d]=pt.extend(l[d],e):l[d].data=pt.extend(l[d].data,e)),r=l[d],o||(r.data||(r.data={}),r=r.data),void 0!==n&&(r[pt.camelCase(e)]=n),"string"==typeof e?(i=r[e],null==i&&(i=r[pt.camelCase(e)])):i=r,i}}function c(t,e,n){if(At(t)){var o,i,r=t.nodeType,a=r?pt.cache:t,s=r?t[pt.expando]:pt.expando;if(a[s]){if(e&&(o=n?a[s]:a[s].data)){pt.isArray(e)?e=e.concat(pt.map(e,pt.camelCase)):e in o?e=[e]:(e=pt.camelCase(e),e=e in o?[e]:e.split(" ")),i=e.length;for(;i--;)delete o[e[i]];if(n?!d(o):!pt.isEmptyObject(o))return}(n||(delete a[s].data,d(a[s])))&&(r?pt.cleanData([t],!0):ct.deleteExpando||a!=a.window?delete a[s]:a[s]=void 0)}}}function h(t,e,n,o){var i,r=1,a=20,s=o?function(){return o.cur()}:function(){return pt.css(t,e,"")},l=s(),d=n&&n[3]||(pt.cssNumber[e]?"":"px"),u=(pt.cssNumber[e]||"px"!==d&&+l)&&Bt.exec(pt.css(t,e));if(u&&u[3]!==d){d=d||u[3],n=n||[],u=+l||1;do r=r||".5",u/=r,pt.style(t,e,u+d);while(r!==(r=s()/l)&&1!==r&&--a)}return n&&(u=+u||+l||0,i=n[1]?u+(n[1]+1)*n[2]:+n[2],o&&(o.unit=d,o.start=u,o.end=i)),i}function p(t){var e=Wt.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function f(t,e){var n,o,i=0,r="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):void 0;if(!r)for(r=[],n=t.childNodes||t;null!=(o=n[i]);i++)!e||pt.nodeName(o,e)?r.push(o):pt.merge(r,f(o,e));return void 0===e||e&&pt.nodeName(t,e)?pt.merge([t],r):r}function m(t,e){for(var n,o=0;null!=(n=t[o]);o++)pt._data(n,"globalEval",!e||pt._data(e[o],"globalEval"))}function g(t){Ht.test(t.type)&&(t.defaultChecked=t.checked)}function v(t,e,n,o,i){for(var r,a,s,l,d,u,c,h=t.length,v=p(e),y=[],_=0;h>_;_++)if(a=t[_],a||0===a)if("object"===pt.type(a))pt.merge(y,a.nodeType?[a]:a);else if(Ut.test(a)){for(l=l||v.appendChild(e.createElement("div")),d=(jt.exec(a)||["",""])[1].toLowerCase(),c=Vt[d]||Vt._default,l.innerHTML=c[1]+pt.htmlPrefilter(a)+c[2],r=c[0];r--;)l=l.lastChild;if(!ct.leadingWhitespace&&zt.test(a)&&y.push(e.createTextNode(zt.exec(a)[0])),!ct.tbody)for(a="table"!==d||Jt.test(a)?"<table>"!==c[1]||Jt.test(a)?0:l:l.firstChild,r=a&&a.childNodes.length;r--;)pt.nodeName(u=a.childNodes[r],"tbody")&&!u.childNodes.length&&a.removeChild(u);for(pt.merge(y,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=v.lastChild}else y.push(e.createTextNode(a));for(l&&v.removeChild(l),ct.appendChecked||pt.grep(f(y,"input"),g),_=0;a=y[_++];)if(o&&pt.inArray(a,o)>-1)i&&i.push(a);else if(s=pt.contains(a.ownerDocument,a),l=f(v.appendChild(a),"script"),s&&m(l),n)for(r=0;a=l[r++];)qt.test(a.type||"")&&n.push(a);return l=null,v}function y(){return!0}function _(){return!1}function b(){try{return ot.activeElement}catch(t){}}function w(t,e,n,o,i,r){var a,s;if("object"==typeof e){"string"!=typeof n&&(o=o||n,n=void 0);for(s in e)w(t,s,n,o,e[s],r);return t}if(null==o&&null==i?(i=n,o=n=void 0):null==i&&("string"==typeof n?(i=o,o=void 0):(i=o,o=n,n=void 0)),i===!1)i=_;else if(!i)return t;return 1===r&&(a=i,i=function(t){return pt().off(t),a.apply(this,arguments)},i.guid=a.guid||(a.guid=pt.guid++)),t.each(function(){pt.event.add(this,e,i,o,n)})}function C(t,e){return pt.nodeName(t,"table")&&pt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function x(t){return t.type=(null!==pt.find.attr(t,"type"))+"/"+t.type,t}function T(t){var e=ie.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function k(t,e){if(1===e.nodeType&&pt.hasData(t)){var n,o,i,r=pt._data(t),a=pt._data(e,r),s=r.events;if(s){delete a.handle,a.events={};for(n in s)for(o=0,i=s[n].length;i>o;o++)pt.event.add(e,n,s[n][o])}a.data&&(a.data=pt.extend({},a.data))}}function S(t,e){var n,o,i;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!ct.noCloneEvent&&e[pt.expando]){i=pt._data(e);for(o in i.events)pt.removeEvent(e,o,i.handle);e.removeAttribute(pt.expando)}"script"===n&&e.text!==t.text?(x(e).text=t.text,T(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),ct.html5Clone&&t.innerHTML&&!pt.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&Ht.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}}function $(t,e,n,o){e=rt.apply([],e);var i,r,a,s,l,d,u=0,c=t.length,h=c-1,p=e[0],m=pt.isFunction(p);if(m||c>1&&"string"==typeof p&&!ct.checkClone&&oe.test(p))return t.each(function(i){var r=t.eq(i);m&&(e[0]=p.call(this,i,r.html())),$(r,e,n,o)});if(c&&(d=v(e,t[0].ownerDocument,!1,t,o),i=d.firstChild,1===d.childNodes.length&&(d=i),i||o)){for(s=pt.map(f(d,"script"),x),a=s.length;c>u;u++)r=d,u!==h&&(r=pt.clone(r,!0,!0),a&&pt.merge(s,f(r,"script"))),n.call(t[u],r,u);if(a)for(l=s[s.length-1].ownerDocument,pt.map(s,T),u=0;a>u;u++)r=s[u],qt.test(r.type||"")&&!pt._data(r,"globalEval")&&pt.contains(l,r)&&(r.src?pt._evalUrl&&pt._evalUrl(r.src):pt.globalEval((r.text||r.textContent||r.innerHTML||"").replace(re,"")));d=i=null}return t}function E(t,e,n){for(var o,i=e?pt.filter(e,t):t,r=0;null!=(o=i[r]);r++)n||1!==o.nodeType||pt.cleanData(f(o)),o.parentNode&&(n&&pt.contains(o.ownerDocument,o)&&m(f(o,"script")),o.parentNode.removeChild(o));return t}function N(t,e){var n=pt(e.createElement(t)).appendTo(e.body),o=pt.css(n[0],"display");return n.detach(),o}function D(t){var e=ot,n=de[t];return n||(n=N(t,e),"none"!==n&&n||(le=(le||pt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=(le[0].contentWindow||le[0].contentDocument).document,e.write(),e.close(),n=N(t,e),le.detach()),de[t]=n),n}function M(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function A(t){if(t in Te)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=xe.length;n--;)if(t=xe[n]+e,t in Te)return t}function O(t,e){for(var n,o,i,r=[],a=0,s=t.length;s>a;a++)o=t[a],o.style&&(r[a]=pt._data(o,"olddisplay"),n=o.style.display,e?(r[a]||"none"!==n||(o.style.display=""),""===o.style.display&&It(o)&&(r[a]=pt._data(o,"olddisplay",D(o.nodeName)))):(i=It(o),(n&&"none"!==n||!i)&&pt._data(o,"olddisplay",i?n:pt.css(o,"display"))));for(a=0;s>a;a++)o=t[a],o.style&&(e&&"none"!==o.style.display&&""!==o.style.display||(o.style.display=e?r[a]||"":"none"));return t}function P(t,e,n){var o=be.exec(e);return o?Math.max(0,o[1]-(n||0))+(o[2]||"px"):e}function L(t,e,n,o,i){for(var r=n===(o?"border":"content")?4:"width"===e?1:0,a=0;4>r;r+=2)"margin"===n&&(a+=pt.css(t,n+Ft[r],!0,i)),o?("content"===n&&(a-=pt.css(t,"padding"+Ft[r],!0,i)),"margin"!==n&&(a-=pt.css(t,"border"+Ft[r]+"Width",!0,i))):(a+=pt.css(t,"padding"+Ft[r],!0,i),"padding"!==n&&(a+=pt.css(t,"border"+Ft[r]+"Width",!0,i)));return a}function B(e,n,o){var i=!0,r="width"===n?e.offsetWidth:e.offsetHeight,a=fe(e),s=ct.boxSizing&&"border-box"===pt.css(e,"boxSizing",!1,a);if(ot.msFullscreenElement&&t.top!==t&&e.getClientRects().length&&(r=Math.round(100*e.getBoundingClientRect()[n])),0>=r||null==r){if(r=me(e,n,a),(0>r||null==r)&&(r=e.style[n]),ce.test(r))return r;i=s&&(ct.boxSizingReliable()||r===e.style[n]),r=parseFloat(r)||0}return r+L(e,n,o||(s?"border":"content"),i,a)+"px"}function F(t,e,n,o,i){return new F.prototype.init(t,e,n,o,i)}function I(){return t.setTimeout(function(){ke=void 0}),ke=pt.now()}function R(t,e){var n,o={height:t},i=0;for(e=e?1:0;4>i;i+=2-e)n=Ft[i],o["margin"+n]=o["padding"+n]=t;return e&&(o.opacity=o.width=t),o}function H(t,e,n){for(var o,i=(z.tweeners[e]||[]).concat(z.tweeners["*"]),r=0,a=i.length;a>r;r++)if(o=i[r].call(n,e,t))return o}function j(t,e,n){var o,i,r,a,s,l,d,u,c=this,h={},p=t.style,f=t.nodeType&&It(t),m=pt._data(t,"fxshow");n.queue||(s=pt._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,pt.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],d=pt.css(t,"display"),u="none"===d?pt._data(t,"olddisplay")||D(t.nodeName):d,"inline"===u&&"none"===pt.css(t,"float")&&(ct.inlineBlockNeedsLayout&&"inline"!==D(t.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",ct.shrinkWrapBlocks()||c.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(o in e)if(i=e[o],$e.exec(i)){if(delete e[o],r=r||"toggle"===i,i===(f?"hide":"show")){if("show"!==i||!m||void 0===m[o])continue;f=!0}h[o]=m&&m[o]||pt.style(t,o)}else d=void 0;if(pt.isEmptyObject(h))"inline"===("none"===d?D(t.nodeName):d)&&(p.display=d);else{m?"hidden"in m&&(f=m.hidden):m=pt._data(t,"fxshow",{}),r&&(m.hidden=!f),f?pt(t).show():c.done(function(){pt(t).hide()}),c.done(function(){var e;pt._removeData(t,"fxshow");for(e in h)pt.style(t,e,h[e])});for(o in h)a=H(f?m[o]:0,o,c),o in m||(m[o]=a.start,f&&(a.end=a.start,a.start="width"===o||"height"===o?1:0))}}function q(t,e){var n,o,i,r,a;for(n in t)if(o=pt.camelCase(n),i=e[o],r=t[n],pt.isArray(r)&&(i=r[1],r=t[n]=r[0]),n!==o&&(t[o]=r,delete t[n]),a=pt.cssHooks[o],a&&"expand"in a){r=a.expand(r),delete t[o];for(n in r)n in t||(t[n]=r[n],e[n]=i)}else e[o]=i}function z(t,e,n){var o,i,r=0,a=z.prefilters.length,s=pt.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var e=ke||I(),n=Math.max(0,d.startTime+d.duration-e),o=n/d.duration||0,r=1-o,a=0,l=d.tweens.length;l>a;a++)d.tweens[a].run(r);return s.notifyWith(t,[d,r,n]),1>r&&l?n:(s.resolveWith(t,[d]),!1)},d=s.promise({elem:t,props:pt.extend({},e),opts:pt.extend(!0,{specialEasing:{},easing:pt.easing._default},n),originalProperties:e,originalOptions:n,startTime:ke||I(),duration:n.duration,tweens:[],createTween:function(e,n){var o=pt.Tween(t,d.opts,e,n,d.opts.specialEasing[e]||d.opts.easing);return d.tweens.push(o),o},stop:function(e){var n=0,o=e?d.tweens.length:0;if(i)return this;for(i=!0;o>n;n++)d.tweens[n].run(1);return e?(s.notifyWith(t,[d,1,0]),s.resolveWith(t,[d,e])):s.rejectWith(t,[d,e]),this}}),u=d.props;for(q(u,d.opts.specialEasing);a>r;r++)if(o=z.prefilters[r].call(d,t,u,d.opts))return pt.isFunction(o.stop)&&(pt._queueHooks(d.elem,d.opts.queue).stop=pt.proxy(o.stop,o)),o;return pt.map(u,H,d),pt.isFunction(d.opts.start)&&d.opts.start.call(t,d),pt.fx.timer(pt.extend(l,{elem:t,anim:d,queue:d.opts.queue})),d.progress(d.opts.progress).done(d.opts.done,d.opts.complete).fail(d.opts.fail).always(d.opts.always)}function W(t){return pt.attr(t,"class")||""}function V(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var o,i=0,r=e.toLowerCase().match(Nt)||[];if(pt.isFunction(n))for(;o=r[i++];)"+"===o.charAt(0)?(o=o.slice(1)||"*",(t[o]=t[o]||[]).unshift(n)):(t[o]=t[o]||[]).push(n)}}function U(t,e,n,o){function i(s){var l;return r[s]=!0,pt.each(t[s]||[],function(t,s){var d=s(e,n,o);return"string"!=typeof d||a||r[d]?a?!(l=d):void 0:(e.dataTypes.unshift(d),i(d),!1)}),l}var r={},a=t===Qe;return i(e.dataTypes[0])||!r["*"]&&i("*")}function J(t,e){var n,o,i=pt.ajaxSettings.flatOptions||{};for(o in e)void 0!==e[o]&&((i[o]?t:n||(n={}))[o]=e[o]);return n&&pt.extend(!0,t,n),t}function X(t,e,n){for(var o,i,r,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){l.unshift(a);break}if(l[0]in n)r=l[0];else{for(a in n){if(!l[0]||t.converters[a+" "+l[0]]){r=a;break}o||(o=a)}r=r||o}return r?(r!==l[0]&&l.unshift(r),n[r]):void 0}function K(t,e,n,o){var i,r,a,s,l,d={},u=t.dataTypes.slice();if(u[1])for(a in t.converters)d[a.toLowerCase()]=t.converters[a];for(r=u.shift();r;)if(t.responseFields[r]&&(n[t.responseFields[r]]=e),!l&&o&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(a=d[l+" "+r]||d["* "+r],!a)for(i in d)if(s=i.split(" "),s[1]===r&&(a=d[l+" "+s[0]]||d["* "+s[0]])){a===!0?a=d[i]:d[i]!==!0&&(r=s[0],u.unshift(s[1]));break}if(a!==!0)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(c){return{state:"parsererror",error:a?c:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}function Y(t){return t.style&&t.style.display||pt.css(t,"display")}function Q(t){for(;t&&1===t.nodeType;){if("none"===Y(t)||"hidden"===t.type)return!0;t=t.parentNode}return!1}function G(t,e,n,o){var i;if(pt.isArray(e))pt.each(e,function(e,i){n||nn.test(t)?o(t,i):G(t+"["+("object"==typeof i&&null!=i?e:"")+"]",i,n,o)});else if(n||"object"!==pt.type(e))o(t,e);else for(i in e)G(t+"["+i+"]",e[i],n,o)}function Z(){try{return new t.XMLHttpRequest}catch(e){}}function tt(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function et(t){return pt.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var nt=[],ot=t.document,it=nt.slice,rt=nt.concat,at=nt.push,st=nt.indexOf,lt={},dt=lt.toString,ut=lt.hasOwnProperty,ct={},ht="1.12.0",pt=function(t,e){return new pt.fn.init(t,e)},ft=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,mt=/^-ms-/,gt=/-([\da-z])/gi,vt=function(t,e){return e.toUpperCase()};pt.fn=pt.prototype={jquery:ht,constructor:pt,selector:"",length:0,toArray:function(){return it.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:it.call(this)},pushStack:function(t){var e=pt.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return pt.each(this,t)},map:function(t){return this.pushStack(pt.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(it.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:at,sort:nt.sort,splice:nt.splice},pt.extend=pt.fn.extend=function(){var t,e,n,o,i,r,a=arguments[0]||{},s=1,l=arguments.length,d=!1;for("boolean"==typeof a&&(d=a,a=arguments[s]||{},s++),"object"==typeof a||pt.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(i=arguments[s]))for(o in i)t=a[o],n=i[o],a!==n&&(d&&n&&(pt.isPlainObject(n)||(e=pt.isArray(n)))?(e?(e=!1,r=t&&pt.isArray(t)?t:[]):r=t&&pt.isPlainObject(t)?t:{},a[o]=pt.extend(d,r,n)):void 0!==n&&(a[o]=n));return a},pt.extend({expando:"jQuery"+(ht+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===pt.type(t)},isArray:Array.isArray||function(t){return"array"===pt.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){var e=t&&t.toString();return!pt.isArray(t)&&e-parseFloat(e)+1>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==pt.type(t)||t.nodeType||pt.isWindow(t))return!1;try{if(t.constructor&&!ut.call(t,"constructor")&&!ut.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(!ct.ownFirst)for(e in t)return ut.call(t,e);for(e in t);return void 0===e||ut.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?lt[dt.call(t)]||"object":typeof t},globalEval:function(e){e&&pt.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(mt,"ms-").replace(gt,vt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var o,i=0;if(n(t))for(o=t.length;o>i&&e.call(t[i],i,t[i])!==!1;i++);else for(i in t)if(e.call(t[i],i,t[i])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(ft,"")},makeArray:function(t,e){var o=e||[];return null!=t&&(n(Object(t))?pt.merge(o,"string"==typeof t?[t]:t):at.call(o,t)),o},inArray:function(t,e,n){var o;if(e){if(st)return st.call(e,t,n);for(o=e.length,n=n?0>n?Math.max(0,o+n):n:0;o>n;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,o=0,i=t.length;n>o;)t[i++]=e[o++];if(n!==n)for(;void 0!==e[o];)t[i++]=e[o++];return t.length=i,t},grep:function(t,e,n){for(var o,i=[],r=0,a=t.length,s=!n;a>r;r++)o=!e(t[r],r),o!==s&&i.push(t[r]);return i},map:function(t,e,o){var i,r,a=0,s=[];if(n(t))for(i=t.length;i>a;a++)r=e(t[a],a,o),null!=r&&s.push(r);else for(a in t)r=e(t[a],a,o),null!=r&&s.push(r);return rt.apply([],s)},guid:1,proxy:function(t,e){var n,o,i;return"string"==typeof e&&(i=t[e],e=t,t=i),pt.isFunction(t)?(n=it.call(arguments,2),o=function(){return t.apply(e||this,n.concat(it.call(arguments)))},o.guid=t.guid=t.guid||pt.guid++,o):void 0},now:function(){return+new Date},support:ct}),"function"==typeof Symbol&&(pt.fn[Symbol.iterator]=nt[Symbol.iterator]),pt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){lt["[object "+e+"]"]=e.toLowerCase()});var yt=/*!
 * Sizzle CSS Selector Engine v2.2.1
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-10-17
 */
function(t){function e(t,e,n,o){var i,r,a,s,l,d,c,p,f=e&&e.ownerDocument,m=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==m&&9!==m&&11!==m)return n;if(!o&&((e?e.ownerDocument||e:H)!==A&&M(e),e=e||A,P)){if(11!==m&&(d=vt.exec(t)))if(i=d[1]){if(9===m){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&I(e,a)&&a.id===i)return n.push(a),n}else{if(d[2])return G.apply(n,e.getElementsByTagName(t)),n;if((i=d[3])&&w.getElementsByClassName&&e.getElementsByClassName)return G.apply(n,e.getElementsByClassName(i)),n}if(w.qsa&&!V[t+" "]&&(!L||!L.test(t))){if(1!==m)f=e,p=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(_t,"\\$&"):e.setAttribute("id",s=R),c=k(t),r=c.length,l=ht.test(s)?"#"+s:"[id='"+s+"']";r--;)c[r]=l+" "+h(c[r]);p=c.join(","),f=yt.test(t)&&u(e.parentNode)||e}if(p)try{return G.apply(n,f.querySelectorAll(p)),n}catch(g){}finally{s===R&&e.removeAttribute("id")}}}return $(t.replace(st,"$1"),e,n,o)}function n(){function t(n,o){return e.push(n+" ")>C.cacheLength&&delete t[e.shift()],t[n+" "]=o}var e=[];return t}function o(t){return t[R]=!0,t}function i(t){var e=A.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function r(t,e){for(var n=t.split("|"),o=n.length;o--;)C.attrHandle[n[o]]=e}function a(t,e){var n=e&&t,o=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||J)-(~t.sourceIndex||J);if(o)return o;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function d(t){return o(function(e){return e=+e,o(function(n,o){for(var i,r=t([],n.length,e),a=r.length;a--;)n[i=r[a]]&&(n[i]=!(o[i]=n[i]))})})}function u(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function c(){}function h(t){for(var e=0,n=t.length,o="";n>e;e++)o+=t[e].value;return o}function p(t,e,n){var o=e.dir,i=n&&"parentNode"===o,r=q++;return e.first?function(e,n,r){for(;e=e[o];)if(1===e.nodeType||i)return t(e,n,r)}:function(e,n,a){var s,l,d,u=[j,r];if(a){for(;e=e[o];)if((1===e.nodeType||i)&&t(e,n,a))return!0}else for(;e=e[o];)if(1===e.nodeType||i){if(d=e[R]||(e[R]={}),l=d[e.uniqueID]||(d[e.uniqueID]={}),(s=l[o])&&s[0]===j&&s[1]===r)return u[2]=s[2];if(l[o]=u,u[2]=t(e,n,a))return!0}}}function f(t){return t.length>1?function(e,n,o){for(var i=t.length;i--;)if(!t[i](e,n,o))return!1;return!0}:t[0]}function m(t,n,o){for(var i=0,r=n.length;r>i;i++)e(t,n[i],o);return o}function g(t,e,n,o,i){for(var r,a=[],s=0,l=t.length,d=null!=e;l>s;s++)(r=t[s])&&(!n||n(r,o,i))&&(a.push(r),d&&e.push(s));return a}function v(t,e,n,i,r,a){return i&&!i[R]&&(i=v(i)),r&&!r[R]&&(r=v(r,a)),o(function(o,a,s,l){var d,u,c,h=[],p=[],f=a.length,v=o||m(e||"*",s.nodeType?[s]:s,[]),y=!t||!o&&e?v:g(v,h,t,s,l),_=n?r||(o?t:f||i)?[]:a:y;if(n&&n(y,_,s,l),i)for(d=g(_,p),i(d,[],s,l),u=d.length;u--;)(c=d[u])&&(_[p[u]]=!(y[p[u]]=c));if(o){if(r||t){if(r){for(d=[],u=_.length;u--;)(c=_[u])&&d.push(y[u]=c);r(null,_=[],d,l)}for(u=_.length;u--;)(c=_[u])&&(d=r?tt(o,c):h[u])>-1&&(o[d]=!(a[d]=c))}}else _=g(_===a?_.splice(f,_.length):_),r?r(null,a,_,l):G.apply(a,_)})}function y(t){for(var e,n,o,i=t.length,r=C.relative[t[0].type],a=r||C.relative[" "],s=r?1:0,l=p(function(t){return t===e},a,!0),d=p(function(t){return tt(e,t)>-1},a,!0),u=[function(t,n,o){var i=!r&&(o||n!==E)||((e=n).nodeType?l(t,n,o):d(t,n,o));return e=null,i}];i>s;s++)if(n=C.relative[t[s].type])u=[p(f(u),n)];else{if(n=C.filter[t[s].type].apply(null,t[s].matches),n[R]){for(o=++s;i>o&&!C.relative[t[o].type];o++);return v(s>1&&f(u),s>1&&h(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(st,"$1"),n,o>s&&y(t.slice(s,o)),i>o&&y(t=t.slice(o)),i>o&&h(t))}u.push(n)}return f(u)}function _(t,n){var i=n.length>0,r=t.length>0,a=function(o,a,s,l,d){var u,c,h,p=0,f="0",m=o&&[],v=[],y=E,_=o||r&&C.find.TAG("*",d),b=j+=null==y?1:Math.random()||.1,w=_.length;for(d&&(E=a===A||a||d);f!==w&&null!=(u=_[f]);f++){if(r&&u){for(c=0,a||u.ownerDocument===A||(M(u),s=!P);h=t[c++];)if(h(u,a||A,s)){l.push(u);break}d&&(j=b)}i&&((u=!h&&u)&&p--,o&&m.push(u))}if(p+=f,i&&f!==p){for(c=0;h=n[c++];)h(m,v,a,s);if(o){if(p>0)for(;f--;)m[f]||v[f]||(v[f]=Y.call(l));v=g(v)}G.apply(l,v),d&&!o&&v.length>0&&p+n.length>1&&e.uniqueSort(l)}return d&&(j=b,E=y),m};return i?o(a):a}var b,w,C,x,T,k,S,$,E,N,D,M,A,O,P,L,B,F,I,R="sizzle"+1*new Date,H=t.document,j=0,q=0,z=n(),W=n(),V=n(),U=function(t,e){return t===e&&(D=!0),0},J=1<<31,X={}.hasOwnProperty,K=[],Y=K.pop,Q=K.push,G=K.push,Z=K.slice,tt=function(t,e){for(var n=0,o=t.length;o>n;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",ot="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",it="\\["+nt+"*("+ot+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ot+"))|)"+nt+"*\\]",rt=":("+ot+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+it+")*)|.*)\\)|)",at=new RegExp(nt+"+","g"),st=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),dt=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ut=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ct=new RegExp(rt),ht=new RegExp("^"+ot+"$"),pt={ID:new RegExp("^#("+ot+")"),CLASS:new RegExp("^\\.("+ot+")"),TAG:new RegExp("^("+ot+"|[*])"),ATTR:new RegExp("^"+it),PSEUDO:new RegExp("^"+rt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},ft=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,_t=/'|\\/g,bt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),wt=function(t,e,n){var o="0x"+e-65536;return o!==o||n?e:0>o?String.fromCharCode(o+65536):String.fromCharCode(o>>10|55296,1023&o|56320)},Ct=function(){M()};try{G.apply(K=Z.call(H.childNodes),H.childNodes),K[H.childNodes.length].nodeType}catch(xt){G={apply:K.length?function(t,e){Q.apply(t,Z.call(e))}:function(t,e){for(var n=t.length,o=0;t[n++]=e[o++];);t.length=n-1}}}w=e.support={},T=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},M=e.setDocument=function(t){var e,n,o=t?t.ownerDocument||t:H;return o!==A&&9===o.nodeType&&o.documentElement?(A=o,O=A.documentElement,P=!T(A),(n=A.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Ct,!1):n.attachEvent&&n.attachEvent("onunload",Ct)),w.attributes=i(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=i(function(t){return t.appendChild(A.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=gt.test(A.getElementsByClassName),w.getById=i(function(t){return O.appendChild(t).id=R,!A.getElementsByName||!A.getElementsByName(R).length}),w.getById?(C.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&P){var n=e.getElementById(t);return n?[n]:[]}},C.filter.ID=function(t){var e=t.replace(bt,wt);return function(t){return t.getAttribute("id")===e}}):(delete C.find.ID,C.filter.ID=function(t){var e=t.replace(bt,wt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),C.find.TAG=w.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,o=[],i=0,r=e.getElementsByTagName(t);if("*"===t){for(;n=r[i++];)1===n.nodeType&&o.push(n);return o}return r},C.find.CLASS=w.getElementsByClassName&&function(t,e){return"undefined"!=typeof e.getElementsByClassName&&P?e.getElementsByClassName(t):void 0},B=[],L=[],(w.qsa=gt.test(A.querySelectorAll))&&(i(function(t){O.appendChild(t).innerHTML="<a id='"+R+"'></a><select id='"+R+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||L.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+R+"-]").length||L.push("~="),t.querySelectorAll(":checked").length||L.push(":checked"),t.querySelectorAll("a#"+R+"+*").length||L.push(".#.+[+~]")}),i(function(t){var e=A.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&L.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),L.push(",.*:")})),(w.matchesSelector=gt.test(F=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&i(function(t){w.disconnectedMatch=F.call(t,"div"),F.call(t,"[s!='']:x"),B.push("!=",rt)}),L=L.length&&new RegExp(L.join("|")),B=B.length&&new RegExp(B.join("|")),e=gt.test(O.compareDocumentPosition),I=e||gt.test(O.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,o=e&&e.parentNode;return t===o||!(!o||1!==o.nodeType||!(n.contains?n.contains(o):t.compareDocumentPosition&&16&t.compareDocumentPosition(o)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},U=e?function(t,e){if(t===e)return D=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!w.sortDetached&&e.compareDocumentPosition(t)===n?t===A||t.ownerDocument===H&&I(H,t)?-1:e===A||e.ownerDocument===H&&I(H,e)?1:N?tt(N,t)-tt(N,e):0:4&n?-1:1)}:function(t,e){if(t===e)return D=!0,0;var n,o=0,i=t.parentNode,r=e.parentNode,s=[t],l=[e];if(!i||!r)return t===A?-1:e===A?1:i?-1:r?1:N?tt(N,t)-tt(N,e):0;if(i===r)return a(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;s[o]===l[o];)o++;return o?a(s[o],l[o]):s[o]===H?-1:l[o]===H?1:0},A):A},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==A&&M(t),n=n.replace(ut,"='$1']"),w.matchesSelector&&P&&!V[n+" "]&&(!B||!B.test(n))&&(!L||!L.test(n)))try{var o=F.call(t,n);if(o||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return o}catch(i){}return e(n,A,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==A&&M(t),I(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==A&&M(t);var n=C.attrHandle[e.toLowerCase()],o=n&&X.call(C.attrHandle,e.toLowerCase())?n(t,e,!P):void 0;return void 0!==o?o:w.attributes||!P?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],o=0,i=0;if(D=!w.detectDuplicates,N=!w.sortStable&&t.slice(0),t.sort(U),D){for(;e=t[i++];)e===t[i]&&(o=n.push(i));for(;o--;)t.splice(n[o],1)}return N=null,t},x=e.getText=function(t){var e,n="",o=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=x(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[o++];)n+=x(e);return n},C=e.selectors={cacheLength:50,createPseudo:o,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(bt,wt),t[3]=(t[3]||t[4]||t[5]||"").replace(bt,wt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ct.test(n)&&(e=k(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(bt,wt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=z[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&z(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,o){return function(i){var r=e.attr(i,t);return null==r?"!="===n:n?(r+="","="===n?r===o:"!="===n?r!==o:"^="===n?o&&0===r.indexOf(o):"*="===n?o&&r.indexOf(o)>-1:"$="===n?o&&r.slice(-o.length)===o:"~="===n?(" "+r.replace(at," ")+" ").indexOf(o)>-1:"|="===n?r===o||r.slice(0,o.length+1)===o+"-":!1):!0}},CHILD:function(t,e,n,o,i){var r="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===o&&0===i?function(t){return!!t.parentNode}:function(e,n,l){var d,u,c,h,p,f,m=r!==a?"nextSibling":"previousSibling",g=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s,_=!1;if(g){if(r){for(;m;){for(h=e;h=h[m];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=m="only"===t&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&y){for(h=g,c=h[R]||(h[R]={}),u=c[h.uniqueID]||(c[h.uniqueID]={}),d=u[t]||[],p=d[0]===j&&d[1],_=p&&d[2],h=p&&g.childNodes[p];h=++p&&h&&h[m]||(_=p=0)||f.pop();)if(1===h.nodeType&&++_&&h===e){u[t]=[j,p,_];break}}else if(y&&(h=e,c=h[R]||(h[R]={}),u=c[h.uniqueID]||(c[h.uniqueID]={}),d=u[t]||[],p=d[0]===j&&d[1],_=p),_===!1)for(;(h=++p&&h&&h[m]||(_=p=0)||f.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++_||(y&&(c=h[R]||(h[R]={}),u=c[h.uniqueID]||(c[h.uniqueID]={}),u[t]=[j,_]),h!==e)););return _-=i,_===o||_%o===0&&_/o>=0}}},PSEUDO:function(t,n){var i,r=C.pseudos[t]||C.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return r[R]?r(n):r.length>1?(i=[t,t,"",n],C.setFilters.hasOwnProperty(t.toLowerCase())?o(function(t,e){for(var o,i=r(t,n),a=i.length;a--;)o=tt(t,i[a]),t[o]=!(e[o]=i[a])}):function(t){return r(t,0,i)}):r}},pseudos:{not:o(function(t){var e=[],n=[],i=S(t.replace(st,"$1"));return i[R]?o(function(t,e,n,o){for(var r,a=i(t,null,o,[]),s=t.length;s--;)(r=a[s])&&(t[s]=!(e[s]=r))}):function(t,o,r){return e[0]=t,i(e,null,r,n),e[0]=null,!n.pop()}}),has:o(function(t){return function(n){return e(t,n).length>0}}),contains:o(function(t){return t=t.replace(bt,wt),function(e){return(e.textContent||e.innerText||x(e)).indexOf(t)>-1}}),lang:o(function(t){return ht.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(bt,wt).toLowerCase(),function(e){var n;do if(n=P?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===O},focus:function(t){return t===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!C.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return ft.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:d(function(){return[0]}),last:d(function(t,e){return[e-1]}),eq:d(function(t,e,n){return[0>n?n+e:n]}),even:d(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:d(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:d(function(t,e,n){for(var o=0>n?n+e:n;--o>=0;)t.push(o);return t}),gt:d(function(t,e,n){for(var o=0>n?n+e:n;++o<e;)t.push(o);return t})}},C.pseudos.nth=C.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[b]=s(b);for(b in{submit:!0,reset:!0})C.pseudos[b]=l(b);return c.prototype=C.filters=C.pseudos,C.setFilters=new c,k=e.tokenize=function(t,n){var o,i,r,a,s,l,d,u=W[t+" "];if(u)return n?0:u.slice(0);for(s=t,l=[],d=C.preFilter;s;){(!o||(i=lt.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),l.push(r=[])),o=!1,(i=dt.exec(s))&&(o=i.shift(),r.push({value:o,type:i[0].replace(st," ")}),s=s.slice(o.length));for(a in C.filter)!(i=pt[a].exec(s))||d[a]&&!(i=d[a](i))||(o=i.shift(),r.push({value:o,type:a,matches:i}),s=s.slice(o.length));if(!o)break}return n?s.length:s?e.error(t):W(t,l).slice(0)},S=e.compile=function(t,e){var n,o=[],i=[],r=V[t+" "];if(!r){for(e||(e=k(t)),n=e.length;n--;)r=y(e[n]),r[R]?o.push(r):i.push(r);r=V(t,_(i,o)),r.selector=t}return r},$=e.select=function(t,e,n,o){var i,r,a,s,l,d="function"==typeof t&&t,c=!o&&k(t=d.selector||t);if(n=n||[],1===c.length){if(r=c[0]=c[0].slice(0),r.length>2&&"ID"===(a=r[0]).type&&w.getById&&9===e.nodeType&&P&&C.relative[r[1].type]){if(e=(C.find.ID(a.matches[0].replace(bt,wt),e)||[])[0],!e)return n;d&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(i=pt.needsContext.test(t)?0:r.length;i--&&(a=r[i],!C.relative[s=a.type]);)if((l=C.find[s])&&(o=l(a.matches[0].replace(bt,wt),yt.test(r[0].type)&&u(e.parentNode)||e))){if(r.splice(i,1),t=o.length&&h(r),!t)return G.apply(n,o),n;break}}return(d||S(t,c))(o,e,!P,n,!e||yt.test(t)&&u(e.parentNode)||e),n},w.sortStable=R.split("").sort(U).join("")===R,w.detectDuplicates=!!D,M(),w.sortDetached=i(function(t){return 1&t.compareDocumentPosition(A.createElement("div"))}),i(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||r("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&i(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||r("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),i(function(t){return null==t.getAttribute("disabled")})||r(et,function(t,e,n){var o;return n?void 0:t[e]===!0?e.toLowerCase():(o=t.getAttributeNode(e))&&o.specified?o.value:null}),e}(t);pt.find=yt,pt.expr=yt.selectors,pt.expr[":"]=pt.expr.pseudos,pt.uniqueSort=pt.unique=yt.uniqueSort,pt.text=yt.getText,pt.isXMLDoc=yt.isXML,pt.contains=yt.contains;var _t=function(t,e,n){for(var o=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&pt(t).is(n))break;o.push(t)}return o},bt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},wt=pt.expr.match.needsContext,Ct=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,xt=/^.[^:#\[\.,]*$/;pt.filter=function(t,e,n){var o=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===o.nodeType?pt.find.matchesSelector(o,t)?[o]:[]:pt.find.matches(t,pt.grep(e,function(t){return 1===t.nodeType}))},pt.fn.extend({find:function(t){var e,n=[],o=this,i=o.length;if("string"!=typeof t)return this.pushStack(pt(t).filter(function(){for(e=0;i>e;e++)if(pt.contains(o[e],this))return!0}));for(e=0;i>e;e++)pt.find(t,o[e],n);return n=this.pushStack(i>1?pt.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(o(this,t||[],!1))},not:function(t){return this.pushStack(o(this,t||[],!0))},is:function(t){return!!o(this,"string"==typeof t&&wt.test(t)?pt(t):t||[],!1).length}});var Tt,kt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,St=pt.fn.init=function(t,e,n){var o,i;if(!t)return this;if(n=n||Tt,"string"==typeof t){if(o="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:kt.exec(t),!o||!o[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(o[1]){if(e=e instanceof pt?e[0]:e,pt.merge(this,pt.parseHTML(o[1],e&&e.nodeType?e.ownerDocument||e:ot,!0)),Ct.test(o[1])&&pt.isPlainObject(e))for(o in e)pt.isFunction(this[o])?this[o](e[o]):this.attr(o,e[o]);return this}if(i=ot.getElementById(o[2]),i&&i.parentNode){if(i.id!==o[2])return Tt.find(t);this.length=1,this[0]=i}return this.context=ot,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):pt.isFunction(t)?"undefined"!=typeof n.ready?n.ready(t):t(pt):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),pt.makeArray(t,this))};St.prototype=pt.fn,Tt=pt(ot);var $t=/^(?:parents|prev(?:Until|All))/,Et={children:!0,contents:!0,next:!0,prev:!0};pt.fn.extend({has:function(t){var e,n=pt(t,this),o=n.length;return this.filter(function(){for(e=0;o>e;e++)if(pt.contains(this,n[e]))return!0})},closest:function(t,e){for(var n,o=0,i=this.length,r=[],a=wt.test(t)||"string"!=typeof t?pt(t,e||this.context):0;i>o;o++)for(n=this[o];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&pt.find.matchesSelector(n,t))){r.push(n);break}return this.pushStack(r.length>1?pt.uniqueSort(r):r)},index:function(t){return t?"string"==typeof t?pt.inArray(this[0],pt(t)):pt.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(pt.uniqueSort(pt.merge(this.get(),pt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),pt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return _t(t,"parentNode")},parentsUntil:function(t,e,n){return _t(t,"parentNode",n)},next:function(t){return i(t,"nextSibling")},prev:function(t){return i(t,"previousSibling")},nextAll:function(t){return _t(t,"nextSibling")},prevAll:function(t){return _t(t,"previousSibling")},nextUntil:function(t,e,n){return _t(t,"nextSibling",n)},prevUntil:function(t,e,n){return _t(t,"previousSibling",n)},siblings:function(t){return bt((t.parentNode||{}).firstChild,t)},children:function(t){return bt(t.firstChild)},contents:function(t){return pt.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:pt.merge([],t.childNodes)}},function(t,e){pt.fn[t]=function(n,o){var i=pt.map(this,e,n);return"Until"!==t.slice(-5)&&(o=n),o&&"string"==typeof o&&(i=pt.filter(o,i)),this.length>1&&(Et[t]||(i=pt.uniqueSort(i)),$t.test(t)&&(i=i.reverse())),this.pushStack(i)}});var Nt=/\S+/g;pt.Callbacks=function(t){t="string"==typeof t?r(t):pt.extend({},t);var e,n,o,i,a=[],s=[],l=-1,d=function(){for(i=t.once,o=e=!0;s.length;l=-1)for(n=s.shift();++l<a.length;)a[l].apply(n[0],n[1])===!1&&t.stopOnFalse&&(l=a.length,n=!1);t.memory||(n=!1),e=!1,i&&(a=n?[]:"")},u={add:function(){return a&&(n&&!e&&(l=a.length-1,s.push(n)),function o(e){pt.each(e,function(e,n){pt.isFunction(n)?t.unique&&u.has(n)||a.push(n):n&&n.length&&"string"!==pt.type(n)&&o(n)})}(arguments),n&&!e&&d()),this},remove:function(){return pt.each(arguments,function(t,e){for(var n;(n=pt.inArray(e,a,n))>-1;)a.splice(n,1),l>=n&&l--}),this},has:function(t){return t?pt.inArray(t,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return i=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return i=!0,n||u.disable(),this},locked:function(){return!!i},fireWith:function(t,n){return i||(n=n||[],n=[t,n.slice?n.slice():n],s.push(n),e||d()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!o}};return u},pt.extend({Deferred:function(t){var e=[["resolve","done",pt.Callbacks("once memory"),"resolved"],["reject","fail",pt.Callbacks("once memory"),"rejected"],["notify","progress",pt.Callbacks("memory")]],n="pending",o={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var t=arguments;return pt.Deferred(function(n){pt.each(e,function(e,r){var a=pt.isFunction(t[e])&&t[e];i[r[1]](function(){var t=a&&a.apply(this,arguments);t&&pt.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this===o?n.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?pt.extend(t,o):o}},i={};return o.pipe=o.then,pt.each(e,function(t,r){var a=r[2],s=r[3];o[r[1]]=a.add,s&&a.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),i[r[0]]=function(){return i[r[0]+"With"](this===i?o:this,arguments),this},i[r[0]+"With"]=a.fireWith}),o.promise(i),t&&t.call(i,i),i},when:function(t){var e,n,o,i=0,r=it.call(arguments),a=r.length,s=1!==a||t&&pt.isFunction(t.promise)?a:0,l=1===s?t:pt.Deferred(),d=function(t,n,o){return function(i){n[t]=this,o[t]=arguments.length>1?it.call(arguments):i,o===e?l.notifyWith(n,o):--s||l.resolveWith(n,o)}};if(a>1)for(e=new Array(a),n=new Array(a),o=new Array(a);a>i;i++)r[i]&&pt.isFunction(r[i].promise)?r[i].promise().progress(d(i,n,e)).done(d(i,o,r)).fail(l.reject):--s;return s||l.resolveWith(o,r),l.promise()}});var Dt;pt.fn.ready=function(t){return pt.ready.promise().done(t),this},pt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?pt.readyWait++:pt.ready(!0)},ready:function(t){(t===!0?--pt.readyWait:pt.isReady)||(pt.isReady=!0,t!==!0&&--pt.readyWait>0||(Dt.resolveWith(ot,[pt]),pt.fn.triggerHandler&&(pt(ot).triggerHandler("ready"),pt(ot).off("ready"))))}}),pt.ready.promise=function(e){if(!Dt)if(Dt=pt.Deferred(),"complete"===ot.readyState)t.setTimeout(pt.ready);else if(ot.addEventListener)ot.addEventListener("DOMContentLoaded",s),t.addEventListener("load",s);else{ot.attachEvent("onreadystatechange",s),t.attachEvent("onload",s);var n=!1;try{n=null==t.frameElement&&ot.documentElement}catch(o){}n&&n.doScroll&&!function i(){if(!pt.isReady){try{n.doScroll("left")}catch(e){return t.setTimeout(i,50)}a(),pt.ready()}}()}return Dt.promise(e)},pt.ready.promise();var Mt;for(Mt in pt(ct))break;ct.ownFirst="0"===Mt,ct.inlineBlockNeedsLayout=!1,pt(function(){var t,e,n,o;n=ot.getElementsByTagName("body")[0],n&&n.style&&(e=ot.createElement("div"),o=ot.createElement("div"),o.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(o).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ct.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(n.style.zoom=1)),n.removeChild(o))}),function(){var t=ot.createElement("div");ct.deleteExpando=!0;try{delete t.test}catch(e){ct.deleteExpando=!1}t=null}();var At=function(t){var e=pt.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return 1!==n&&9!==n?!1:!e||e!==!0&&t.getAttribute("classid")===e},Ot=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Pt=/([A-Z])/g;pt.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?pt.cache[t[pt.expando]]:t[pt.expando],!!t&&!d(t)},data:function(t,e,n){return u(t,e,n)},removeData:function(t,e){return c(t,e)},_data:function(t,e,n){return u(t,e,n,!0)},_removeData:function(t,e){return c(t,e,!0)}}),pt.fn.extend({data:function(t,e){var n,o,i,r=this[0],a=r&&r.attributes;if(void 0===t){if(this.length&&(i=pt.data(r),1===r.nodeType&&!pt._data(r,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&(o=a[n].name,0===o.indexOf("data-")&&(o=pt.camelCase(o.slice(5)),l(r,o,i[o])));pt._data(r,"parsedAttrs",!0)}return i}return"object"==typeof t?this.each(function(){pt.data(this,t)}):arguments.length>1?this.each(function(){pt.data(this,t,e)}):r?l(r,t,pt.data(r,t)):void 0},removeData:function(t){return this.each(function(){pt.removeData(this,t)})}}),pt.extend({queue:function(t,e,n){var o;return t?(e=(e||"fx")+"queue",o=pt._data(t,e),n&&(!o||pt.isArray(n)?o=pt._data(t,e,pt.makeArray(n)):o.push(n)),o||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=pt.queue(t,e),o=n.length,i=n.shift(),r=pt._queueHooks(t,e),a=function(){pt.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),o--),i&&("fx"===e&&n.unshift("inprogress"),delete r.stop,i.call(t,a,r)),!o&&r&&r.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return pt._data(t,n)||pt._data(t,n,{empty:pt.Callbacks("once memory").add(function(){pt._removeData(t,e+"queue"),pt._removeData(t,n)})})}}),pt.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?pt.queue(this[0],t):void 0===e?this:this.each(function(){var n=pt.queue(this,t,e);pt._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&pt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){pt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,o=1,i=pt.Deferred(),r=this,a=this.length,s=function(){--o||i.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)n=pt._data(r[a],t+"queueHooks"),n&&n.empty&&(o++,n.empty.add(s));return s(),i.promise(e)}}),function(){var t;ct.shrinkWrapBlocks=function(){if(null!=t)return t;t=!1;var e,n,o;return n=ot.getElementsByTagName("body")[0],n&&n.style?(e=ot.createElement("div"),o=ot.createElement("div"),o.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(o).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(ot.createElement("div")).style.width="5px",t=3!==e.offsetWidth),n.removeChild(o),t):void 0}}();var Lt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Bt=new RegExp("^(?:([+-])=|)("+Lt+")([a-z%]*)$","i"),Ft=["Top","Right","Bottom","Left"],It=function(t,e){return t=e||t,"none"===pt.css(t,"display")||!pt.contains(t.ownerDocument,t)},Rt=function(t,e,n,o,i,r,a){var s=0,l=t.length,d=null==n;if("object"===pt.type(n)){i=!0;for(s in n)Rt(t,e,s,n[s],!0,r,a)}else if(void 0!==o&&(i=!0,pt.isFunction(o)||(a=!0),d&&(a?(e.call(t,o),e=null):(d=e,e=function(t,e,n){return d.call(pt(t),n)})),e))for(;l>s;s++)e(t[s],n,a?o:o.call(t[s],s,e(t[s],n)));return i?t:d?e.call(t):l?e(t[0],n):r},Ht=/^(?:checkbox|radio)$/i,jt=/<([\w:-]+)/,qt=/^$|\/(?:java|ecma)script/i,zt=/^\s+/,Wt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";!function(){var t=ot.createElement("div"),e=ot.createDocumentFragment(),n=ot.createElement("input");t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ct.leadingWhitespace=3===t.firstChild.nodeType,ct.tbody=!t.getElementsByTagName("tbody").length,ct.htmlSerialize=!!t.getElementsByTagName("link").length,ct.html5Clone="<:nav></:nav>"!==ot.createElement("nav").cloneNode(!0).outerHTML,n.type="checkbox",n.checked=!0,e.appendChild(n),ct.appendChecked=n.checked,t.innerHTML="<textarea>x</textarea>",ct.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,e.appendChild(t),n=ot.createElement("input"),n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),ct.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,ct.noCloneEvent=!!t.addEventListener,t[pt.expando]=1,ct.attributes=!t.getAttribute(pt.expando)}();var Vt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ct.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Vt.optgroup=Vt.option,Vt.tbody=Vt.tfoot=Vt.colgroup=Vt.caption=Vt.thead,Vt.th=Vt.td;var Ut=/<|&#?\w+;/,Jt=/<tbody/i;!function(){var e,n,o=ot.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})n="on"+e,(ct[e]=n in t)||(o.setAttribute(n,"t"),ct[e]=o.attributes[n].expando===!1);o=null}();var Xt=/^(?:input|select|textarea)$/i,Kt=/^key/,Yt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Qt=/^(?:focusinfocus|focusoutblur)$/,Gt=/^([^.]*)(?:\.(.+)|)/;pt.event={global:{},add:function(t,e,n,o,i){var r,a,s,l,d,u,c,h,p,f,m,g=pt._data(t);if(g){for(n.handler&&(l=n,n=l.handler,i=l.selector),n.guid||(n.guid=pt.guid++),(a=g.events)||(a=g.events={}),(u=g.handle)||(u=g.handle=function(t){return"undefined"==typeof pt||t&&pt.event.triggered===t.type?void 0:pt.event.dispatch.apply(u.elem,arguments)},u.elem=t),e=(e||"").match(Nt)||[""],s=e.length;s--;)r=Gt.exec(e[s])||[],p=m=r[1],f=(r[2]||"").split(".").sort(),p&&(d=pt.event.special[p]||{},p=(i?d.delegateType:d.bindType)||p,d=pt.event.special[p]||{},c=pt.extend({type:p,origType:m,data:o,handler:n,guid:n.guid,selector:i,needsContext:i&&pt.expr.match.needsContext.test(i),
namespace:f.join(".")},l),(h=a[p])||(h=a[p]=[],h.delegateCount=0,d.setup&&d.setup.call(t,o,f,u)!==!1||(t.addEventListener?t.addEventListener(p,u,!1):t.attachEvent&&t.attachEvent("on"+p,u))),d.add&&(d.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,c):h.push(c),pt.event.global[p]=!0);t=null}},remove:function(t,e,n,o,i){var r,a,s,l,d,u,c,h,p,f,m,g=pt.hasData(t)&&pt._data(t);if(g&&(u=g.events)){for(e=(e||"").match(Nt)||[""],d=e.length;d--;)if(s=Gt.exec(e[d])||[],p=m=s[1],f=(s[2]||"").split(".").sort(),p){for(c=pt.event.special[p]||{},p=(o?c.delegateType:c.bindType)||p,h=u[p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=h.length;r--;)a=h[r],!i&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||o&&o!==a.selector&&("**"!==o||!a.selector)||(h.splice(r,1),a.selector&&h.delegateCount--,c.remove&&c.remove.call(t,a));l&&!h.length&&(c.teardown&&c.teardown.call(t,f,g.handle)!==!1||pt.removeEvent(t,p,g.handle),delete u[p])}else for(p in u)pt.event.remove(t,p+e[d],n,o,!0);pt.isEmptyObject(u)&&(delete g.handle,pt._removeData(t,"events"))}},trigger:function(e,n,o,i){var r,a,s,l,d,u,c,h=[o||ot],p=ut.call(e,"type")?e.type:e,f=ut.call(e,"namespace")?e.namespace.split("."):[];if(s=u=o=o||ot,3!==o.nodeType&&8!==o.nodeType&&!Qt.test(p+pt.event.triggered)&&(p.indexOf(".")>-1&&(f=p.split("."),p=f.shift(),f.sort()),a=p.indexOf(":")<0&&"on"+p,e=e[pt.expando]?e:new pt.Event(p,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=f.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=o),n=null==n?[e]:pt.makeArray(n,[e]),d=pt.event.special[p]||{},i||!d.trigger||d.trigger.apply(o,n)!==!1)){if(!i&&!d.noBubble&&!pt.isWindow(o)){for(l=d.delegateType||p,Qt.test(l+p)||(s=s.parentNode);s;s=s.parentNode)h.push(s),u=s;u===(o.ownerDocument||ot)&&h.push(u.defaultView||u.parentWindow||t)}for(c=0;(s=h[c++])&&!e.isPropagationStopped();)e.type=c>1?l:d.bindType||p,r=(pt._data(s,"events")||{})[e.type]&&pt._data(s,"handle"),r&&r.apply(s,n),r=a&&s[a],r&&r.apply&&At(s)&&(e.result=r.apply(s,n),e.result===!1&&e.preventDefault());if(e.type=p,!i&&!e.isDefaultPrevented()&&(!d._default||d._default.apply(h.pop(),n)===!1)&&At(o)&&a&&o[p]&&!pt.isWindow(o)){u=o[a],u&&(o[a]=null),pt.event.triggered=p;try{o[p]()}catch(m){}pt.event.triggered=void 0,u&&(o[a]=u)}return e.result}},dispatch:function(t){t=pt.event.fix(t);var e,n,o,i,r,a=[],s=it.call(arguments),l=(pt._data(this,"events")||{})[t.type]||[],d=pt.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!d.preDispatch||d.preDispatch.call(this,t)!==!1){for(a=pt.event.handlers.call(this,t,l),e=0;(i=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=i.elem,n=0;(r=i.handlers[n++])&&!t.isImmediatePropagationStopped();)(!t.rnamespace||t.rnamespace.test(r.namespace))&&(t.handleObj=r,t.data=r.data,o=((pt.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,s),void 0!==o&&(t.result=o)===!1&&(t.preventDefault(),t.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,o,i,r,a=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==t.type)){for(o=[],n=0;s>n;n++)r=e[n],i=r.selector+" ",void 0===o[i]&&(o[i]=r.needsContext?pt(i,this).index(l)>-1:pt.find(i,this,null,[l]).length),o[i]&&o.push(r);o.length&&a.push({elem:l,handlers:o})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},fix:function(t){if(t[pt.expando])return t;var e,n,o,i=t.type,r=t,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Yt.test(i)?this.mouseHooks:Kt.test(i)?this.keyHooks:{}),o=a.props?this.props.concat(a.props):this.props,t=new pt.Event(r),e=o.length;e--;)n=o[e],t[n]=r[n];return t.target||(t.target=r.srcElement||ot),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,a.filter?a.filter(t,r):t},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,o,i,r=e.button,a=e.fromElement;return null==t.pageX&&null!=e.clientX&&(o=t.target.ownerDocument||ot,i=o.documentElement,n=o.body,t.pageX=e.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&a&&(t.relatedTarget=a===t.target?e.toElement:a),t.which||void 0===r||(t.which=1&r?1:2&r?3:4&r?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==b()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===b()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return pt.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return pt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n){var o=pt.extend(new pt.Event,n,{type:t,isSimulated:!0});pt.event.trigger(o,null,e),o.isDefaultPrevented()&&n.preventDefault()}},pt.removeEvent=ot.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)}:function(t,e,n){var o="on"+e;t.detachEvent&&("undefined"==typeof t[o]&&(t[o]=null),t.detachEvent(o,n))},pt.Event=function(t,e){return this instanceof pt.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?y:_):this.type=t,e&&pt.extend(this,e),this.timeStamp=t&&t.timeStamp||pt.now(),void(this[pt.expando]=!0)):new pt.Event(t,e)},pt.Event.prototype={constructor:pt.Event,isDefaultPrevented:_,isPropagationStopped:_,isImmediatePropagationStopped:_,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=y,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=y,t&&!this.isSimulated&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=y,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},pt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){pt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,o=this,i=t.relatedTarget,r=t.handleObj;return(!i||i!==o&&!pt.contains(o,i))&&(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),ct.submit||(pt.event.special.submit={setup:function(){return pt.nodeName(this,"form")?!1:void pt.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=pt.nodeName(e,"input")||pt.nodeName(e,"button")?pt.prop(e,"form"):void 0;n&&!pt._data(n,"submit")&&(pt.event.add(n,"submit._submit",function(t){t._submitBubble=!0}),pt._data(n,"submit",!0))})},postDispatch:function(t){t._submitBubble&&(delete t._submitBubble,this.parentNode&&!t.isTrigger&&pt.event.simulate("submit",this.parentNode,t))},teardown:function(){return pt.nodeName(this,"form")?!1:void pt.event.remove(this,"._submit")}}),ct.change||(pt.event.special.change={setup:function(){return Xt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(pt.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._justChanged=!0)}),pt.event.add(this,"click._change",function(t){this._justChanged&&!t.isTrigger&&(this._justChanged=!1),pt.event.simulate("change",this,t)})),!1):void pt.event.add(this,"beforeactivate._change",function(t){var e=t.target;Xt.test(e.nodeName)&&!pt._data(e,"change")&&(pt.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||pt.event.simulate("change",this.parentNode,t)}),pt._data(e,"change",!0))})},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return pt.event.remove(this,"._change"),!Xt.test(this.nodeName)}}),ct.focusin||pt.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){pt.event.simulate(e,t.target,pt.event.fix(t))};pt.event.special[e]={setup:function(){var o=this.ownerDocument||this,i=pt._data(o,e);i||o.addEventListener(t,n,!0),pt._data(o,e,(i||0)+1)},teardown:function(){var o=this.ownerDocument||this,i=pt._data(o,e)-1;i?pt._data(o,e,i):(o.removeEventListener(t,n,!0),pt._removeData(o,e))}}}),pt.fn.extend({on:function(t,e,n,o){return w(this,t,e,n,o)},one:function(t,e,n,o){return w(this,t,e,n,o,1)},off:function(t,e,n){var o,i;if(t&&t.preventDefault&&t.handleObj)return o=t.handleObj,pt(t.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return(e===!1||"function"==typeof e)&&(n=e,e=void 0),n===!1&&(n=_),this.each(function(){pt.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){pt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?pt.event.trigger(t,e,n,!0):void 0}});var Zt=/ jQuery\d+="(?:null|\d+)"/g,te=new RegExp("<(?:"+Wt+")[\\s/>]","i"),ee=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ne=/<script|<style|<link/i,oe=/checked\s*(?:[^=]|=\s*.checked.)/i,ie=/^true\/(.*)/,re=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ae=p(ot),se=ae.appendChild(ot.createElement("div"));pt.extend({htmlPrefilter:function(t){return t.replace(ee,"<$1></$2>")},clone:function(t,e,n){var o,i,r,a,s,l=pt.contains(t.ownerDocument,t);if(ct.html5Clone||pt.isXMLDoc(t)||!te.test("<"+t.nodeName+">")?r=t.cloneNode(!0):(se.innerHTML=t.outerHTML,se.removeChild(r=se.firstChild)),!(ct.noCloneEvent&&ct.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||pt.isXMLDoc(t)))for(o=f(r),s=f(t),a=0;null!=(i=s[a]);++a)o[a]&&S(i,o[a]);if(e)if(n)for(s=s||f(t),o=o||f(r),a=0;null!=(i=s[a]);a++)k(i,o[a]);else k(t,r);return o=f(r,"script"),o.length>0&&m(o,!l&&f(t,"script")),o=s=i=null,r},cleanData:function(t,e){for(var n,o,i,r,a=0,s=pt.expando,l=pt.cache,d=ct.attributes,u=pt.event.special;null!=(n=t[a]);a++)if((e||At(n))&&(i=n[s],r=i&&l[i])){if(r.events)for(o in r.events)u[o]?pt.event.remove(n,o):pt.removeEvent(n,o,r.handle);l[i]&&(delete l[i],d||"undefined"==typeof n.removeAttribute?n[s]=void 0:n.removeAttribute(s),nt.push(i))}}}),pt.fn.extend({domManip:$,detach:function(t){return E(this,t,!0)},remove:function(t){return E(this,t)},text:function(t){return Rt(this,function(t){return void 0===t?pt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ot).createTextNode(t))},null,t,arguments.length)},append:function(){return $(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=C(this,t);e.appendChild(t)}})},prepend:function(){return $(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=C(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return $(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return $(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&pt.cleanData(f(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&pt.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return pt.clone(this,t,e)})},html:function(t){return Rt(this,function(t){var e=this[0]||{},n=0,o=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(Zt,""):void 0;if("string"==typeof t&&!ne.test(t)&&(ct.htmlSerialize||!te.test(t))&&(ct.leadingWhitespace||!zt.test(t))&&!Vt[(jt.exec(t)||["",""])[1].toLowerCase()]){t=pt.htmlPrefilter(t);try{for(;o>n;n++)e=this[n]||{},1===e.nodeType&&(pt.cleanData(f(e,!1)),e.innerHTML=t);e=0}catch(i){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return $(this,arguments,function(e){var n=this.parentNode;pt.inArray(this,t)<0&&(pt.cleanData(f(this)),n&&n.replaceChild(e,this))},t)}}),pt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){pt.fn[t]=function(t){for(var n,o=0,i=[],r=pt(t),a=r.length-1;a>=o;o++)n=o===a?this:this.clone(!0),pt(r[o])[e](n),at.apply(i,n.get());return this.pushStack(i)}});var le,de={HTML:"block",BODY:"block"},ue=/^margin/,ce=new RegExp("^("+Lt+")(?!px)[a-z%]+$","i"),he=function(t,e,n,o){var i,r,a={};for(r in e)a[r]=t.style[r],t.style[r]=e[r];i=n.apply(t,o||[]);for(r in e)t.style[r]=a[r];return i},pe=ot.documentElement;!function(){function e(){var e,u,c=ot.documentElement;c.appendChild(l),d.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",n=i=s=!1,o=a=!0,t.getComputedStyle&&(u=t.getComputedStyle(d),n="1%"!==(u||{}).top,s="2px"===(u||{}).marginLeft,i="4px"===(u||{width:"4px"}).width,d.style.marginRight="50%",o="4px"===(u||{marginRight:"4px"}).marginRight,e=d.appendChild(ot.createElement("div")),e.style.cssText=d.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",d.style.width="1px",a=!parseFloat((t.getComputedStyle(e)||{}).marginRight),d.removeChild(e)),d.style.display="none",r=0===d.getClientRects().length,r&&(d.style.display="",d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",e=d.getElementsByTagName("td"),e[0].style.cssText="margin:0;border:0;padding:0;display:none",r=0===e[0].offsetHeight,r&&(e[0].style.display="",e[1].style.display="none",r=0===e[0].offsetHeight)),c.removeChild(l)}var n,o,i,r,a,s,l=ot.createElement("div"),d=ot.createElement("div");d.style&&(d.style.cssText="float:left;opacity:.5",ct.opacity="0.5"===d.style.opacity,ct.cssFloat=!!d.style.cssFloat,d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",ct.clearCloneStyle="content-box"===d.style.backgroundClip,l=ot.createElement("div"),l.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",d.innerHTML="",l.appendChild(d),ct.boxSizing=""===d.style.boxSizing||""===d.style.MozBoxSizing||""===d.style.WebkitBoxSizing,pt.extend(ct,{reliableHiddenOffsets:function(){return null==n&&e(),r},boxSizingReliable:function(){return null==n&&e(),i},pixelMarginRight:function(){return null==n&&e(),o},pixelPosition:function(){return null==n&&e(),n},reliableMarginRight:function(){return null==n&&e(),a},reliableMarginLeft:function(){return null==n&&e(),s}}))}();var fe,me,ge=/^(top|right|bottom|left)$/;t.getComputedStyle?(fe=function(e){var n=e.ownerDocument.defaultView;return n.opener||(n=t),n.getComputedStyle(e)},me=function(t,e,n){var o,i,r,a,s=t.style;return n=n||fe(t),a=n?n.getPropertyValue(e)||n[e]:void 0,n&&(""!==a||pt.contains(t.ownerDocument,t)||(a=pt.style(t,e)),!ct.pixelMarginRight()&&ce.test(a)&&ue.test(e)&&(o=s.width,i=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=o,s.minWidth=i,s.maxWidth=r)),void 0===a?a:a+""}):pe.currentStyle&&(fe=function(t){return t.currentStyle},me=function(t,e,n){var o,i,r,a,s=t.style;return n=n||fe(t),a=n?n[e]:void 0,null==a&&s&&s[e]&&(a=s[e]),ce.test(a)&&!ge.test(e)&&(o=s.left,i=t.runtimeStyle,r=i&&i.left,r&&(i.left=t.currentStyle.left),s.left="fontSize"===e?"1em":a,a=s.pixelLeft+"px",s.left=o,r&&(i.left=r)),void 0===a?a:a+""||"auto"});var ve=/alpha\([^)]*\)/i,ye=/opacity\s*=\s*([^)]*)/i,_e=/^(none|table(?!-c[ea]).+)/,be=new RegExp("^("+Lt+")(.*)$","i"),we={position:"absolute",visibility:"hidden",display:"block"},Ce={letterSpacing:"0",fontWeight:"400"},xe=["Webkit","O","Moz","ms"],Te=ot.createElement("div").style;pt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=me(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ct.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,o){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,r,a,s=pt.camelCase(e),l=t.style;if(e=pt.cssProps[s]||(pt.cssProps[s]=A(s)||s),a=pt.cssHooks[e]||pt.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(t,!1,o))?i:l[e];if(r=typeof n,"string"===r&&(i=Bt.exec(n))&&i[1]&&(n=h(t,e,i),r="number"),null!=n&&n===n&&("number"===r&&(n+=i&&i[3]||(pt.cssNumber[s]?"":"px")),ct.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(t,n,o)))))try{l[e]=n}catch(d){}}},css:function(t,e,n,o){var i,r,a,s=pt.camelCase(e);return e=pt.cssProps[s]||(pt.cssProps[s]=A(s)||s),a=pt.cssHooks[e]||pt.cssHooks[s],a&&"get"in a&&(r=a.get(t,!0,n)),void 0===r&&(r=me(t,e,o)),"normal"===r&&e in Ce&&(r=Ce[e]),""===n||n?(i=parseFloat(r),n===!0||isFinite(i)?i||0:r):r}}),pt.each(["height","width"],function(t,e){pt.cssHooks[e]={get:function(t,n,o){return n?_e.test(pt.css(t,"display"))&&0===t.offsetWidth?he(t,we,function(){return B(t,e,o)}):B(t,e,o):void 0},set:function(t,n,o){var i=o&&fe(t);return P(t,n,o?L(t,e,o,ct.boxSizing&&"border-box"===pt.css(t,"boxSizing",!1,i),i):0)}}}),ct.opacity||(pt.cssHooks.opacity={get:function(t,e){return ye.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,o=t.currentStyle,i=pt.isNumeric(e)?"alpha(opacity="+100*e+")":"",r=o&&o.filter||n.filter||"";n.zoom=1,(e>=1||""===e)&&""===pt.trim(r.replace(ve,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||o&&!o.filter)||(n.filter=ve.test(r)?r.replace(ve,i):r+" "+i)}}),pt.cssHooks.marginRight=M(ct.reliableMarginRight,function(t,e){return e?he(t,{display:"inline-block"},me,[t,"marginRight"]):void 0}),pt.cssHooks.marginLeft=M(ct.reliableMarginLeft,function(t,e){return e?(parseFloat(me(t,"marginLeft"))||(pt.contains(t.ownerDocument,t)?t.getBoundingClientRect().left-he(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}):0))+"px":void 0}),pt.each({margin:"",padding:"",border:"Width"},function(t,e){pt.cssHooks[t+e]={expand:function(n){for(var o=0,i={},r="string"==typeof n?n.split(" "):[n];4>o;o++)i[t+Ft[o]+e]=r[o]||r[o-2]||r[0];return i}},ue.test(t)||(pt.cssHooks[t+e].set=P)}),pt.fn.extend({css:function(t,e){return Rt(this,function(t,e,n){var o,i,r={},a=0;if(pt.isArray(e)){for(o=fe(t),i=e.length;i>a;a++)r[e[a]]=pt.css(t,e[a],!1,o);return r}return void 0!==n?pt.style(t,e,n):pt.css(t,e)},t,e,arguments.length>1)},show:function(){return O(this,!0)},hide:function(){return O(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){It(this)?pt(this).show():pt(this).hide()})}}),pt.Tween=F,F.prototype={constructor:F,init:function(t,e,n,o,i,r){this.elem=t,this.prop=n,this.easing=i||pt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=o,this.unit=r||(pt.cssNumber[n]?"":"px")},cur:function(){var t=F.propHooks[this.prop];return t&&t.get?t.get(this):F.propHooks._default.get(this)},run:function(t){var e,n=F.propHooks[this.prop];return this.options.duration?this.pos=e=pt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):F.propHooks._default.set(this),this}},F.prototype.init.prototype=F.prototype,F.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=pt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){pt.fx.step[t.prop]?pt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[pt.cssProps[t.prop]]&&!pt.cssHooks[t.prop]?t.elem[t.prop]=t.now:pt.style(t.elem,t.prop,t.now+t.unit)}}},F.propHooks.scrollTop=F.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},pt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},pt.fx=F.prototype.init,pt.fx.step={};var ke,Se,$e=/^(?:toggle|show|hide)$/,Ee=/queueHooks$/;pt.Animation=pt.extend(z,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return h(n.elem,t,Bt.exec(e),n),n}]},tweener:function(t,e){pt.isFunction(t)?(e=t,t=["*"]):t=t.match(Nt);for(var n,o=0,i=t.length;i>o;o++)n=t[o],z.tweeners[n]=z.tweeners[n]||[],z.tweeners[n].unshift(e)},prefilters:[j],prefilter:function(t,e){e?z.prefilters.unshift(t):z.prefilters.push(t)}}),pt.speed=function(t,e,n){var o=t&&"object"==typeof t?pt.extend({},t):{complete:n||!n&&e||pt.isFunction(t)&&t,duration:t,easing:n&&e||e&&!pt.isFunction(e)&&e};return o.duration=pt.fx.off?0:"number"==typeof o.duration?o.duration:o.duration in pt.fx.speeds?pt.fx.speeds[o.duration]:pt.fx.speeds._default,(null==o.queue||o.queue===!0)&&(o.queue="fx"),o.old=o.complete,o.complete=function(){pt.isFunction(o.old)&&o.old.call(this),o.queue&&pt.dequeue(this,o.queue)},o},pt.fn.extend({fadeTo:function(t,e,n,o){return this.filter(It).css("opacity",0).show().end().animate({opacity:e},t,n,o)},animate:function(t,e,n,o){var i=pt.isEmptyObject(t),r=pt.speed(e,n,o),a=function(){var e=z(this,pt.extend({},t),r);(i||pt._data(this,"finish"))&&e.stop(!0)};return a.finish=a,i||r.queue===!1?this.each(a):this.queue(r.queue,a)},stop:function(t,e,n){var o=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",r=pt.timers,a=pt._data(this);if(i)a[i]&&a[i].stop&&o(a[i]);else for(i in a)a[i]&&a[i].stop&&Ee.test(i)&&o(a[i]);for(i=r.length;i--;)r[i].elem!==this||null!=t&&r[i].queue!==t||(r[i].anim.stop(n),e=!1,r.splice(i,1));(e||!n)&&pt.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=pt._data(this),o=n[t+"queue"],i=n[t+"queueHooks"],r=pt.timers,a=o?o.length:0;for(n.finish=!0,pt.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;a>e;e++)o[e]&&o[e].finish&&o[e].finish.call(this);delete n.finish})}}),pt.each(["toggle","show","hide"],function(t,e){var n=pt.fn[e];pt.fn[e]=function(t,o,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(R(e,!0),t,o,i)}}),pt.each({slideDown:R("show"),slideUp:R("hide"),slideToggle:R("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){pt.fn[t]=function(t,n,o){return this.animate(e,t,n,o)}}),pt.timers=[],pt.fx.tick=function(){var t,e=pt.timers,n=0;for(ke=pt.now();n<e.length;n++)t=e[n],t()||e[n]!==t||e.splice(n--,1);e.length||pt.fx.stop(),ke=void 0},pt.fx.timer=function(t){pt.timers.push(t),t()?pt.fx.start():pt.timers.pop()},pt.fx.interval=13,pt.fx.start=function(){Se||(Se=t.setInterval(pt.fx.tick,pt.fx.interval))},pt.fx.stop=function(){t.clearInterval(Se),Se=null},pt.fx.speeds={slow:600,fast:200,_default:400},pt.fn.delay=function(e,n){return e=pt.fx?pt.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,o){var i=t.setTimeout(n,e);o.stop=function(){t.clearTimeout(i)}})},function(){var t,e=ot.createElement("input"),n=ot.createElement("div"),o=ot.createElement("select"),i=o.appendChild(ot.createElement("option"));n=ot.createElement("div"),n.setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=n.getElementsByTagName("a")[0],e.setAttribute("type","checkbox"),n.appendChild(e),t=n.getElementsByTagName("a")[0],t.style.cssText="top:1px",ct.getSetAttribute="t"!==n.className,ct.style=/top/.test(t.getAttribute("style")),ct.hrefNormalized="/a"===t.getAttribute("href"),ct.checkOn=!!e.value,ct.optSelected=i.selected,ct.enctype=!!ot.createElement("form").enctype,o.disabled=!0,ct.optDisabled=!i.disabled,e=ot.createElement("input"),e.setAttribute("value",""),ct.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ct.radioValue="t"===e.value}();var Ne=/\r/g;pt.fn.extend({val:function(t){var e,n,o,i=this[0];{if(arguments.length)return o=pt.isFunction(t),this.each(function(n){var i;1===this.nodeType&&(i=o?t.call(this,n,pt(this).val()):t,null==i?i="":"number"==typeof i?i+="":pt.isArray(i)&&(i=pt.map(i,function(t){return null==t?"":t+""})),e=pt.valHooks[this.type]||pt.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))});if(i)return e=pt.valHooks[i.type]||pt.valHooks[i.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(Ne,""):null==n?"":n)}}}),pt.extend({valHooks:{option:{get:function(t){var e=pt.find.attr(t,"value");return null!=e?e:pt.trim(pt.text(t))}},select:{get:function(t){for(var e,n,o=t.options,i=t.selectedIndex,r="select-one"===t.type||0>i,a=r?null:[],s=r?i+1:o.length,l=0>i?s:r?i:0;s>l;l++)if(n=o[l],(n.selected||l===i)&&(ct.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!pt.nodeName(n.parentNode,"optgroup"))){if(e=pt(n).val(),r)return e;a.push(e)}return a},set:function(t,e){for(var n,o,i=t.options,r=pt.makeArray(e),a=i.length;a--;)if(o=i[a],pt.inArray(pt.valHooks.option.get(o),r)>=0)try{o.selected=n=!0}catch(s){o.scrollHeight}else o.selected=!1;return n||(t.selectedIndex=-1),i}}}}),pt.each(["radio","checkbox"],function(){pt.valHooks[this]={set:function(t,e){return pt.isArray(e)?t.checked=pt.inArray(pt(t).val(),e)>-1:void 0}},ct.checkOn||(pt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var De,Me,Ae=pt.expr.attrHandle,Oe=/^(?:checked|selected)$/i,Pe=ct.getSetAttribute,Le=ct.input;pt.fn.extend({attr:function(t,e){return Rt(this,pt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){pt.removeAttr(this,t)})}}),pt.extend({attr:function(t,e,n){var o,i,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return"undefined"==typeof t.getAttribute?pt.prop(t,e,n):(1===r&&pt.isXMLDoc(t)||(e=e.toLowerCase(),i=pt.attrHooks[e]||(pt.expr.match.bool.test(e)?Me:De)),void 0!==n?null===n?void pt.removeAttr(t,e):i&&"set"in i&&void 0!==(o=i.set(t,n,e))?o:(t.setAttribute(e,n+""),n):i&&"get"in i&&null!==(o=i.get(t,e))?o:(o=pt.find.attr(t,e),null==o?void 0:o))},attrHooks:{type:{set:function(t,e){if(!ct.radioValue&&"radio"===e&&pt.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,o,i=0,r=e&&e.match(Nt);if(r&&1===t.nodeType)for(;n=r[i++];)o=pt.propFix[n]||n,pt.expr.match.bool.test(n)?Le&&Pe||!Oe.test(n)?t[o]=!1:t[pt.camelCase("default-"+n)]=t[o]=!1:pt.attr(t,n,""),t.removeAttribute(Pe?n:o)}}),Me={set:function(t,e,n){return e===!1?pt.removeAttr(t,n):Le&&Pe||!Oe.test(n)?t.setAttribute(!Pe&&pt.propFix[n]||n,n):t[pt.camelCase("default-"+n)]=t[n]=!0,n}},pt.each(pt.expr.match.bool.source.match(/\w+/g),function(t,e){var n=Ae[e]||pt.find.attr;Le&&Pe||!Oe.test(e)?Ae[e]=function(t,e,o){var i,r;return o||(r=Ae[e],Ae[e]=i,i=null!=n(t,e,o)?e.toLowerCase():null,Ae[e]=r),i}:Ae[e]=function(t,e,n){return n?void 0:t[pt.camelCase("default-"+e)]?e.toLowerCase():null}}),Le&&Pe||(pt.attrHooks.value={set:function(t,e,n){return pt.nodeName(t,"input")?void(t.defaultValue=e):De&&De.set(t,e,n)}}),Pe||(De={set:function(t,e,n){var o=t.getAttributeNode(n);return o||t.setAttributeNode(o=t.ownerDocument.createAttribute(n)),o.value=e+="","value"===n||e===t.getAttribute(n)?e:void 0}},Ae.id=Ae.name=Ae.coords=function(t,e,n){var o;return n?void 0:(o=t.getAttributeNode(e))&&""!==o.value?o.value:null},pt.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);return n&&n.specified?n.value:void 0},set:De.set},pt.attrHooks.contenteditable={set:function(t,e,n){De.set(t,""===e?!1:e,n)}},pt.each(["width","height"],function(t,e){pt.attrHooks[e]={set:function(t,n){return""===n?(t.setAttribute(e,"auto"),n):void 0}}})),ct.style||(pt.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var Be=/^(?:input|select|textarea|button|object)$/i,Fe=/^(?:a|area)$/i;pt.fn.extend({prop:function(t,e){return Rt(this,pt.prop,t,e,arguments.length>1)},removeProp:function(t){return t=pt.propFix[t]||t,this.each(function(){try{this[t]=void 0,delete this[t]}catch(e){}})}}),pt.extend({prop:function(t,e,n){var o,i,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&pt.isXMLDoc(t)||(e=pt.propFix[e]||e,i=pt.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(o=i.set(t,n,e))?o:t[e]=n:i&&"get"in i&&null!==(o=i.get(t,e))?o:t[e]},propHooks:{tabIndex:{get:function(t){var e=pt.find.attr(t,"tabindex");return e?parseInt(e,10):Be.test(t.nodeName)||Fe.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ct.hrefNormalized||pt.each(["href","src"],function(t,e){pt.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),ct.optSelected||(pt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),pt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){pt.propFix[this.toLowerCase()]=this}),ct.enctype||(pt.propFix.enctype="encoding");var Ie=/[\t\r\n\f]/g;pt.fn.extend({addClass:function(t){var e,n,o,i,r,a,s,l=0;if(pt.isFunction(t))return this.each(function(e){pt(this).addClass(t.call(this,e,W(this)))});if("string"==typeof t&&t)for(e=t.match(Nt)||[];n=this[l++];)if(i=W(n),o=1===n.nodeType&&(" "+i+" ").replace(Ie," ")){for(a=0;r=e[a++];)o.indexOf(" "+r+" ")<0&&(o+=r+" ");s=pt.trim(o),i!==s&&pt.attr(n,"class",s)}return this},removeClass:function(t){var e,n,o,i,r,a,s,l=0;if(pt.isFunction(t))return this.each(function(e){pt(this).removeClass(t.call(this,e,W(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Nt)||[];n=this[l++];)if(i=W(n),o=1===n.nodeType&&(" "+i+" ").replace(Ie," ")){for(a=0;r=e[a++];)for(;o.indexOf(" "+r+" ")>-1;)o=o.replace(" "+r+" "," ");s=pt.trim(o),i!==s&&pt.attr(n,"class",s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):pt.isFunction(t)?this.each(function(n){pt(this).toggleClass(t.call(this,n,W(this),e),e)}):this.each(function(){var e,o,i,r;if("string"===n)for(o=0,i=pt(this),r=t.match(Nt)||[];e=r[o++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else(void 0===t||"boolean"===n)&&(e=W(this),e&&pt._data(this,"__className__",e),pt.attr(this,"class",e||t===!1?"":pt._data(this,"__className__")||""))})},hasClass:function(t){var e,n,o=0;for(e=" "+t+" ";n=this[o++];)if(1===n.nodeType&&(" "+W(n)+" ").replace(Ie," ").indexOf(e)>-1)return!0;return!1}}),pt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){pt.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),pt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}});var Re=t.location,He=pt.now(),je=/\?/,qe=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;pt.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var n,o=null,i=pt.trim(e+"");return i&&!pt.trim(i.replace(qe,function(t,e,i,r){return n&&e&&(o=0),0===o?t:(n=i||e,o+=!r-!i,"")}))?Function("return "+i)():pt.error("Invalid JSON: "+e)},pt.parseXML=function(e){var n,o;if(!e||"string"!=typeof e)return null;try{t.DOMParser?(o=new t.DOMParser,n=o.parseFromString(e,"text/xml")):(n=new t.ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(e))}catch(i){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||pt.error("Invalid XML: "+e),n};var ze=/#.*$/,We=/([?&])_=[^&]*/,Ve=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ue=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Je=/^(?:GET|HEAD)$/,Xe=/^\/\//,Ke=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ye={},Qe={},Ge="*/".concat("*"),Ze=Re.href,tn=Ke.exec(Ze.toLowerCase())||[];
pt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ze,type:"GET",isLocal:Ue.test(tn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ge,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":pt.parseJSON,"text xml":pt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?J(J(t,pt.ajaxSettings),e):J(pt.ajaxSettings,t)},ajaxPrefilter:V(Ye),ajaxTransport:V(Qe),ajax:function(e,n){function o(e,n,o,i){var r,c,y,_,w,x=n;2!==b&&(b=2,l&&t.clearTimeout(l),u=void 0,s=i||"",C.readyState=e>0?4:0,r=e>=200&&300>e||304===e,o&&(_=X(h,C,o)),_=K(h,_,C,r),r?(h.ifModified&&(w=C.getResponseHeader("Last-Modified"),w&&(pt.lastModified[a]=w),w=C.getResponseHeader("etag"),w&&(pt.etag[a]=w)),204===e||"HEAD"===h.type?x="nocontent":304===e?x="notmodified":(x=_.state,c=_.data,y=_.error,r=!y)):(y=x,(e||!x)&&(x="error",0>e&&(e=0))),C.status=e,C.statusText=(n||x)+"",r?m.resolveWith(p,[c,x,C]):m.rejectWith(p,[C,x,y]),C.statusCode(v),v=void 0,d&&f.trigger(r?"ajaxSuccess":"ajaxError",[C,h,r?c:y]),g.fireWith(p,[C,x]),d&&(f.trigger("ajaxComplete",[C,h]),--pt.active||pt.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var i,r,a,s,l,d,u,c,h=pt.ajaxSetup({},n),p=h.context||h,f=h.context&&(p.nodeType||p.jquery)?pt(p):pt.event,m=pt.Deferred(),g=pt.Callbacks("once memory"),v=h.statusCode||{},y={},_={},b=0,w="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!c)for(c={};e=Ve.exec(s);)c[e[1].toLowerCase()]=e[2];e=c[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?s:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return b||(t=_[n]=_[n]||t,y[t]=e),this},overrideMimeType:function(t){return b||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>b)for(e in t)v[e]=[v[e],t[e]];else C.always(t[C.status]);return this},abort:function(t){var e=t||w;return u&&u.abort(e),o(0,e),this}};if(m.promise(C).complete=g.add,C.success=C.done,C.error=C.fail,h.url=((e||h.url||Ze)+"").replace(ze,"").replace(Xe,tn[1]+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=pt.trim(h.dataType||"*").toLowerCase().match(Nt)||[""],null==h.crossDomain&&(i=Ke.exec(h.url.toLowerCase()),h.crossDomain=!(!i||i[1]===tn[1]&&i[2]===tn[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(tn[3]||("http:"===tn[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=pt.param(h.data,h.traditional)),U(Ye,h,n,C),2===b)return C;d=pt.event&&h.global,d&&0===pt.active++&&pt.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Je.test(h.type),a=h.url,h.hasContent||(h.data&&(a=h.url+=(je.test(a)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=We.test(a)?a.replace(We,"$1_="+He++):a+(je.test(a)?"&":"?")+"_="+He++)),h.ifModified&&(pt.lastModified[a]&&C.setRequestHeader("If-Modified-Since",pt.lastModified[a]),pt.etag[a]&&C.setRequestHeader("If-None-Match",pt.etag[a])),(h.data&&h.hasContent&&h.contentType!==!1||n.contentType)&&C.setRequestHeader("Content-Type",h.contentType),C.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Ge+"; q=0.01":""):h.accepts["*"]);for(r in h.headers)C.setRequestHeader(r,h.headers[r]);if(h.beforeSend&&(h.beforeSend.call(p,C,h)===!1||2===b))return C.abort();w="abort";for(r in{success:1,error:1,complete:1})C[r](h[r]);if(u=U(Qe,h,n,C)){if(C.readyState=1,d&&f.trigger("ajaxSend",[C,h]),2===b)return C;h.async&&h.timeout>0&&(l=t.setTimeout(function(){C.abort("timeout")},h.timeout));try{b=1,u.send(y,o)}catch(x){if(!(2>b))throw x;o(-1,x)}}else o(-1,"No Transport");return C},getJSON:function(t,e,n){return pt.get(t,e,n,"json")},getScript:function(t,e){return pt.get(t,void 0,e,"script")}}),pt.each(["get","post"],function(t,e){pt[e]=function(t,n,o,i){return pt.isFunction(n)&&(i=i||o,o=n,n=void 0),pt.ajax(pt.extend({url:t,type:e,dataType:i,data:n,success:o},pt.isPlainObject(t)&&t))}}),pt._evalUrl=function(t){return pt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},pt.fn.extend({wrapAll:function(t){if(pt.isFunction(t))return this.each(function(e){pt(this).wrapAll(t.call(this,e))});if(this[0]){var e=pt(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return pt.isFunction(t)?this.each(function(e){pt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=pt(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=pt.isFunction(t);return this.each(function(n){pt(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){pt.nodeName(this,"body")||pt(this).replaceWith(this.childNodes)}).end()}}),pt.expr.filters.hidden=function(t){return ct.reliableHiddenOffsets()?t.offsetWidth<=0&&t.offsetHeight<=0&&!t.getClientRects().length:Q(t)},pt.expr.filters.visible=function(t){return!pt.expr.filters.hidden(t)};var en=/%20/g,nn=/\[\]$/,on=/\r?\n/g,rn=/^(?:submit|button|image|reset|file)$/i,an=/^(?:input|select|textarea|keygen)/i;pt.param=function(t,e){var n,o=[],i=function(t,e){e=pt.isFunction(e)?e():null==e?"":e,o[o.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=pt.ajaxSettings&&pt.ajaxSettings.traditional),pt.isArray(t)||t.jquery&&!pt.isPlainObject(t))pt.each(t,function(){i(this.name,this.value)});else for(n in t)G(n,t[n],e,i);return o.join("&").replace(en,"+")},pt.fn.extend({serialize:function(){return pt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=pt.prop(this,"elements");return t?pt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!pt(this).is(":disabled")&&an.test(this.nodeName)&&!rn.test(t)&&(this.checked||!Ht.test(t))}).map(function(t,e){var n=pt(this).val();return null==n?null:pt.isArray(n)?pt.map(n,function(t){return{name:e.name,value:t.replace(on,"\r\n")}}):{name:e.name,value:n.replace(on,"\r\n")}}).get()}}),pt.ajaxSettings.xhr=void 0!==t.ActiveXObject?function(){return this.isLocal?tt():ot.documentMode>8?Z():/^(get|post|head|put|delete|options)$/i.test(this.type)&&Z()||tt()}:Z;var sn=0,ln={},dn=pt.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in ln)ln[t](void 0,!0)}),ct.cors=!!dn&&"withCredentials"in dn,dn=ct.ajax=!!dn,dn&&pt.ajaxTransport(function(e){if(!e.crossDomain||ct.cors){var n;return{send:function(o,i){var r,a=e.xhr(),s=++sn;if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)a[r]=e.xhrFields[r];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");for(r in o)void 0!==o[r]&&a.setRequestHeader(r,o[r]+"");a.send(e.hasContent&&e.data||null),n=function(t,o){var r,l,d;if(n&&(o||4===a.readyState))if(delete ln[s],n=void 0,a.onreadystatechange=pt.noop,o)4!==a.readyState&&a.abort();else{d={},r=a.status,"string"==typeof a.responseText&&(d.text=a.responseText);try{l=a.statusText}catch(u){l=""}r||!e.isLocal||e.crossDomain?1223===r&&(r=204):r=d.text?200:404}d&&i(r,l,d,a.getAllResponseHeaders())},e.async?4===a.readyState?t.setTimeout(n):a.onreadystatechange=ln[s]=n:n()},abort:function(){n&&n(void 0,!0)}}}}),pt.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),pt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return pt.globalEval(t),t}}}),pt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),pt.ajaxTransport("script",function(t){if(t.crossDomain){var e,n=ot.head||pt("head")[0]||ot.documentElement;return{send:function(o,i){e=ot.createElement("script"),e.async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,n){(n||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,n||i(200,"success"))},n.insertBefore(e,n.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}});var un=[],cn=/(=)\?(?=&|$)|\?\?/;pt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=un.pop()||pt.expando+"_"+He++;return this[t]=!0,t}}),pt.ajaxPrefilter("json jsonp",function(e,n,o){var i,r,a,s=e.jsonp!==!1&&(cn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&cn.test(e.data)&&"data");return s||"jsonp"===e.dataTypes[0]?(i=e.jsonpCallback=pt.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(cn,"$1"+i):e.jsonp!==!1&&(e.url+=(je.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||pt.error(i+" was not called"),a[0]},e.dataTypes[0]="json",r=t[i],t[i]=function(){a=arguments},o.always(function(){void 0===r?pt(t).removeProp(i):t[i]=r,e[i]&&(e.jsonpCallback=n.jsonpCallback,un.push(i)),a&&pt.isFunction(r)&&r(a[0]),a=r=void 0}),"script"):void 0}),ct.createHTMLDocument=function(){if(!ot.implementation.createHTMLDocument)return!1;var t=ot.implementation.createHTMLDocument("");return t.body.innerHTML="<form></form><form></form>",2===t.body.childNodes.length}(),pt.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||(ct.createHTMLDocument?ot.implementation.createHTMLDocument(""):ot);var o=Ct.exec(t),i=!n&&[];return o?[e.createElement(o[1])]:(o=v([t],e,i),i&&i.length&&pt(i).remove(),pt.merge([],o.childNodes))};var hn=pt.fn.load;pt.fn.load=function(t,e,n){if("string"!=typeof t&&hn)return hn.apply(this,arguments);var o,i,r,a=this,s=t.indexOf(" ");return s>-1&&(o=pt.trim(t.slice(s,t.length)),t=t.slice(0,s)),pt.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),a.length>0&&pt.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done(function(t){r=arguments,a.html(o?pt("<div>").append(pt.parseHTML(t)).find(o):t)}).always(n&&function(t,e){a.each(function(){n.apply(a,r||[t.responseText,e,t])})}),this},pt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){pt.fn[e]=function(t){return this.on(e,t)}}),pt.expr.filters.animated=function(t){return pt.grep(pt.timers,function(e){return t===e.elem}).length},pt.offset={setOffset:function(t,e,n){var o,i,r,a,s,l,d,u=pt.css(t,"position"),c=pt(t),h={};"static"===u&&(t.style.position="relative"),s=c.offset(),r=pt.css(t,"top"),l=pt.css(t,"left"),d=("absolute"===u||"fixed"===u)&&pt.inArray("auto",[r,l])>-1,d?(o=c.position(),a=o.top,i=o.left):(a=parseFloat(r)||0,i=parseFloat(l)||0),pt.isFunction(e)&&(e=e.call(t,n,pt.extend({},s))),null!=e.top&&(h.top=e.top-s.top+a),null!=e.left&&(h.left=e.left-s.left+i),"using"in e?e.using.call(t,h):c.css(h)}},pt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){pt.offset.setOffset(this,t,e)});var e,n,o={top:0,left:0},i=this[0],r=i&&i.ownerDocument;if(r)return e=r.documentElement,pt.contains(e,i)?("undefined"!=typeof i.getBoundingClientRect&&(o=i.getBoundingClientRect()),n=et(r),{top:o.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:o.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):o},position:function(){if(this[0]){var t,e,n={top:0,left:0},o=this[0];return"fixed"===pt.css(o,"position")?e=o.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),pt.nodeName(t[0],"html")||(n=t.offset()),n.top+=pt.css(t[0],"borderTopWidth",!0)-t.scrollTop(),n.left+=pt.css(t[0],"borderLeftWidth",!0)-t.scrollLeft()),{top:e.top-n.top-pt.css(o,"marginTop",!0),left:e.left-n.left-pt.css(o,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&!pt.nodeName(t,"html")&&"static"===pt.css(t,"position");)t=t.offsetParent;return t||pe})}}),pt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n=/Y/.test(e);pt.fn[t]=function(o){return Rt(this,function(t,o,i){var r=et(t);return void 0===i?r?e in r?r[e]:r.document.documentElement[o]:t[o]:void(r?r.scrollTo(n?pt(r).scrollLeft():i,n?i:pt(r).scrollTop()):t[o]=i)},t,o,arguments.length,null)}}),pt.each(["top","left"],function(t,e){pt.cssHooks[e]=M(ct.pixelPosition,function(t,n){return n?(n=me(t,e),ce.test(n)?pt(t).position()[e]+"px":n):void 0})}),pt.each({Height:"height",Width:"width"},function(t,e){pt.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,o){pt.fn[o]=function(o,i){var r=arguments.length&&(n||"boolean"!=typeof o),a=n||(o===!0||i===!0?"margin":"border");return Rt(this,function(e,n,o){var i;return pt.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+t],i["scroll"+t],e.body["offset"+t],i["offset"+t],i["client"+t])):void 0===o?pt.css(e,n,a):pt.style(e,n,o,a)},e,r?o:void 0,r,null)}})}),pt.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,o){return this.on(e,t,n,o)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),pt.fn.size=function(){return this.length},pt.fn.andSelf=pt.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return pt});var pn=t.jQuery,fn=t.$;return pt.noConflict=function(e){return t.$===pt&&(t.$=fn),e&&t.jQuery===pt&&(t.jQuery=pn),pt},e||(t.jQuery=t.$=pt),pt}),function(t,e){"use strict";t.rails!==e&&t.error("jquery-ujs has already been loaded!");var n,o=t(document);t.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return t("meta[name=csrf-token]").attr("content")},csrfParam:function(){return t("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=n.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){t('form input[name="'+n.csrfParam()+'"]').val(n.csrfToken())},fire:function(e,n,o){var i=t.Event(n);return e.trigger(i,o),i.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==e&&t.data("remote")!==!1},handleRemote:function(o){var i,r,a,s,l,d;if(n.fire(o,"ajax:before")){if(s=o.data("with-credentials")||null,l=o.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,o.is("form")){i=o.data("ujs:submit-button-formmethod")||o.attr("method"),r=o.data("ujs:submit-button-formaction")||o.attr("action"),a=t(o[0].elements).serializeArray();var u=o.data("ujs:submit-button");u&&(a.push(u),o.data("ujs:submit-button",null)),o.data("ujs:submit-button-formmethod",null),o.data("ujs:submit-button-formaction",null)}else o.is(n.inputChangeSelector)?(i=o.data("method"),r=o.data("url"),a=o.serialize(),o.data("params")&&(a=a+"&"+o.data("params"))):o.is(n.buttonClickSelector)?(i=o.data("method")||"get",r=o.data("url"),a=o.serialize(),o.data("params")&&(a=a+"&"+o.data("params"))):(i=o.data("method"),r=n.href(o),a=o.data("params")||null);return d={type:i||"GET",data:a,dataType:l,beforeSend:function(t,i){return i.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+i.accepts.script),n.fire(o,"ajax:beforeSend",[t,i])?void o.trigger("ajax:send",t):!1},success:function(t,e,n){o.trigger("ajax:success",[t,e,n])},complete:function(t,e){o.trigger("ajax:complete",[t,e])},error:function(t,e,n){o.trigger("ajax:error",[t,e,n])},crossDomain:n.isCrossDomain(r)},s&&(d.xhrFields={withCredentials:s}),r&&(d.url=r),n.ajax(d)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var n=document.createElement("a");try{return n.href=t,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||e.protocol+"//"+e.host==n.protocol+"//"+n.host)}catch(o){return!0}},handleMethod:function(o){var i=n.href(o),r=o.data("method"),a=o.attr("target"),s=n.csrfToken(),l=n.csrfParam(),d=t('<form method="post" action="'+i+'"></form>'),u='<input name="_method" value="'+r+'" type="hidden" />';l===e||s===e||n.isCrossDomain(i)||(u+='<input name="'+l+'" value="'+s+'" type="hidden" />'),a&&d.attr("target",a),d.hide().append(u).appendTo("body"),d.submit()},formElements:function(e,n){return e.is("form")?t(e[0].elements).filter(n):e.find(n)},disableFormElements:function(e){n.formElements(e,n.disableSelector).each(function(){n.disableFormElement(t(this))})},disableFormElement:function(t){var n,o;n=t.is("button")?"html":"val",o=t.data("disable-with"),o!==e&&(t.data("ujs:enable-with",t[n]()),t[n](o)),t.prop("disabled",!0),t.data("ujs:disabled",!0)},enableFormElements:function(e){n.formElements(e,n.enableSelector).each(function(){n.enableFormElement(t(this))})},enableFormElement:function(t){var n=t.is("button")?"html":"val";t.data("ujs:enable-with")!==e&&(t[n](t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.prop("disabled",!1),t.removeData("ujs:disabled")},allowAction:function(t){var e,o=t.data("confirm"),i=!1;if(!o)return!0;if(n.fire(t,"confirm")){try{i=n.confirm(o)}catch(r){(console.error||console.log).call(console,r.stack||r)}e=n.fire(t,"confirm:complete",[i])}return i&&e},blankInputs:function(e,n,o){var i,r,a=t(),s=n||"input,textarea",l=e.find(s);return l.each(function(){if(i=t(this),r=i.is("input[type=checkbox],input[type=radio]")?i.is(":checked"):!!i.val(),r===o){if(i.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+i.attr("name")+'"]').length)return!0;a=a.add(i)}}),a.length?a:!1},nonBlankInputs:function(t,e){return n.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){var o=t.data("disable-with");o!==e&&(t.data("ujs:enable-with",t.html()),t.html(o)),t.bind("click.railsDisable",function(t){return n.stopEverything(t)}),t.data("ujs:disabled",!0)},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable"),t.removeData("ujs:disabled")}},n.fire(o,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,o){t.crossDomain||n.CSRFProtection(o)}),t(window).on("pageshow.rails",function(){t(t.rails.enableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableFormElement(e)}),t(t.rails.linkDisableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableElement(e)})}),o.delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(t(this))}),o.delegate(n.buttonDisableSelector,"ajax:complete",function(){n.enableFormElement(t(this))}),o.delegate(n.linkClickSelector,"click.rails",function(e){var o=t(this),i=o.data("method"),r=o.data("params"),a=e.metaKey||e.ctrlKey;if(!n.allowAction(o))return n.stopEverything(e);if(!a&&o.is(n.linkDisableSelector)&&n.disableElement(o),n.isRemote(o)){if(a&&(!i||"GET"===i)&&!r)return!0;var s=n.handleRemote(o);return s===!1?n.enableElement(o):s.fail(function(){n.enableElement(o)}),!1}return i?(n.handleMethod(o),!1):void 0}),o.delegate(n.buttonClickSelector,"click.rails",function(e){var o=t(this);if(!n.allowAction(o)||!n.isRemote(o))return n.stopEverything(e);o.is(n.buttonDisableSelector)&&n.disableFormElement(o);var i=n.handleRemote(o);return i===!1?n.enableFormElement(o):i.fail(function(){n.enableFormElement(o)}),!1}),o.delegate(n.inputChangeSelector,"change.rails",function(e){var o=t(this);return n.allowAction(o)&&n.isRemote(o)?(n.handleRemote(o),!1):n.stopEverything(e)}),o.delegate(n.formSubmitSelector,"submit.rails",function(o){var i,r,a=t(this),s=n.isRemote(a);if(!n.allowAction(a))return n.stopEverything(o);if(a.attr("novalidate")===e)if(a.data("ujs:formnovalidate-button")===e){if(i=n.blankInputs(a,n.requiredInputSelector,!1),i&&n.fire(a,"ajax:aborted:required",[i]))return n.stopEverything(o)}else a.data("ujs:formnovalidate-button",e);if(s){if(r=n.nonBlankInputs(a,n.fileInputSelector)){setTimeout(function(){n.disableFormElements(a)},13);var l=n.fire(a,"ajax:aborted:file",[r]);return l||setTimeout(function(){n.enableFormElements(a)},13),l}return n.handleRemote(a),!1}setTimeout(function(){n.disableFormElements(a)},13)}),o.delegate(n.formInputClickSelector,"click.rails",function(e){var o=t(this);if(!n.allowAction(o))return n.stopEverything(e);var i=o.attr("name"),r=i?{name:i,value:o.val()}:null,a=o.closest("form");0===a.length&&(a=t("#"+o.attr("form"))),a.data("ujs:submit-button",r),a.data("ujs:formnovalidate-button",o.attr("formnovalidate")),a.data("ujs:submit-button-formaction",o.attr("formaction")),a.data("ujs:submit-button-formmethod",o.attr("formmethod"))}),o.delegate(n.formSubmitSelector,"ajax:send.rails",function(e){this===e.target&&n.disableFormElements(t(this))}),o.delegate(n.formSubmitSelector,"ajax:complete.rails",function(e){this===e.target&&n.enableFormElements(t(this))}),t(function(){n.refreshCSRFTokens()}))}(jQuery),/*

	jQuery Tags Input Plugin 1.3.3

	Copyright (c) 2011 XOXCO, Inc

	Documentation for this plugin lives here:
	http://xoxco.com/clickable/jquery-tags-input

	Licensed under the MIT license:
	http://www.opensource.org/licenses/mit-license.php

	ben@xoxco.com

*/
function(t){var e=new Array,n=new Array;t.fn.doAutosize=function(e){var n=t(this).data("minwidth"),o=t(this).data("maxwidth"),i="",r=t(this),a=t("#"+t(this).data("tester_id"));if(i!==(i=r.val())){var s=i.replace(/&/g,"&amp;").replace(/\s/g," ").replace(/</g,"&lt;").replace(/>/g,"&gt;");a.html(s);var l=a.width(),d=l+e.comfortZone>=n?l+e.comfortZone:n,u=r.width(),c=u>d&&d>=n||d>n&&o>d;c&&r.width(d)}},t.fn.resetAutosize=function(e){var n=t(this).data("minwidth")||e.minInputWidth||t(this).width(),o=t(this).data("maxwidth")||e.maxInputWidth||t(this).closest(".tagsinput").width()-e.inputPadding,i=t(this),r=t("<tester/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:i.css("fontSize"),fontFamily:i.css("fontFamily"),fontWeight:i.css("fontWeight"),letterSpacing:i.css("letterSpacing"),whiteSpace:"nowrap"}),a=t(this).attr("id")+"_autosize_tester";!t("#"+a).length>0&&(r.attr("id",a),r.appendTo("body")),i.data("minwidth",n),i.data("maxwidth",o),i.data("tester_id",a),i.css("width",n)},t.fn.addTag=function(o,i){return i=jQuery.extend({focus:!1,callback:!0},i),this.each(function(){var r=t(this).attr("id"),a=t(this).val().split(e[r]);if(""==a[0]&&(a=new Array),o=jQuery.trim(o),i.unique){var s=t(this).tagExist(o);1==s&&t("#"+r+"_tag").addClass("not_valid")}else var s=!1;if(""!=o&&1!=s){if(t("<span>").addClass("tag").append(t("<span>").text(o).append("&nbsp;&nbsp;"),t("<a>",{href:"#",title:"Removing tag",text:"x"}).click(function(){return t("#"+r).removeTag(escape(o))})).insertBefore("#"+r+"_addTag"),a.push(o),t("#"+r+"_tag").val(""),i.focus?t("#"+r+"_tag").focus():t("#"+r+"_tag").blur(),t.fn.tagsInput.updateTagsField(this,a),i.callback&&n[r]&&n[r].onAddTag){var l=n[r].onAddTag;l.call(this,o)}if(n[r]&&n[r].onChange){var d=a.length,l=n[r].onChange;l.call(this,t(this),a[d-1])}}}),!1},t.fn.removeTag=function(o){return o=unescape(o),this.each(function(){var r=t(this).attr("id"),a=t(this).val().split(e[r]);for(t("#"+r+"_tagsinput .tag").remove(),str="",i=0;i<a.length;i++)a[i]!=o&&(str=str+e[r]+a[i]);if(t.fn.tagsInput.importTags(this,str),n[r]&&n[r].onRemoveTag){var s=n[r].onRemoveTag;s.call(this,o)}}),!1},t.fn.tagExist=function(n){var o=t(this).attr("id"),i=t(this).val().split(e[o]);return jQuery.inArray(n,i)>=0},t.fn.importTags=function(e){id=t(this).attr("id"),t("#"+id+"_tagsinput .tag").remove(),t.fn.tagsInput.importTags(this,e)},t.fn.tagsInput=function(o){var i=jQuery.extend({interactive:!0,defaultText:"add a tag",minChars:0,width:"300px",height:"100px",autocomplete:{selectFirst:!1},hide:!0,delimiter:",",unique:!0,removeWithBackspace:!0,placeholderColor:"#666666",autosize:!0,comfortZone:20,inputPadding:12},o);return this.each(function(){i.hide&&t(this).hide();var o=t(this).attr("id");(!o||e[t(this).attr("id")])&&(o=t(this).attr("id","tags"+(new Date).getTime()).attr("id"));var r=jQuery.extend({pid:o,real_input:"#"+o,holder:"#"+o+"_tagsinput",input_wrapper:"#"+o+"_addTag",fake_input:"#"+o+"_tag"},i);e[o]=r.delimiter,(i.onAddTag||i.onRemoveTag||i.onChange)&&(n[o]=new Array,n[o].onAddTag=i.onAddTag,n[o].onRemoveTag=i.onRemoveTag,n[o].onChange=i.onChange);var a='<div id="'+o+'_tagsinput" class="tagsinput"><div id="'+o+'_addTag">';if(i.interactive&&(a=a+'<input id="'+o+'_tag" value="" data-default="'+i.defaultText+'" />'),a+='</div><div class="tags_clear"></div></div>',t(a).insertAfter(this),t(r.holder).css("width",i.width),t(r.holder).css("min-height",i.height),t(r.holder).css("height","100%"),""!=t(r.real_input).val()&&t.fn.tagsInput.importTags(t(r.real_input),t(r.real_input).val()),i.interactive){if(t(r.fake_input).val(t(r.fake_input).attr("data-default")),t(r.fake_input).css("color",i.placeholderColor),t(r.fake_input).resetAutosize(i),t(r.holder).bind("click",r,function(e){t(e.data.fake_input).focus()}),t(r.fake_input).bind("focus",r,function(e){t(e.data.fake_input).val()==t(e.data.fake_input).attr("data-default")&&t(e.data.fake_input).val(""),t(e.data.fake_input).css("color","#000000")}),void 0!=i.autocomplete_url){autocomplete_options={source:i.autocomplete_url};for(attrname in i.autocomplete)autocomplete_options[attrname]=i.autocomplete[attrname];void 0!==jQuery.Autocompleter?(t(r.fake_input).autocomplete(i.autocomplete_url,i.autocomplete),t(r.fake_input).bind("result",r,function(e,n,r){n&&t("#"+o).addTag(n[0]+"",{focus:!0,unique:i.unique})})):void 0!==jQuery.ui.autocomplete&&(t(r.fake_input).autocomplete(autocomplete_options),t(r.fake_input).bind("autocompleteselect",r,function(e,n){return t(e.data.real_input).addTag(n.item.value,{focus:!0,unique:i.unique}),!1}))}else t(r.fake_input).bind("blur",r,function(e){var n=t(this).attr("data-default");return""!=t(e.data.fake_input).val()&&t(e.data.fake_input).val()!=n?e.data.minChars<=t(e.data.fake_input).val().length&&(!e.data.maxChars||e.data.maxChars>=t(e.data.fake_input).val().length)&&t(e.data.real_input).addTag(t(e.data.fake_input).val(),{focus:!0,unique:i.unique}):(t(e.data.fake_input).val(t(e.data.fake_input).attr("data-default")),t(e.data.fake_input).css("color",i.placeholderColor)),!1});t(r.fake_input).bind("keypress",r,function(e){return e.which==e.data.delimiter.charCodeAt(0)||13==e.which?(e.preventDefault(),e.data.minChars<=t(e.data.fake_input).val().length&&(!e.data.maxChars||e.data.maxChars>=t(e.data.fake_input).val().length)&&t(e.data.real_input).addTag(t(e.data.fake_input).val(),{focus:!0,unique:i.unique}),t(e.data.fake_input).resetAutosize(i),!1):void(e.data.autosize&&t(e.data.fake_input).doAutosize(i))}),r.removeWithBackspace&&t(r.fake_input).bind("keydown",function(e){if(8==e.keyCode&&""==t(this).val()){e.preventDefault();var n=t(this).closest(".tagsinput").find(".tag:last").text(),o=t(this).attr("id").replace(/_tag$/,"");n=n.replace(/[\s]+x$/,""),t("#"+o).removeTag(escape(n)),t(this).trigger("focus")}}),t(r.fake_input).blur(),r.unique&&t(r.fake_input).keydown(function(e){(8==e.keyCode||String.fromCharCode(e.which).match(/\w+|[\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xf1\xd1,/]+/))&&t(this).removeClass("not_valid")})}}),this},t.fn.tagsInput.updateTagsField=function(n,o){var i=t(n).attr("id");t(n).val(o.join(e[i]))},t.fn.tagsInput.importTags=function(o,r){t(o).val("");var a=t(o).attr("id"),s=r.split(e[a]);for(i=0;i<s.length;i++)t(o).addTag(s[i],{focus:!1,callback:!1});if(n[a]&&n[a].onChange){var l=n[a].onChange;l.call(o,o,s[i])}}}(jQuery),function(){var t,e,n,o,i,r,a,s,l,d,u,c,h,p,f,m,g,v,y,_,b,w,C,x,T,k,S,$,E,N,D,M,A,O,P,L,B,F,I,R,H,j,q,z,W,V,U,J,X,K,Y,Q,G,Z,tt,et,nt=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},ot=function(t,e){function n(){this.constructor=t}for(var o in e)it.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},it={}.hasOwnProperty,rt=[].slice,at=function(t,e){return function(){return t.apply(e,arguments)}};O={},h=10,Q=!1,I=null,y=null,M=null,j=null,et=null,o={BEFORE_CHANGE:"page:before-change",FETCH:"page:fetch",RECEIVE:"page:receive",CHANGE:"page:change",UPDATE:"page:update",LOAD:"page:load",RESTORE:"page:restore",BEFORE_UNLOAD:"page:before-unload",EXPIRE:"page:expire"},x=function(t){var e;return t=new n(t),U(),c(),null!=I&&I.start(),Q&&(e=G(t.absolute))?(T(e),k(t,null,!1)):k(t,K)},G=function(t){var e;return e=O[t],e&&!e.transitionCacheDisabled?e:void 0},b=function(t){return null==t&&(t=!0),Q=t},_=function(t){return null==t&&(t=!0),d?t?null!=I?I:I=new r("html"):(null!=I&&I.uninstall(),I=null):void 0},k=function(t,e,n){return null==n&&(n=!0),Z(o.FETCH,{url:t.absolute}),null!=et&&et.abort(),et=new XMLHttpRequest,et.open("GET",t.withoutHashForIE10compatibility(),!0),et.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml"),et.setRequestHeader("X-XHR-Referer",j),et.onload=function(){var n;return Z(o.RECEIVE,{url:t.absolute}),(n=F())?(q(t),z(),p.apply(null,C(n)),A(),"function"==typeof e&&e(),Z(o.LOAD)):document.location.href=v()||t.absolute},I&&n&&(et.onprogress=function(t){return function(t){var e;return e=t.lengthComputable?t.loaded/t.total*100:I.value+(100-I.value)/10,I.advanceTo(e)}}(this)),et.onloadend=function(){return et=null},et.onerror=function(){return document.location.href=t.absolute},et.send()},T=function(t){return null!=et&&et.abort(),p(t.title,t.body),R(t),Z(o.RESTORE)},c=function(){var t;return t=new n(y.url),O[t.absolute]={url:t.relative,body:document.body,title:document.title,positionY:window.pageYOffset,positionX:window.pageXOffset,cachedAt:(new Date).getTime(),transitionCacheDisabled:null!=document.querySelector("[data-no-transition-cache]")},m(h)},L=function(t){return null==t&&(t=h),/^[\d]+$/.test(t)?h=parseInt(t):void 0},m=function(t){var e,n,i,r,a,s;for(a=Object.keys(O),e=a.map(function(t){return O[t].cachedAt}).sort(function(t,e){return e-t}),s=[],n=0,r=a.length;r>n;n++)i=a[n],O[i].cachedAt<=e[t]&&(Z(o.EXPIRE,O[i]),s.push(delete O[i]));return s},p=function(e,n,i,r){return Z(o.BEFORE_UNLOAD),document.title=e,document.documentElement.replaceChild(n,document.body),null!=i&&t.update(i),Y(),r&&w(),y=window.history.state,null!=I&&I.done(),Z(o.CHANGE),Z(o.UPDATE)},w=function(){var t,e,n,o,i,r,a,s,l,d,u,c;for(c=Array.prototype.slice.call(document.body.querySelectorAll('script:not([data-turbolinks-eval="false"])')),n=0,i=c.length;i>n;n++)if(u=c[n],""===(l=u.type)||"text/javascript"===l){for(e=document.createElement("script"),d=u.attributes,o=0,r=d.length;r>o;o++)t=d[o],e.setAttribute(t.name,t.value);u.hasAttribute("async")||(e.async=!1),e.appendChild(document.createTextNode(u.innerHTML)),s=u.parentNode,a=u.nextSibling,s.removeChild(u),s.insertBefore(e,a)}},J=function(t){return t.innerHTML=t.innerHTML.replace(/<noscript[\S\s]*?<\/noscript>/gi,""),t},Y=function(){var t,e;return t=(e=document.querySelectorAll("input[autofocus], textarea[autofocus]"))[e.length-1],t&&document.activeElement!==t?t.focus():void 0},q=function(t){return(t=new n(t)).absolute!==j?window.history.pushState({turbolinks:!0,url:t.absolute},"",t.absolute):void 0},z=function(){var t,e;return(t=et.getResponseHeader("X-XHR-Redirected-To"))?(t=new n(t),e=t.hasNoHash()?document.location.hash:"",window.history.replaceState(window.history.state,"",t.href+e)):void 0},v=function(){var t;return null!=(t=et.getResponseHeader("Location"))&&new n(t).crossOrigin()?t:void 0},U=function(){return j=document.location.href},V=function(){return window.history.replaceState({turbolinks:!0,url:document.location.href},"",document.location.href)},W=function(){return y=window.history.state},A=function(){var t;return navigator.userAgent.match(/Firefox/)&&!(t=new n).hasNoHash()?(window.history.replaceState(y,"",t.withoutHash()),document.location.hash=t.hash):void 0},R=function(t){return window.scrollTo(t.positionX,t.positionY)},K=function(){return document.location.hash?document.location.href=document.location.href:window.scrollTo(0,0)},f=function(t){var e,n,o;if(null==t||"object"!=typeof t)return t;e=new t.constructor;for(n in t)o=t[n],e[n]=f(o);return e},B=function(t){var e,n;return n=(null!=(e=document.cookie.match(new RegExp(t+"=(\\w+)")))?e[1].toUpperCase():void 0)||"",document.cookie=t+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/",n},Z=function(t,e){var n;return"undefined"!=typeof Prototype&&Event.fire(document,t,e,!0),n=document.createEvent("Events"),e&&(n.data=e),n.initEvent(t,!0,!0),document.dispatchEvent(n)},P=function(t){return!Z(o.BEFORE_CHANGE,{url:t})},F=function(){var t,e,n,o,i,r;return e=function(){var t;return 400<=(t=et.status)&&600>t},r=function(){var t;return null!=(t=et.getResponseHeader("Content-Type"))&&t.match(/^(?:text\/html|application\/xhtml\+xml|application\/xml)(?:;|$)/)},o=function(t){var e,n,o,i,r;for(i=t.querySelector("head").childNodes,r=[],e=0,n=i.length;n>e;e++)o=i[e],null!=("function"==typeof o.getAttribute?o.getAttribute("data-turbolinks-track"):void 0)&&r.push(o.getAttribute("src")||o.getAttribute("href"));return r},t=function(t){var e;return M||(M=o(document)),e=o(t),e.length!==M.length||i(e,M).length!==M.length},i=function(t,e){var n,o,i,r,a;for(t.length>e.length&&(i=[e,t],t=i[0],e=i[1]),r=[],n=0,o=t.length;o>n;n++)a=t[n],nt.call(e,a)>=0&&r.push(a);return r},!e()&&r()&&(n=g(et.responseText),n&&!t(n))?n:void 0},C=function(e){var n;return n=e.querySelector("title"),[null!=n?n.textContent:void 0,J(e.querySelector("body")),t.get(e).token,"runScripts"]},t={get:function(t){var e;return null==t&&(t=document),{node:e=t.querySelector('meta[name="csrf-token"]'),token:null!=e&&"function"==typeof e.getAttribute?e.getAttribute("content"):void 0}},update:function(t){var e;return e=this.get(),null!=e.token&&null!=t&&e.token!==t?e.node.setAttribute("content",t):void 0}},g=function(t){var e;return e=document.documentElement.cloneNode(),e.innerHTML=t,e.head=e.querySelector("head"),e.body=e.querySelector("body"),e},n=function(){function t(e){return this.original=null!=e?e:document.location.href,this.original.constructor===t?this.original:void this._parse()}return t.prototype.withoutHash=function(){return this.href.replace(this.hash,"").replace("#","")},t.prototype.withoutHashForIE10compatibility=function(){return this.withoutHash()},t.prototype.hasNoHash=function(){return 0===this.hash.length},t.prototype.crossOrigin=function(){return this.origin!==(new t).origin},t.prototype._parse=function(){var t;return(null!=this.link?this.link:this.link=document.createElement("a")).href=this.original,t=this.link,this.href=t.href,this.protocol=t.protocol,this.host=t.host,this.hostname=t.hostname,this.port=t.port,this.pathname=t.pathname,this.search=t.search,this.hash=t.hash,this.origin=[this.protocol,"//",this.hostname].join(""),0!==this.port.length&&(this.origin+=":"+this.port),this.relative=[this.pathname,this.search,this.hash].join(""),this.absolute=this.href},t}(),i=function(t){function e(t){return this.link=t,this.link.constructor===e?this.link:(this.original=this.link.href,this.originalElement=this.link,this.link=this.link.cloneNode(!1),void e.__super__.constructor.apply(this,arguments))}return ot(e,t),e.HTML_EXTENSIONS=["html"],e.allowExtensions=function(){var t,n,o,i;for(n=1<=arguments.length?rt.call(arguments,0):[],o=0,i=n.length;i>o;o++)t=n[o],e.HTML_EXTENSIONS.push(t);return e.HTML_EXTENSIONS},e.prototype.shouldIgnore=function(){return this.crossOrigin()||this._anchored()||this._nonHtml()||this._optOut()||this._target()},e.prototype._anchored=function(){return(this.hash.length>0||"#"===this.href.charAt(this.href.length-1))&&this.withoutHash()===(new n).withoutHash()},e.prototype._nonHtml=function(){return this.pathname.match(/\.[a-z]+$/g)&&!this.pathname.match(new RegExp("\\.(?:"+e.HTML_EXTENSIONS.join("|")+")?$","g"))},e.prototype._optOut=function(){var t,e;for(e=this.originalElement;!t&&e!==document;)t=null!=e.getAttribute("data-no-turbolink"),e=e.parentNode;return t},e.prototype._target=function(){return 0!==this.link.target.length},e}(n),e=function(){function t(t){this.event=t,this.event.defaultPrevented||(this._extractLink(),this._validForTurbolinks()&&(P(this.link.absolute)||tt(this.link.href),this.event.preventDefault()))}return t.installHandlerLast=function(e){return e.defaultPrevented?void 0:(document.removeEventListener("click",t.handle,!1),document.addEventListener("click",t.handle,!1))},t.handle=function(e){return new t(e)},t.prototype._extractLink=function(){var t;for(t=this.event.target;t.parentNode&&"A"!==t.nodeName;)t=t.parentNode;return"A"===t.nodeName&&0!==t.href.length?this.link=new i(t):void 0},t.prototype._validForTurbolinks=function(){return null!=this.link&&!(this.link.shouldIgnore()||this._nonStandardClick())},t.prototype._nonStandardClick=function(){return this.event.which>1||this.event.metaKey||this.event.ctrlKey||this.event.shiftKey||this.event.altKey},t}(),r=function(){function t(t){this.elementSelector=t,this._trickle=at(this._trickle,this),this.value=0,this.content="",this.speed=300,this.opacity=.99,this.install()}var e;return e="turbolinks-progress-bar",t.prototype.install=function(){return this.element=document.querySelector(this.elementSelector),this.element.classList.add(e),this.styleElement=document.createElement("style"),document.head.appendChild(this.styleElement),this._updateStyle()},t.prototype.uninstall=function(){return this.element.classList.remove(e),document.head.removeChild(this.styleElement)},t.prototype.start=function(){return this.advanceTo(5)},t.prototype.advanceTo=function(t){var e;if(t>(e=this.value)&&100>=e){if(this.value=t,this._updateStyle(),100===this.value)return this._stopTrickle();if(this.value>0)return this._startTrickle()}},t.prototype.done=function(){return this.value>0?(this.advanceTo(100),this._reset()):void 0},t.prototype._reset=function(){var t;return t=this.opacity,setTimeout(function(t){return function(){return t.opacity=0,t._updateStyle()}}(this),this.speed/2),setTimeout(function(e){return function(){return e.value=0,e.opacity=t,e._withSpeed(0,function(){return e._updateStyle(!0)})}}(this),this.speed)},t.prototype._startTrickle=function(){return this.trickling?void 0:(this.trickling=!0,setTimeout(this._trickle,this.speed))},t.prototype._stopTrickle=function(){return delete this.trickling},t.prototype._trickle=function(){return this.trickling?(this.advanceTo(this.value+Math.random()/2),setTimeout(this._trickle,this.speed)):void 0},t.prototype._withSpeed=function(t,e){var n,o;return n=this.speed,this.speed=t,o=e(),this.speed=n,o},t.prototype._updateStyle=function(t){return null==t&&(t=!1),t&&this._changeContentToForceRepaint(),this.styleElement.textContent=this._createCSSRule()},t.prototype._changeContentToForceRepaint=function(){return this.content=""===this.content?" ":""},t.prototype._createCSSRule=function(){return this.elementSelector+"."+e+"::before {\n  content: '"+this.content+"';\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 2000;\n  background-color: #0076ff;\n  height: 3px;\n  opacity: "+this.opacity+";\n  width: "+this.value+"%;\n  transition: width "+this.speed+"ms ease-out, opacity "+this.speed/2+"ms ease-in;\n  transform: translate3d(0,0,0);\n}"},t}(),u=function(t){return setTimeout(t,500)},E=function(){return document.addEventListener("DOMContentLoaded",function(){return Z(o.CHANGE),Z(o.UPDATE)},!0)},D=function(){return"undefined"!=typeof jQuery?jQuery(document).on("ajaxSuccess",function(t,e,n){return jQuery.trim(e.responseText)?Z(o.UPDATE):void 0}):void 0},N=function(t){var e,o;return(null!=(o=t.state)?o.turbolinks:void 0)?(e=O[new n(t.state.url).absolute])?(c(),T(e)):tt(t.target.location.href):void 0},$=function(){return V(),W(),document.addEventListener("click",e.installHandlerLast,!0),window.addEventListener("hashchange",function(t){return V(),W()},!1),u(function(){return window.addEventListener("popstate",N,!1)})},S=void 0!==window.history.state||navigator.userAgent.match(/Firefox\/2[6|7]/),l=window.history&&window.history.pushState&&window.history.replaceState&&S,a=!navigator.userAgent.match(/CriOS\//),X="GET"===(H=B("request_method"))||""===H,d=l&&a&&X,s=document.addEventListener&&document.createEvent,s&&(E(),D()),d?(tt=x,$()):tt=function(t){return document.location.href=t},this.Turbolinks={visit:tt,pagesCached:L,enableTransitionCache:b,enableProgressBar:_,allowLinkExtensions:i.allowExtensions,supported:d,EVENTS:f(o)}}.call(this),function(t,e){"function"==typeof define&&define.amd?define("simple-module",["jquery"],function(n){return t.returnExportsGlobal=e(n)}):"object"==typeof exports?module.exports=e(require("jquery")):t.SimpleModule=e(jQuery)}(this,function(t){var e,n=[].slice;return e=function(){function e(e){var n,o,i,r,a,s,l;if(this.opts=t.extend({},this.opts,e),(a=this.constructor)._connectedClasses||(a._connectedClasses=[]),i=function(){var t,e,o,i;for(o=this.constructor._connectedClasses,i=[],t=0,e=o.length;e>t;t++)n=o[t],r=n.pluginName.charAt(0).toLowerCase()+n.pluginName.slice(1),n.prototype._connected&&(n.prototype._module=this),i.push(this[r]=new n);return i}.call(this),this._connected)this.opts=t.extend({},this.opts,this._module.opts);else for(this._init(),s=0,l=i.length;l>s;s++)o=i[s],"function"==typeof o._init&&o._init();this.trigger("initialized")}return e.extend=function(t){var e,n,o;if(null!=t&&"object"==typeof t){for(e in t)n=t[e],"included"!==e&&"extended"!==e&&(this[e]=n);return null!=(o=t.extended)?o.call(this):void 0}},e.include=function(t){var e,n,o;if(null!=t&&"object"==typeof t){for(e in t)n=t[e],"included"!==e&&"extended"!==e&&(this.prototype[e]=n);return null!=(o=t.included)?o.call(this):void 0}},e.connect=function(t){if("function"==typeof t){if(!t.pluginName)throw new Error("Module.connect: cannot connect plugin without pluginName");return t.prototype._connected=!0,this._connectedClasses||(this._connectedClasses=[]),this._connectedClasses.push(t),t.pluginName?this[t.pluginName]=t:void 0}},e.prototype.opts={},e.prototype._init=function(){},e.prototype.on=function(){var e,o;return e=1<=arguments.length?n.call(arguments,0):[],(o=t(this)).on.apply(o,e),this},e.prototype.one=function(){var e,o;return e=1<=arguments.length?n.call(arguments,0):[],(o=t(this)).one.apply(o,e),this},e.prototype.off=function(){var e,o;return e=1<=arguments.length?n.call(arguments,0):[],(o=t(this)).off.apply(o,e),this},e.prototype.trigger=function(){var e,o;return e=1<=arguments.length?n.call(arguments,0):[],(o=t(this)).trigger.apply(o,e),this},e.prototype.triggerHandler=function(){var e,o;return e=1<=arguments.length?n.call(arguments,0):[],(o=t(this)).triggerHandler.apply(o,e)},e.prototype._t=function(){var t,e;return t=1<=arguments.length?n.call(arguments,0):[],(e=this.constructor)._t.apply(e,t)},e._t=function(){var t,e,o,i;return e=arguments[0],t=2<=arguments.length?n.call(arguments,1):[],o=(null!=(i=this.i18n[this.locale])?i[e]:void 0)||"",t.length>0?(o=o.replace(/([^%]|^)%(?:(\d+)\$)?s/g,function(e,n,o){return o?n+t[parseInt(o)-1]:n+t.shift()}),o.replace(/%%s/g,"%s")):o},e.i18n={"zh-CN":{}},e.locale="zh-CN",e}()}),function(t,e){"function"==typeof define&&define.amd?define("simple-uploader",["jquery","simple-module"],function(n,o){return t.uploader=e(n,o)}):"object"==typeof exports?module.exports=e(require("jquery"),require("simplemodule")):(t.simple=t.simple||{},t.simple.uploader=e(jQuery,SimpleModule))}(this,function(t,e){var n,o,i=function(t,e){function n(){this.constructor=t}for(var o in e)r.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;return n=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return i(n,e),n.count=0,n.prototype.opts={url:"",params:null,fileKey:"upload_file",connectionCount:3},n.prototype._init=function(){return this.files=[],this.queue=[],this.id=++n.count,this.on("uploadcomplete",function(e){return function(n,o){return e.files.splice(t.inArray(o,e.files),1),e.queue.length>0&&e.files.length<e.opts.connectionCount?e.upload(e.queue.shift()):e.uploading=!1}}(this)),t(window).on("beforeunload.uploader-"+this.id,function(t){return function(e){return t.uploading?(e.originalEvent.returnValue=t._t("leaveConfirm"),t._t("leaveConfirm")):void 0}}(this))},n.prototype.generateId=function(){var t;return t=0,function(){return t+=1}}(),n.prototype.upload=function(e,n){var o,i,r,a;if(null==n&&(n={}),null!=e){if(t.isArray(e)||e instanceof FileList)for(i=0,a=e.length;a>i;i++)o=e[i],this.upload(o,n);else t(e).is("input:file")?(r=t(e).attr("name"),r&&(n.fileKey=r),this.upload(t.makeArray(t(e)[0].files),n)):e.id&&e.obj||(e=this.getFile(e));if(e&&e.obj){if(t.extend(e,n),this.files.length>=this.opts.connectionCount)return void this.queue.push(e);if(this.triggerHandler("beforeupload",[e])!==!1)return this.files.push(e),this._xhrUpload(e),this.uploading=!0}}},n.prototype.getFile=function(t){var e,n,o;return t instanceof window.File||t instanceof window.Blob?(e=null!=(n=t.fileName)?n:t.name,{id:this.generateId(),url:this.opts.url,params:this.opts.params,fileKey:this.opts.fileKey,name:e,size:null!=(o=t.fileSize)?o:t.size,ext:e?e.split(".").pop().toLowerCase():"",obj:t}):null},n.prototype._xhrUpload=function(e){var n,o,i,r;if(n=new FormData,n.append(e.fileKey,e.obj),n.append("original_filename",e.name),e.params){i=e.params;for(o in i)r=i[o],n.append(o,r)}return e.xhr=t.ajax({url:e.url,data:n,processData:!1,contentType:!1,type:"POST",headers:{"X-File-Name":encodeURIComponent(e.name)},xhr:function(){var e;return e=t.ajaxSettings.xhr(),e&&(e.upload.onprogress=function(t){return function(e){return t.progress(e)}}(this)),e},progress:function(t){return function(n){return n.lengthComputable?t.trigger("uploadprogress",[e,n.loaded,n.total]):void 0}}(this),error:function(t){return function(n,o,i){return t.trigger("uploaderror",[e,n,o])}}(this),success:function(n){return function(o){return n.trigger("uploadprogress",[e,e.size,e.size]),n.trigger("uploadsuccess",[e,o]),t(document).trigger("uploadsuccess",[e,o,n])}}(this),complete:function(t){return function(n,o){return t.trigger("uploadcomplete",[e,n.responseText])}}(this)})},n.prototype.cancel=function(t){var e,n,o,i;if(!t.id)for(i=this.files,n=0,o=i.length;o>n;n++)if(e=i[n],e.id===1*t){t=e;break}return this.trigger("uploadcancel",[t]),t.xhr&&t.xhr.abort(),t.xhr=null},n.prototype.readImageFile=function(e,n){var o,i;if(t.isFunction(n))return i=new Image,i.onload=function(){return n(i)},i.onerror=function(){return n()},window.FileReader&&FileReader.prototype.readAsDataURL&&/^image/.test(e.type)?(o=new FileReader,o.onload=function(t){return i.src=t.target.result},o.readAsDataURL(e)):n()},n.prototype.destroy=function(){var e,n,o,i;for(this.queue.length=0,i=this.files,n=0,o=i.length;o>n;n++)e=i[n],this.cancel(e);return t(window).off(".uploader-"+this.id),t(document).off(".uploader-"+this.id)},n.i18n={"zh-CN":{leaveConfirm:"\u6b63\u5728\u4e0a\u4f20\u6587\u4ef6\uff0c\u5982\u679c\u79bb\u5f00\u4e0a\u4f20\u4f1a\u81ea\u52a8\u53d6\u6d88"}},n.locale="zh-CN",n}(e),o=function(t){return new n(t)}}),function(t,e){"function"==typeof define&&define.amd?define("simple-hotkeys",["jquery","simple-module"],function(n,o){return t.hotkeys=e(n,o)}):"object"==typeof exports?module.exports=e(require("jquery"),require("simplemodule")):(t.simple=t.simple||{},t.simple.hotkeys=e(jQuery,SimpleModule))}(this,function(t,e){var n,o,i=function(t,e){function n(){this.constructor=t}for(var o in e)r.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;return n=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return i(n,e),n.count=0,n.keyNameMap={8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Spacebar",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Del",91:"Meta",93:"Meta",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"Multiply",107:"Add",109:"Subtract",110:"Decimal",111:"Divide",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",124:"F13",125:"F14",126:"F15",127:"F16",128:"F17",129:"F18",130:"F19",131:"F20",132:"F21",133:"F22",134:"F23",135:"F24",59:";",61:"=",186:";",187:"=",188:",",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},n.aliases={escape:"esc","delete":"del","return":"enter",ctrl:"control",space:"spacebar",ins:"insert",cmd:"meta",command:"meta",wins:"meta",windows:"meta"},n.normalize=function(t){var e,n,o,i,r,a;for(r=t.toLowerCase().replace(/\s+/gi,"").split("+"),e=n=0,a=r.length;a>n;e=++n)o=r[e],r[e]=this.aliases[o]||o;return i=r.pop(),r.sort().push(i),r.join("_")},n.prototype.opts={el:document},n.prototype._init=function(){return this.id=++this.constructor.count,this._map={},this._delegate="string"==typeof this.opts.el?document:this.opts.el,t(this._delegate).on("keydown.simple-hotkeys-"+this.id,this.opts.el,function(t){return function(e){var n;return null!=(n=t._getHander(e))?n.call(t,e):void 0}}(this))},n.prototype._getHander=function(t){var e,n;if(e=this.constructor.keyNameMap[t.which])return n="",t.altKey&&(n+="alt_"),t.ctrlKey&&(n+="control_"),t.metaKey&&(n+="meta_"),t.shiftKey&&(n+="shift_"),n+=e.toLowerCase(),this._map[n]},n.prototype.respondTo=function(t){return"string"==typeof t?null!=this._map[this.constructor.normalize(t)]:null!=this._getHander(t)},n.prototype.add=function(t,e){return this._map[this.constructor.normalize(t)]=e,this},n.prototype.remove=function(t){return delete this._map[this.constructor.normalize(t)],this},n.prototype.destroy=function(){return t(this._delegate).off(".simple-hotkeys-"+this.id),this._map={},this},n}(e),o=function(t){return new n(t)}}),/*!
* Simditor v2.3.5
* http://simditor.tower.im/
* 2015-11-19
*/
function(t,e){"function"==typeof define&&define.amd?define("simditor",["jquery","simple-module","simple-hotkeys","simple-uploader"],function(n,o,i,r){return t.Simditor=e(n,o,i,r)}):"object"==typeof exports?module.exports=e(require("jquery"),require("simple-module"),require("simple-hotkeys"),require("simple-uploader")):t.Simditor=e(jQuery,SimpleModule,simple.hotkeys,simple.uploader)}(this,function(t,e,n,o){var i,r,a,s,l,d,u,c,h,p,f,m,g,v,y,_,b,w,C,x,T,k,S,$,E,N,D,M,A,O,P,L,B,F,I=function(t,e){function n(){this.constructor=t}for(var o in e)R.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},R={}.hasOwnProperty,H=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},j=[].slice;return E=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return I(n,e),n.pluginName="Selection",n.prototype._range=null,n.prototype._startNodes=null,n.prototype._endNodes=null,n.prototype._containerNode=null,n.prototype._nodes=null,n.prototype._blockNodes=null,n.prototype._rootNodes=null,n.prototype._init=function(){return this.editor=this._module,this._selection=document.getSelection(),this.editor.on("selectionchanged",function(t){return function(e){return t.reset(),t._range=t._selection.getRangeAt(0)}}(this)),this.editor.on("blur",function(t){return function(e){return t.reset()}}(this))},n.prototype.reset=function(){return this._range=null,this._startNodes=null,this._endNodes=null,this._containerNode=null,this._nodes=null,this._blockNodes=null,this._rootNodes=null},n.prototype.clear=function(){var t;try{this._selection.removeAllRanges()}catch(e){t=e}return this.reset()},n.prototype.range=function(t){var e;return t?(this.clear(),this._selection.addRange(t),this._range=t,e=this.editor.util.browser.firefox||this.editor.util.browser.msie,!this.editor.inputManager.focused&&e&&this.editor.body.focus()):!this._range&&this.editor.inputManager.focused&&this._selection.rangeCount&&(this._range=this._selection.getRangeAt(0)),this._range},n.prototype.startNodes=function(){return this._range&&(this._startNodes||(this._startNodes=function(e){return function(){var n;return n=t(e._range.startContainer).parentsUntil(e.editor.body).get(),n.unshift(e._range.startContainer),t(n)}}(this)())),this._startNodes},n.prototype.endNodes=function(){var e;return this._range&&(this._endNodes||(this._endNodes=this._range.collapsed?this.startNodes():(e=t(this._range.endContainer).parentsUntil(this.editor.body).get(),e.unshift(this._range.endContainer),t(e)))),this._endNodes},n.prototype.containerNode=function(){return this._range&&(this._containerNode||(this._containerNode=t(this._range.commonAncestorContainer))),this._containerNode},n.prototype.nodes=function(){return this._range&&(this._nodes||(this._nodes=function(e){return function(){var n;return n=[],e.startNodes().first().is(e.endNodes().first())?n=e.startNodes().get():(e.startNodes().each(function(o,i){var r,a,s,l,d,u,c;return a=t(i),e.endNodes().index(a)>-1?n.push(i):a.parent().is(e.editor.body)||(u=e.endNodes().index(a.parent()))>-1?(r=u&&u>-1?e.endNodes().eq(u-1):e.endNodes().last(),s=a.parent().contents(),c=s.index(a),l=s.index(r),t.merge(n,s.slice(c,l).get())):(s=a.parent().contents(),d=s.index(a),t.merge(n,s.slice(d).get()))}),e.endNodes().each(function(o,i){var r,a,s;return r=t(i),r.parent().is(e.editor.body)||e.startNodes().index(r.parent())>-1?(n.push(i),!1):(a=r.parent().contents(),s=a.index(r),t.merge(n,a.slice(0,s+1)))})),t(t.unique(n))}}(this)())),this._nodes},n.prototype.blockNodes=function(){return this._range?(this._blockNodes||(this._blockNodes=function(t){return function(){return t.nodes().filter(function(e,n){return t.editor.util.isBlockNode(n)})}}(this)()),this._blockNodes):void 0},n.prototype.rootNodes=function(){return this._range?(this._rootNodes||(this._rootNodes=function(e){return function(){return e.nodes().filter(function(n,o){var i;return i=t(o).parent(),i.is(e.editor.body)||i.is("blockquote")})}}(this)()),this._rootNodes):void 0},n.prototype.rangeAtEndOf=function(e,n){var o,i,r,a,s,l;return null==n&&(n=this.range()),n&&n.collapsed?(e=t(e)[0],r=n.endContainer,a=this.editor.util.getNodeLength(r),i=n.endOffset===a-1,s=t(r).contents().last().is("br"),o=n.endOffset===a,i&&s||o?e===r?!0:t.contains(e,r)?(l=!0,t(r).parentsUntil(e).addBack().each(function(e,n){var o,i,r,a;return a=t(n).parent().contents().filter(function(){return!(this!==n&&3===this.nodeType&&!this.nodeValue)}),o=a.last(),r=o.get(0)===n,i=o.is("br")&&o.prev().get(0)===n,r||i?void 0:(l=!1,!1)}),l):!1:!1):void 0},n.prototype.rangeAtStartOf=function(e,n){var o,i;return null==n&&(n=this.range()),n&&n.collapsed?(e=t(e)[0],i=n.startContainer,0!==n.startOffset?!1:e===i?!0:t.contains(e,i)?(o=!0,t(i).parentsUntil(e).addBack().each(function(e,n){var i;return i=t(n).parent().contents().filter(function(){return!(this!==n&&3===this.nodeType&&!this.nodeValue)}),i.first().get(0)!==n?o=!1:void 0}),o):!1):void 0},n.prototype.insertNode=function(e,n){return null==n&&(n=this.range()),n?(e=t(e)[0],n.insertNode(e),this.setRangeAfter(e,n)):void 0},n.prototype.setRangeAfter=function(e,n){return null==n&&(n=this.range()),null!=n?(e=t(e)[0],n.setEndAfter(e),n.collapse(!1),this.range(n)):void 0},n.prototype.setRangeBefore=function(e,n){return null==n&&(n=this.range()),null!=n?(e=t(e)[0],n.setEndBefore(e),n.collapse(!1),this.range(n)):void 0},n.prototype.setRangeAtStartOf=function(e,n){return null==n&&(n=this.range()),e=t(e).get(0),n.setEnd(e,0),n.collapse(!1),this.range(n)},n.prototype.setRangeAtEndOf=function(e,n){var o,i,r,a,s,l,d;return null==n&&(n=this.range()),i=t(e),e=i[0],i.is("pre")?(r=i.contents(),r.length>0?(a=r.last(),l=a.text(),s=this.editor.util.getNodeLength(a[0]),"\n"===l.charAt(l.length-1)?n.setEnd(a[0],s-1):n.setEnd(a[0],s)):n.setEnd(e,0)):(d=this.editor.util.getNodeLength(e),3!==e.nodeType&&d>0&&(o=t(e).contents().last(),o.is("br")?d-=1:3!==o[0].nodeType&&this.editor.util.isEmptyNode(o)&&(o.append(this.editor.util.phBr),e=o[0],d=0)),n.setEnd(e,d)),n.collapse(!1),this.range(n)},n.prototype.deleteRangeContents=function(t){var e,n,o,i;return null==t&&(t=this.range()),i=t.cloneRange(),o=t.cloneRange(),i.collapse(!0),o.collapse(!1),n=this.rangeAtStartOf(this.editor.body,i),e=this.rangeAtEndOf(this.editor.body,o),!t.collapsed&&n&&e?(this.editor.body.empty(),t.setStart(this.editor.body[0],0),t.collapse(!0),this.range(t)):t.deleteContents(),t},n.prototype.breakBlockEl=function(e,n){var o;return null==n&&(n=this.range()),o=t(e),n.collapsed?(n.setStartBefore(o.get(0)),n.collapsed?o:o.before(n.extractContents())):o},n.prototype.save=function(e){var n,o,i;return null==e&&(e=this.range()),this._selectionSaved?void 0:(o=e.cloneRange(),o.collapse(!1),i=t("<span/>").addClass("simditor-caret-start"),n=t("<span/>").addClass("simditor-caret-end"),o.insertNode(n[0]),e.insertNode(i[0]),this.clear(),this._selectionSaved=!0)},n.prototype.restore=function(){var t,e,n,o,i,r,a;return this._selectionSaved?(i=this.editor.body.find(".simditor-caret-start"),t=this.editor.body.find(".simditor-caret-end"),i.length&&t.length?(r=i.parent(),a=r.contents().index(i),e=t.parent(),n=e.contents().index(t),r[0]===e[0]&&(n-=1),o=document.createRange(),o.setStart(r.get(0),a),o.setEnd(e.get(0),n),i.remove(),t.remove(),this.range(o)):(i.remove(),t.remove()),this._selectionSaved=!1,o):!1},n}(e),p=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return I(n,e),n.pluginName="Formatter",n.prototype.opts={allowedTags:[],allowedAttributes:{},allowedStyles:{}},n.prototype._init=function(){return this.editor=this._module,this._allowedTags=t.merge(["br","span","a","img","b","strong","i","strike","u","font","p","ul","ol","li","blockquote","pre","code","h1","h2","h3","h4","hr"],this.opts.allowedTags),this._allowedAttributes=t.extend({img:["src","alt","width","height","data-non-image"],a:["href","target"],font:["color"],code:["class"]},this.opts.allowedAttributes),this._allowedStyles=t.extend({span:["color","font-size"],b:["color"],i:["color"],strong:["color"],strike:["color"],u:["color"],p:["margin-left","text-align"],h1:["margin-left","text-align"],h2:["margin-left","text-align"],h3:["margin-left","text-align"],h4:["margin-left","text-align"]},this.opts.allowedStyles),this.editor.body.on("click","a",function(t){return!1})},n.prototype.decorate=function(t){return null==t&&(t=this.editor.body),this.editor.trigger("decorate",[t]),t},n.prototype.undecorate=function(t){return null==t&&(t=this.editor.body.clone()),this.editor.trigger("undecorate",[t]),t},n.prototype.autolink=function(e){var n,o,i,r,a,s,l,d,u,c,h,p,f;for(null==e&&(e=this.editor.body),l=[],i=function(n){return n.contents().each(function(n,o){var r,a;return r=t(o),r.is("a")||r.closest("a, pre",e).length?void 0:!r.is("iframe")&&r.contents().length?i(r):(a=r.text())&&/https?:\/\/|www\./gi.test(a)?l.push(r):void 0})},i(e),u=/(https?:\/\/|www\.)[\w\-\.\?&=\/#%:,@\!\+]+/gi,r=0,s=l.length;s>r;r++){for(o=l[r],p=o.text(),c=[],d=null,a=0;null!==(d=u.exec(p));)h=p.substring(a,d.index),c.push(document.createTextNode(h)),a=u.lastIndex,f=/^(http(s)?:\/\/|\/)/.test(d[0])?d[0]:"http://"+d[0],n=t('<a href="'+f+'" rel="nofollow"></a>').text(d[0]),c.push(n[0]);c.push(document.createTextNode(p.substring(a))),o.replaceWith(t(c))}return e},n.prototype.format=function(e){var n,o,i,r,a,s,l,d,u,c;if(null==e&&(e=this.editor.body),e.is(":empty"))return e.append("<p>"+this.editor.util.phBr+"</p>"),e;for(u=e.contents(),i=0,a=u.length;a>i;i++)l=u[i],this.cleanNode(l,!0);for(c=e.contents(),r=0,s=c.length;s>r;r++)d=c[r],n=t(d),n.is("br")?("undefined"!=typeof o&&null!==o&&(o=null),n.remove()):this.editor.util.isBlockNode(d)?n.is("li")?o&&o.is("ul, ol")?o.append(d):(o=t("<ul/>").insertBefore(d),o.append(d)):o=null:((!o||o.is("ul, ol"))&&(o=t("<p/>").insertBefore(d)),o.append(d),this.editor.util.isEmptyNode(o)&&o.append(this.editor.util.phBr));return e},n.prototype.cleanNode=function(e,n){var o,i,r,a,s,l,d,u,c,h,p,f,m,g,v,y,_,b;if(r=t(e),r.length>0){if(3===r[0].nodeType)return _=r.text().replace(/(\r\n|\n|\r)/gm,""),void(_?(b=document.createTextNode(_),r.replaceWith(b)):r.remove());if(u=r.is("iframe")?null:r.contents(),c=this.editor.util.isDecoratedNode(r),r.is(this._allowedTags.join(","))||c){if(r.is("a")&&(i=r.find("img")).length>0&&(r.replaceWith(i),r=i,u=null),r.is("td")&&(o=r.find(this.editor.util.blockNodes.join(","))).length>0&&(o.each(function(e){return function(e,n){return t(n).contents().unwrap()}}(this)),u=r.contents()),r.is("img")&&r.hasClass("uploading")&&r.remove(),!c){for(l=this._allowedAttributes[r[0].tagName.toLowerCase()],v=t.makeArray(r[0].attributes),h=0,f=v.length;f>h;h++)d=v[h],"style"!==d.name&&(null!=l&&(y=d.name,H.call(l,y)>=0)||r.removeAttr(d.name));this._cleanNodeStyles(r),r.is("span")&&0===r[0].attributes.length&&r.contents().first().unwrap()}}else 1!==r[0].nodeType||r.is(":empty")?(r.remove(),u=null):r.is("div, article, dl, header, footer, tr")?(r.append("<br/>"),u.first().unwrap()):r.is("table")?(a=t("<p/>"),r.find("tr").each(function(e,n){return a.append(t(n).text()+"<br/>")}),r.replaceWith(a),u=null):r.is("thead, tfoot")?(r.remove(),u=null):r.is("th")?(s=t("<td/>").append(r.contents()),r.replaceWith(s)):u.first().unwrap();if(n&&null!=u&&!r.is("pre"))for(p=0,m=u.length;m>p;p++)g=u[p],this.cleanNode(g,!0);return null}},n.prototype._cleanNodeStyles=function(e){var n,o,i,r,a,s,l,d,u;if(d=e.attr("style")){if(e.removeAttr("style"),n=this._allowedStyles[e[0].tagName.toLowerCase()],!(n&&n.length>0))return e;for(u={},a=d.split(";"),o=0,i=a.length;i>o;o++)l=a[o],l=t.trim(l),r=l.split(":"),(r.length=2)&&(s=r[0],H.call(n,s)>=0&&(u[t.trim(r[0])]=t.trim(r[1])));return Object.keys(u).length>0&&e.css(u),e}},n.prototype.clearHtml=function(e,n){var o,i,r;return null==n&&(n=!0),o=t("<div/>").append(e),i=o.contents(),r="",i.each(function(e){return function(o,a){var s,l;return 3===a.nodeType?r+=a.nodeValue:1===a.nodeType&&(s=t(a),l=s.is("iframe")?null:s.contents(),l&&l.length>0&&(r+=e.clearHtml(l)),n&&o<i.length-1&&s.is("br, p, div, li,tr, pre, address, artticle, aside, dl, figcaption, footer, h1, h2,h3, h4, header"))?r+="\n":void 0}}(this)),r},n.prototype.beautify=function(e){var n;return n=function(t){return!!(t.is("p")&&!t.text()&&t.children(":not(br)").length<1)},e.each(function(e,o){var i,r;return i=t(o),r=i.is(':not(img, br, col, td, hr, [class^="simditor-"]):empty'),(r||n(i))&&i.remove(),i.find(':not(img, br, col, td, hr, [class^="simditor-"]):empty').remove()})},n}(e),_=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return I(n,e),n.pluginName="InputManager",n.prototype._modifierKeys=[16,17,18,91,93,224],n.prototype._arrowKeys=[37,38,39,40],n.prototype._init=function(){var e,n;return this.editor=this._module,this.throttledValueChanged=this.editor.util.throttle(function(t){return function(e){return setTimeout(function(){return t.editor.trigger("valuechanged",e)},10)}}(this),300),this.throttledSelectionChanged=this.editor.util.throttle(function(t){return function(){return t.editor.trigger("selectionchanged")}}(this),50),t(document).on("selectionchange.simditor"+this.editor.id,function(t){return function(e){var n;if(t.focused&&!t.editor.clipboard.pasting)return(n=function(){return t._selectionTimer&&(clearTimeout(t._selectionTimer),t._selectionTimer=null),t.editor.selection._selection.rangeCount>0?t.throttledSelectionChanged():t._selectionTimer=setTimeout(function(){return t._selectionTimer=null,t.focused?n():void 0},10)})()}}(this)),this.editor.on("valuechanged",function(e){return function(){var n;return e.lastCaretPosition=null,n=e.editor.body.children().filter(function(t,n){return e.editor.util.isBlockNode(n)}),e.focused&&0===n.length&&(e.editor.selection.save(),e.editor.formatter.format(),e.editor.selection.restore()),e.editor.body.find("hr, pre, .simditor-table").each(function(n,o){var i,r;return i=t(o),(i.parent().is("blockquote")||i.parent()[0]===e.editor.body[0])&&(r=!1,0===i.next().length&&(t("<p/>").append(e.editor.util.phBr).insertAfter(i),r=!0),0===i.prev().length&&(t("<p/>").append(e.editor.util.phBr).insertBefore(i),r=!0),r)?e.throttledValueChanged():void 0}),e.editor.body.find("pre:empty").append(e.editor.util.phBr),!e.editor.util.support.onselectionchange&&e.focused?e.throttledSelectionChanged():void 0}}(this)),this.editor.body.on("keydown",t.proxy(this._onKeyDown,this)).on("keypress",t.proxy(this._onKeyPress,this)).on("keyup",t.proxy(this._onKeyUp,this)).on("mouseup",t.proxy(this._onMouseUp,this)).on("focus",t.proxy(this._onFocus,this)).on("blur",t.proxy(this._onBlur,this)).on("drop",t.proxy(this._onDrop,this)).on("input",t.proxy(this._onInput,this)),this.editor.util.browser.firefox&&(this.editor.hotkeys.add("cmd+left",function(t){return function(e){return e.preventDefault(),t.editor.selection._selection.modify("move","backward","lineboundary"),!1}}(this)),this.editor.hotkeys.add("cmd+right",function(t){return function(e){return e.preventDefault(),t.editor.selection._selection.modify("move","forward","lineboundary"),!1}}(this)),e=this.editor.util.os.mac?"cmd+a":"ctrl+a",this.editor.hotkeys.add(e,function(t){return function(e){var n,o,i,r;return n=t.editor.body.children(),n.length>0?(o=n.first().get(0),i=n.last().get(0),r=document.createRange(),r.setStart(o,0),r.setEnd(i,t.editor.util.getNodeLength(i)),t.editor.selection.range(r),!1):void 0}}(this))),n=this.editor.util.os.mac?"cmd+enter":"ctrl+enter",this.editor.hotkeys.add(n,function(t){return function(e){return t.editor.el.closest("form").find("button:submit").click(),!1}}(this))},n.prototype._onFocus=function(t){return this.editor.clipboard.pasting?void 0:(this.editor.el.addClass("focus").removeClass("error"),this.focused=!0,setTimeout(function(t){return function(){var e,n;return n=t.editor.selection._selection.getRangeAt(0),n.startContainer===t.editor.body[0]&&(t.lastCaretPosition?t.editor.undoManager.caretPosition(t.lastCaretPosition):(e=t.editor.body.children().first(),n=document.createRange(),t.editor.selection.setRangeAtStartOf(e,n))),t.lastCaretPosition=null,t.editor.triggerHandler("focus"),t.editor.util.support.onselectionchange?void 0:t.throttledSelectionChanged()}}(this),0))},n.prototype._onBlur=function(t){var e;if(!this.editor.clipboard.pasting)return this.editor.el.removeClass("focus"),this.editor.sync(),this.focused=!1,this.lastCaretPosition=null!=(e=this.editor.undoManager.currentState())?e.caret:void 0,this.editor.triggerHandler("blur")},n.prototype._onMouseUp=function(t){return this.editor.util.support.onselectionchange?void 0:this.throttledSelectionChanged()},n.prototype._onKeyDown=function(t){var e,n;if(this.editor.triggerHandler(t)===!1)return!1;if(!this.editor.hotkeys.respondTo(t)){if(this.editor.keystroke.respondTo(t))return this.throttledValueChanged(),!1;if(e=t.which,!(H.call(this._modifierKeys,e)>=0||(n=t.which,H.call(this._arrowKeys,n)>=0)||this.editor.util.metaKey(t)&&86===t.which))return this.editor.util.support.oninput||this.throttledValueChanged(["typing"]),null}},n.prototype._onKeyPress=function(t){return this.editor.triggerHandler(t)===!1?!1:void 0},n.prototype._onKeyUp=function(e){var n,o;return this.editor.triggerHandler(e)===!1?!1:!this.editor.util.support.onselectionchange&&(o=e.which,H.call(this._arrowKeys,o)>=0)?void this.throttledValueChanged():void(8!==e.which&&46!==e.which||!this.editor.util.isEmptyNode(this.editor.body)||(this.editor.body.empty(),n=t("<p/>").append(this.editor.util.phBr).appendTo(this.editor.body),this.editor.selection.setRangeAtStartOf(n)))},n.prototype._onDrop=function(t){return this.editor.triggerHandler(t)===!1?!1:this.throttledValueChanged()},n.prototype._onInput=function(t){return this.throttledValueChanged(["oninput"])},n}(e),w=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return I(n,e),n.pluginName="Keystroke",n.prototype._init=function(){return this.editor=this._module,this._keystrokeHandlers={},this._initKeystrokeHandlers()},n.prototype.add=function(t,e,n){return t=t.toLowerCase(),t=this.editor.hotkeys.constructor.aliases[t]||t,this._keystrokeHandlers[t]||(this._keystrokeHandlers[t]={}),this._keystrokeHandlers[t][e]=n},n.prototype.respondTo=function(e){var n,o,i,r;return(o=null!=(i=this.editor.hotkeys.constructor.keyNameMap[e.which])?i.toLowerCase():void 0)&&o in this._keystrokeHandlers&&(r="function"==typeof(n=this._keystrokeHandlers[o])["*"]?n["*"](e):void 0,r||this.editor.selection.startNodes().each(function(n){return function(i,a){var s,l;if(a.nodeType===Node.ELEMENT_NODE)return s=null!=(l=n._keystrokeHandlers[o])?l[a.tagName.toLowerCase()]:void 0,r="function"==typeof s?s(e,t(a)):void 0,r===!0||r===!1?!1:void 0}}(this)),r)?!0:void 0},n.prototype._initKeystrokeHandlers=function(){var e;return this.editor.util.browser.safari&&this.add("enter","*",function(e){return function(n){var o,i;if(n.shiftKey&&(o=e.editor.selection.blockNodes().last(),!o.is("pre")))return i=t("<br/>"),e.editor.selection.rangeAtEndOf(o)?(e.editor.selection.insertNode(i),e.editor.selection.insertNode(t("<br/>")),e.editor.selection.setRangeBefore(i)):e.editor.selection.insertNode(i),!0}}(this)),(this.editor.util.browser.webkit||this.editor.util.browser.msie)&&(e=function(e){return function(n,o){var i;if(e.editor.selection.rangeAtEndOf(o))return i=t("<p/>").append(e.editor.util.phBr).insertAfter(o),e.editor.selection.setRangeAtStartOf(i),!0}}(this),this.add("enter","h1",e),this.add("enter","h2",e),this.add("enter","h3",e),this.add("enter","h4",e),this.add("enter","h5",e),this.add("enter","h6",e)),this.add("backspace","*",function(t){return function(e){var n,o,i,r;return i=t.editor.selection.rootNodes().first(),o=i.prev(),o.is("hr")&&t.editor.selection.rangeAtStartOf(i)?(t.editor.selection.save(),o.remove(),t.editor.selection.restore(),!0):(n=t.editor.selection.blockNodes().last(),r=t.editor.util.browser.webkit,r&&t.editor.selection.rangeAtStartOf(n)?(t.editor.selection.save(),t.editor.formatter.cleanNode(n,!0),t.editor.selection.restore(),null):void 0)}}(this)),this.add("enter","li",function(e){return function(n,o){var i,r,a,s;if(i=o.clone(),i.find("ul, ol").remove(),e.editor.util.isEmptyNode(i)&&o.is(e.editor.selection.blockNodes().last())){if(r=o.parent(),o.next("li").length>0){if(!e.editor.util.isEmptyNode(o))return;r.parent("li").length>0?(a=t("<li/>").append(e.editor.util.phBr).insertAfter(r.parent("li")),s=t("<"+r[0].tagName+"/>").append(o.nextAll("li")),a.append(s)):(a=t("<p/>").append(e.editor.util.phBr).insertAfter(r),s=t("<"+r[0].tagName+"/>").append(o.nextAll("li")),a.after(s))}else r.parent("li").length>0?(a=t("<li/>").insertAfter(r.parent("li")),o.contents().length>0?a.append(o.contents()):a.append(e.editor.util.phBr)):(a=t("<p/>").append(e.editor.util.phBr).insertAfter(r),o.children("ul, ol").length>0&&a.after(o.children("ul, ol")));return o.prev("li").length?o.remove():r.remove(),e.editor.selection.setRangeAtStartOf(a),!0}}}(this)),this.add("enter","pre",function(e){return function(n,o){var i,r,a;return n.preventDefault(),n.shiftKey?(i=t("<p/>").append(e.editor.util.phBr).insertAfter(o),e.editor.selection.setRangeAtStartOf(i),!0):(a=e.editor.selection.range(),r=null,a.deleteContents(),!e.editor.util.browser.msie&&e.editor.selection.rangeAtEndOf(o)?(r=document.createTextNode("\n\n"),a.insertNode(r),a.setEnd(r,1)):(r=document.createTextNode("\n"),a.insertNode(r),a.setStartAfter(r)),a.collapse(!1),e.editor.selection.range(a),!0)}}(this)),this.add("enter","blockquote",function(t){return function(e,n){var o,i;return o=t.editor.selection.blockNodes().last(),o.is("p")&&!o.next().length&&t.editor.util.isEmptyNode(o)?(n.after(o),i=document.createRange(),t.editor.selection.setRangeAtStartOf(o,i),!0):void 0}}(this)),this.add("backspace","li",function(e){return function(n,o){var i,r,a,s,l,d,u,c,h;return r=o.children("ul, ol"),l=o.prev("li"),r.length>0&&l.length>0?(h="",d=null,o.contents().each(function(e,n){if(1===n.nodeType&&/UL|OL/.test(n.nodeName))return!1;if(1!==n.nodeType||!/BR/.test(n.nodeName))return 3===n.nodeType&&n.nodeValue?h+=n.nodeValue:1===n.nodeType&&(h+=t(n).text()),d=t(n)}),u=e.editor.util.browser.firefox&&!d.next("br").length,d&&1===h.length&&u?(i=t(e.editor.util.phBr).insertAfter(d),d.remove(),e.editor.selection.setRangeBefore(i),!0):h.length>0?!1:(c=document.createRange(),s=l.children("ul, ol"),s.length>0?(a=t("<li/>").append(e.editor.util.phBr).appendTo(s),s.append(r.children("li")),o.remove(),e.editor.selection.setRangeAtEndOf(a,c)):(e.editor.selection.setRangeAtEndOf(l,c),l.append(r),o.remove(),e.editor.selection.range(c)),!0)):!1}}(this)),this.add("backspace","pre",function(e){return function(n,o){var i,r,a;if(e.editor.selection.rangeAtStartOf(o))return r=o.html().replace("\n","<br/>")||e.editor.util.phBr,i=t("<p/>").append(r).insertAfter(o),o.remove(),a=document.createRange(),e.editor.selection.setRangeAtStartOf(i,a),!0}}(this)),this.add("backspace","blockquote",function(t){return function(e,n){var o,i;if(t.editor.selection.rangeAtStartOf(n))return o=n.children().first().unwrap(),i=document.createRange(),t.editor.selection.setRangeAtStartOf(o,i),!0}}(this))},n}(e),L=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return I(n,e),n.pluginName="UndoManager",n.prototype._index=-1,n.prototype._capacity=20,n.prototype._startPosition=null,n.prototype._endPosition=null,n.prototype._init=function(){var t,e;return this.editor=this._module,this._stack=[],this.editor.util.os.mac?(e="cmd+z",t="shift+cmd+z"):this.editor.util.os.win?(e="ctrl+z",t="ctrl+y"):(e="ctrl+z",t="shift+ctrl+z"),this.editor.hotkeys.add(e,function(t){return function(e){return e.preventDefault(),t.undo(),!1}}(this)),this.editor.hotkeys.add(t,function(t){return function(e){return e.preventDefault(),t.redo(),!1}}(this)),this.throttledPushState=this.editor.util.throttle(function(t){return function(){return t._pushUndoState()}}(this),2e3),this.editor.on("valuechanged",function(t){return function(e,n){return"undo"!==n&&"redo"!==n?t.throttledPushState():void 0}}(this)),this.editor.on("selectionchanged",function(t){return function(e){return t.resetCaretPosition()}}(this)),this.editor.on("focus",function(t){return function(e){return 0===t._stack.length?t._pushUndoState():void 0}}(this)),this.editor.on("blur",function(t){return function(e){return t.resetCaretPosition()}}(this))},n.prototype.resetCaretPosition=function(){return this._startPosition=null,this._endPosition=null},n.prototype.startPosition=function(){return this.editor.selection._range&&(this._startPosition||(this._startPosition=this._getPosition("start"))),this._startPosition},n.prototype.endPosition=function(){return this.editor.selection._range&&(this._endPosition||(this._endPosition=function(t){return function(){var e;return e=t.editor.selection.range(),e.collapsed?t._startPosition:t._getPosition("end")}}(this)())),this._endPosition},n.prototype._pushUndoState=function(){var t;if(this.editor.triggerHandler("pushundostate")!==!1&&(t=this.caretPosition(),t.start))return this._index+=1,this._stack.length=this._index,this._stack.push({html:this.editor.body.html(),caret:this.caretPosition()}),this._stack.length>this._capacity?(this._stack.shift(),this._index-=1):void 0},n.prototype.currentState=function(){return this._stack.length&&this._index>-1?this._stack[this._index]:null},n.prototype.undo=function(){var t;if(!(this._index<1||this._stack.length<2))return this.editor.hidePopover(),this._index-=1,t=this._stack[this._index],this.editor.body.html(t.html),this.caretPosition(t.caret),this.editor.body.find(".selected").removeClass("selected"),this.editor.sync(),this.editor.trigger("valuechanged",["undo"])},n.prototype.redo=function(){var t;if(!(this._index<0||this._stack.length<this._index+2))return this.editor.hidePopover(),this._index+=1,t=this._stack[this._index],this.editor.body.html(t.html),this.caretPosition(t.caret),this.editor.body.find(".selected").removeClass("selected"),this.editor.sync(),this.editor.trigger("valuechanged",["redo"])},n.prototype.update=function(){var t,e;return(t=this.currentState())?(e=this.editor.body.html(),t.html=e,t.caret=this.caretPosition()):void 0},n.prototype._getNodeOffset=function(e,n){var o,i,r;return o=t.isNumeric(n)?t(e):t(e).parent(),r=0,i=!1,o.contents().each(function(t,o){return e===o||n===t&&0===t?!1:(o.nodeType===Node.TEXT_NODE?!i&&o.nodeValue.length>0&&(r+=1,i=!0):(r+=1,i=!1),n-1===t?!1:null)}),r},n.prototype._getPosition=function(e){var n,o,i,r,a,s,l;if(null==e&&(e="start"),l=this.editor.selection.range(),r=l[e+"Offset"],n=this.editor.selection[e+"Nodes"](),o=n.first()[0],o.nodeType===Node.TEXT_NODE){for(s=o.previousSibling;s&&s.nodeType===Node.TEXT_NODE;)o=s,r+=this.editor.util.getNodeLength(s),s=s.previousSibling;i=n.get(),i[0]=o,n=t(i)}else r=this._getNodeOffset(o,r);return a=[r],n.each(function(t){return function(e,n){return a.unshift(t._getNodeOffset(n))}}(this)),a},n.prototype._getNodeByPosition=function(e){var n,o,i,r,a,s,l,d;for(s=this.editor.body[0],d=e.slice(0,e.length-1),i=r=0,a=d.length;a>r;i=++r){if(l=d[i],o=s.childNodes,l>o.length-1){if(i!==e.length-2||!t(s).is("pre:empty")){s=null;break}n=document.createTextNode(""),s.appendChild(n),o=s.childNodes}s=o[l]}return s},n.prototype.caretPosition=function(t){var e,n,o,i,r;if(t){if(!t.start)return;return i=this._getNodeByPosition(t.start),r=t.start[t.start.length-1],t.collapsed?(e=i,n=r):(e=this._getNodeByPosition(t.end),n=t.start[t.start.length-1]),i&&e?(o=document.createRange(),o.setStart(i,r),o.setEnd(e,n),this.editor.selection.range(o)):void("undefined"!=typeof console&&null!==console&&"function"==typeof console.warn&&console.warn("simditor: invalid caret state"))}return o=this.editor.selection.range(),t=this.editor.inputManager.focused&&null!=o?{start:this.startPosition(),end:this.endPosition(),collapsed:o.collapsed}:{}},n}(e),F=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return I(n,e),n.pluginName="Util",n.prototype._init=function(){return this.editor=this._module,this.browser.msie&&this.browser.version<11?this.phBr="":void 0},n.prototype.phBr="<br/>",n.prototype.os=function(){var t;return t={},/Mac/.test(navigator.appVersion)?t.mac=!0:/Linux/.test(navigator.appVersion)?t.linux=!0:/Win/.test(navigator.appVersion)?t.win=!0:/X11/.test(navigator.appVersion)&&(t.unix=!0),/Mobi/.test(navigator.appVersion)&&(t.mobile=!0),t}(),n.prototype.browser=function(){var t,e,n,o,i,r,a,s,l,d,u;return u=navigator.userAgent,o=/(msie|trident)/i.test(u),t=/chrome|crios/i.test(u),d=/safari/i.test(u)&&!t,n=/firefox/i.test(u),e=/edge/i.test(u),o?{msie:!0,version:1*(null!=(i=u.match(/(msie |rv:)(\d+(\.\d+)?)/i))?i[2]:void 0)}:e?{edge:!0,webkit:!0,version:1*(null!=(r=u.match(/edge\/(\d+(\.\d+)?)/i))?r[1]:void 0)}:t?{webkit:!0,chrome:!0,version:1*(null!=(a=u.match(/(?:chrome|crios)\/(\d+(\.\d+)?)/i))?a[1]:void 0)}:d?{webkit:!0,safari:!0,version:1*(null!=(s=u.match(/version\/(\d+(\.\d+)?)/i))?s[1]:void 0)}:n?{mozilla:!0,firefox:!0,version:1*(null!=(l=u.match(/firefox\/(\d+(\.\d+)?)/i))?l[1]:void 0)}:{}}(),n.prototype.support=function(){return{onselectionchange:function(){var t,e;if(e=document.onselectionchange,void 0!==e)try{return document.onselectionchange=0,null===document.onselectionchange}catch(n){t=n}finally{document.onselectionchange=e}return!1}(),oninput:function(){return!/(msie|trident)/i.test(navigator.userAgent)}()}}(),n.prototype.reflow=function(e){return null==e&&(e=document),t(e)[0].offsetHeight},n.prototype.metaKey=function(t){var e;return e=/Mac/.test(navigator.userAgent),e?t.metaKey:t.ctrlKey},n.prototype.isEmptyNode=function(e){var n;return n=t(e),n.is(":empty")||!n.text()&&!n.find(":not(br, span, div)").length},n.prototype.isDecoratedNode=function(e){return t(e).is('[class^="simditor-"]')},n.prototype.blockNodes=["div","p","ul","ol","li","blockquote","hr","pre","h1","h2","h3","h4","h5","table"],n.prototype.isBlockNode=function(e){return e=t(e)[0],e&&3!==e.nodeType?new RegExp("^("+this.blockNodes.join("|")+")$").test(e.nodeName.toLowerCase()):!1},n.prototype.getNodeLength=function(e){switch(e=t(e)[0],e.nodeType){case 7:case 10:return 0;case 3:case 8:return e.length;default:return e.childNodes.length}},n.prototype.dataURLtoBlob=function(t){var e,n,o,i,r,a,s,l,d,u,c,h,p;if(s=window.Blob&&function(){var t;try{return Boolean(new Blob)}catch(e){return t=e,!1}}(),a=s&&window.Uint8Array&&function(){var t;try{return 100===new Blob([new Uint8Array(100)]).size}catch(e){return t=e,!1}}(),e=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,p=s||e,!(p&&window.atob&&window.ArrayBuffer&&window.Uint8Array))return!1;for(r=t.split(",")[0].indexOf("base64")>=0?atob(t.split(",")[1]):decodeURIComponent(t.split(",")[1]),n=new ArrayBuffer(r.length),d=new Uint8Array(n),l=u=0,h=r.length;h>=0?h>=u:u>=h;l=h>=0?++u:--u)d[l]=r.charCodeAt(l);return c=t.split(",")[0].split(":")[1].split(";")[0],s?(i=a?d:n,new Blob([i],{type:c})):(o=new e,o.append(n),o.getBlob(c))},n.prototype.throttle=function(t,e){var n,o,i,r,a,s,l;return r=0,l=0,i=n=a=null,o=function(){return l=0,r=+new Date,a=t.apply(i,n),i=null,n=null},s=function(){var t;return i=this,n=arguments,t=new Date-r,l||(t>=e?o():l=setTimeout(o,e-t)),a},s.clear=function(){return l?(clearTimeout(l),o()):void 0},s},n.prototype.formatHTML=function(e){var n,o,i,r,a,s,l,d,u;for(s=/<(\/?)(.+?)(\/?)>/g,d="",r=0,i=null,o="  ",l=function(t,e){return new Array(e+1).join(t)};null!==(a=s.exec(e));)a.isBlockNode=t.inArray(a[2],this.blockNodes)>-1,a.isStartTag="/"!==a[1]&&"/"!==a[3],a.isEndTag="/"===a[1]||"/"===a[3],n=i?i.index+i[0].length:0,(u=e.substring(n,a.index)).length>0&&t.trim(u)&&(d+=u),a.isBlockNode&&a.isEndTag&&!a.isStartTag&&(r-=1),a.isBlockNode&&a.isStartTag&&(i&&i.isBlockNode&&i.isEndTag||(d+="\n"),d+=l(o,r)),d+=a[0],a.isBlockNode&&a.isEndTag&&(d+="\n"),a.isBlockNode&&a.isStartTag&&(r+=1),i=a;return t.trim(d)},n}(e),O=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return I(n,e),n.pluginName="Toolbar",n.prototype.opts={toolbar:!0,toolbarFloat:!0,toolbarHidden:!1,toolbarFloatOffset:0},n.prototype._tpl={wrapper:'<div class="simditor-toolbar"><ul></ul></div>',separator:'<li><span class="separator"></span></li>'},n.prototype._init=function(){var e,n,o;return this.editor=this._module,this.opts.toolbar?(t.isArray(this.opts.toolbar)||(this.opts.toolbar=["bold","italic","underline","strikethrough","|","ol","ul","blockquote","code","|","link","image","|","indent","outdent"]),this._render(),this.list.on("click",function(t){return!1}),this.wrapper.on("mousedown",function(t){return function(e){return t.list.find(".menu-on").removeClass(".menu-on")}}(this)),t(document).on("mousedown.simditor"+this.editor.id,function(t){return function(e){return t.list.find(".menu-on").removeClass(".menu-on");
}}(this)),!this.opts.toolbarHidden&&this.opts.toolbarFloat&&(this.wrapper.css("top",this.opts.toolbarFloatOffset),o=0,n=function(t){return function(){return t.wrapper.css("position","static"),t.wrapper.width("auto"),t.editor.util.reflow(t.wrapper),t.wrapper.width(t.wrapper.outerWidth()),t.wrapper.css("left",t.editor.util.os.mobile?t.wrapper.position().left:t.wrapper.offset().left),t.wrapper.css("position",""),o=t.wrapper.outerHeight(),t.editor.placeholderEl.css("top",o),!0}}(this),e=null,t(window).on("resize.simditor-"+this.editor.id,function(t){return e=n()}),t(window).on("scroll.simditor-"+this.editor.id,function(i){return function(r){var a,s,l;if(i.wrapper.is(":visible"))if(l=i.editor.wrapper.offset().top,a=l+i.editor.wrapper.outerHeight()-80,s=t(document).scrollTop()+i.opts.toolbarFloatOffset,l>=s||s>=a){if(i.editor.wrapper.removeClass("toolbar-floating").css("padding-top",""),i.editor.util.os.mobile)return i.wrapper.css("top",i.opts.toolbarFloatOffset)}else if(e||(e=n()),i.editor.wrapper.addClass("toolbar-floating").css("padding-top",o),i.editor.util.os.mobile)return i.wrapper.css("top",s-l+i.opts.toolbarFloatOffset)}}(this))),this.editor.on("destroy",function(t){return function(){return t.buttons.length=0}}(this)),t(document).on("mousedown.simditor-"+this.editor.id,function(t){return function(e){return t.list.find("li.menu-on").removeClass("menu-on")}}(this))):void 0},n.prototype._render=function(){var e,n,o,i;for(this.buttons=[],this.wrapper=t(this._tpl.wrapper).prependTo(this.editor.wrapper),this.list=this.wrapper.find("ul"),i=this.opts.toolbar,e=0,n=i.length;n>e;e++)if(o=i[e],"|"!==o){if(!this.constructor.buttons[o])throw new Error("simditor: invalid toolbar button "+o);this.buttons.push(new this.constructor.buttons[o]({editor:this.editor}))}else t(this._tpl.separator).appendTo(this.list);return this.opts.toolbarHidden?this.wrapper.hide():void 0},n.prototype.findButton=function(t){var e;return e=this.list.find(".toolbar-item-"+t).data("button"),null!=e?e:null},n.addButton=function(t){return this.buttons[t.prototype.name]=t},n.buttons={},n}(e),y=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return I(n,e),n.pluginName="Indentation",n.prototype.opts={tabIndent:!0},n.prototype._init=function(){return this.editor=this._module,this.editor.keystroke.add("tab","*",function(t){return function(e){var n;return n=t.editor.toolbar.findButton("code"),t.opts.tabIndent||n&&n.active?t.indent(e.shiftKey):void 0}}(this))},n.prototype.indent=function(e){var n,o,i,r,a;return i=this.editor.selection.startNodes(),o=this.editor.selection.endNodes(),n=this.editor.selection.blockNodes(),r=[],n=n.each(function(e,n){var o,i,a,s,l;for(o=!0,i=a=0,s=r.length;s>a;i=++a){if(l=r[i],t.contains(n,l)){o=!1;break}if(t.contains(l,n)){r.splice(i,1,n),o=!1;break}}return o?r.push(n):void 0}),n=t(r),a=!1,n.each(function(t){return function(n,o){var i;return i=e?t.outdentBlock(o):t.indentBlock(o),i?a=i:void 0}}(this)),a},n.prototype.indentBlock=function(e){var n,o,i,r,a,s,l,d,u,c;if(n=t(e),n.length){if(n.is("pre")){if(s=this.editor.selection.containerNode(),!s.is(n)&&!s.closest("pre").is(n))return;this.indentText(this.editor.selection.range())}else if(n.is("li")){if(a=n.prev("li"),a.length<1)return;this.editor.selection.save(),c=n.parent()[0].tagName,o=a.children("ul, ol"),o.length>0?o.append(n):t("<"+c+"/>").append(n).appendTo(a),this.editor.selection.restore()}else if(n.is("p, h1, h2, h3, h4"))u=parseInt(n.css("margin-left"))||0,u=(Math.round(u/this.opts.indentWidth)+1)*this.opts.indentWidth,n.css("margin-left",u);else{if(!n.is("table")&&!n.is(".simditor-table"))return!1;if(l=this.editor.selection.containerNode().closest("td, th"),i=l.next("td, th"),i.length>0||(d=l.parent("tr"),r=d.next("tr"),r.length<1&&d.parent().is("thead")&&(r=d.parent("thead").next("tbody").find("tr:first")),i=r.find("td:first, th:first")),!(l.length>0&&i.length>0))return;this.editor.selection.setRangeAtEndOf(i)}return!0}},n.prototype.indentText=function(t){var e,n;return e=t.toString().replace(/^(?=.+)/gm,"\xa0\xa0"),n=document.createTextNode(e||"\xa0\xa0"),t.deleteContents(),t.insertNode(n),e?(t.selectNode(n),this.editor.selection.range(t)):this.editor.selection.setRangeAfter(n)},n.prototype.outdentBlock=function(e){var n,o,i,r,a,s,l,d,u,c;if(n=t(e),n&&n.length>0){if(n.is("pre")){if(r=this.editor.selection.containerNode(),!r.is(n)&&!r.closest("pre").is(n))return;this.outdentText(c)}else if(n.is("li"))o=n.parent(),i=o.parent("li"),this.editor.selection.save(),i.length<1?(c=document.createRange(),c.setStartBefore(o[0]),c.setEndBefore(n[0]),o.before(c.extractContents()),t("<p/>").insertBefore(o).after(n.children("ul, ol")).append(n.contents()),n.remove()):(n.next("li").length>0&&t("<"+o[0].tagName+"/>").append(n.nextAll("li")).appendTo(n),n.insertAfter(i),o.children("li").length<1&&o.remove()),this.editor.selection.restore();else if(n.is("p, h1, h2, h3, h4"))u=parseInt(n.css("margin-left"))||0,u=Math.max(Math.round(u/this.opts.indentWidth)-1,0)*this.opts.indentWidth,n.css("margin-left",0===u?"":u);else{if(!n.is("table")&&!n.is(".simditor-table"))return!1;if(l=this.editor.selection.containerNode().closest("td, th"),a=l.prev("td, th"),a.length>0||(d=l.parent("tr"),s=d.prev("tr"),s.length<1&&d.parent().is("tbody")&&(s=d.parent("tbody").prev("thead").find("tr:first")),a=s.find("td:last, th:last")),!(l.length>0&&a.length>0))return;this.editor.selection.setRangeAtEndOf(a)}return!0}},n.prototype.outdentText=function(t){},n}(e),l=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return I(n,e),n.pluginName="Clipboard",n.prototype.opts={pasteImage:!1},n.prototype._init=function(){return this.editor=this._module,this.opts.pasteImage&&"string"!=typeof this.opts.pasteImage&&(this.opts.pasteImage="inline"),this.editor.body.on("paste",function(t){return function(e){var n;if(!t.pasting&&!t._pasteBin)return t.editor.triggerHandler(e)===!1?!1:(n=t.editor.selection.deleteRangeContents(),t.editor.body.html()?n.collapsed||n.collapse(!0):(t.editor.formatter.format(),t.editor.selection.setRangeAtStartOf(t.editor.body.find("p:first"))),t._processPasteByClipboardApi(e)?!1:(t.editor.inputManager.throttledValueChanged.clear(),t.editor.inputManager.throttledSelectionChanged.clear(),t.editor.undoManager.throttledPushState.clear(),t.editor.selection.reset(),t.editor.undoManager.resetCaretPosition(),t.pasting=!0,t._getPasteContent(function(e){return t._processPasteContent(e),t._pasteInBlockEl=null,t._pastePlainText=null,t.pasting=!1})))}}(this))},n.prototype._processPasteByClipboardApi=function(t){var e,n,o,i;if(!this.editor.util.browser.edge&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items&&t.originalEvent.clipboardData.items.length>0&&(n=t.originalEvent.clipboardData.items[0],/^image\//.test(n.type))){if(e=n.getAsFile(),null==e||!this.opts.pasteImage)return;if(e.name||(e.name="Clipboard Image.png"),this.editor.triggerHandler("pasting",[e])===!1)return;return i={},i[this.opts.pasteImage]=!0,null!=(o=this.editor.uploader)&&o.upload(e,i),!0}},n.prototype._getPasteContent=function(e){var n;return this._pasteBin=t('<div contenteditable="true" />').addClass("simditor-paste-bin").attr("tabIndex","-1").appendTo(this.editor.el),n={html:this.editor.body.html(),caret:this.editor.undoManager.caretPosition()},this._pasteBin.focus(),setTimeout(function(o){return function(){var i;return o.editor.hidePopover(),o.editor.body.html(n.html),o.editor.undoManager.caretPosition(n.caret),o.editor.body.focus(),o.editor.selection.reset(),o.editor.selection.range(),o._pasteInBlockEl=o.editor.selection.blockNodes().last(),o._pastePlainText=o._pasteInBlockEl.is("pre, table"),o._pastePlainText?i=o.editor.formatter.clearHtml(o._pasteBin.html(),!0):(i=t("<div/>").append(o._pasteBin.contents()),i.find("table colgroup").remove(),o.editor.formatter.format(i),o.editor.formatter.decorate(i),o.editor.formatter.beautify(i.children()),i=i.contents()),o._pasteBin.remove(),o._pasteBin=null,e(i)}}(this),0)},n.prototype._processPasteContent=function(e){var n,o,i,r,a,s,l,d,u,c,h,p,f,m,g,v,y,_,b,w,C,x,T;if(this.editor.triggerHandler("pasting",[e])!==!1&&(n=this._pasteInBlockEl,e)){if(this._pastePlainText)if(n.is("table")){for(g=e.split("\n"),d=g.pop(),s=0,u=g.length;u>s;s++)m=g[s],this.editor.selection.insertNode(document.createTextNode(m)),this.editor.selection.insertNode(t("<br/>"));this.editor.selection.insertNode(document.createTextNode(d))}else for(e=t("<div/>").text(e),w=e.contents(),l=0,c=w.length;c>l;l++)y=w[l],this.editor.selection.insertNode(t(y)[0]);else if(n.is(this.editor.body))for(v=0,h=e.length;h>v;v++)y=e[v],this.editor.selection.insertNode(y);else{if(e.length<1)return;if(1===e.length)if(e.is("p")){if(r=e.contents(),1===r.length&&r.is("img")){if(o=r,/^data:image/.test(o.attr("src"))){if(!this.opts.pasteImage)return;return i=this.editor.util.dataURLtoBlob(o.attr("src")),i.name="Clipboard Image.png",T={},T[this.opts.pasteImage]=!0,void(null!=(C=this.editor.uploader)&&C.upload(i,T))}if(o.is('img[src^="webkit-fake-url://"]'))return}for(_=0,p=r.length;p>_;_++)y=r[_],this.editor.selection.insertNode(y)}else if(n.is("p")&&this.editor.util.isEmptyNode(n))n.replaceWith(e),this.editor.selection.setRangeAtEndOf(e);else if(e.is("ul, ol"))if(1===e.find("li").length)for(e=t("<div/>").text(e.text()),x=e.contents(),b=0,f=x.length;f>b;b++)y=x[b],this.editor.selection.insertNode(t(y)[0]);else n.is("li")?(n.parent().after(e),this.editor.selection.setRangeAtEndOf(e)):(n.after(e),this.editor.selection.setRangeAtEndOf(e));else n.after(e),this.editor.selection.setRangeAtEndOf(e);else n.is("li")&&(n=n.parent()),this.editor.selection.rangeAtStartOf(n)?a="before":this.editor.selection.rangeAtEndOf(n)?a="after":(this.editor.selection.breakBlockEl(n),a="before"),n[a](e),this.editor.selection.setRangeAtEndOf(e.last())}return this.editor.inputManager.throttledValueChanged()}},n}(e),N=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return I(i,e),i.connect(F),i.connect(_),i.connect(E),i.connect(L),i.connect(w),i.connect(p),i.connect(O),i.connect(y),i.connect(l),i.count=0,i.prototype.opts={textarea:null,placeholder:"",defaultImage:"images/image.png",params:{},upload:!1,indentWidth:40},i.prototype._init=function(){var e,r,a,s;if(this.textarea=t(this.opts.textarea),this.opts.placeholder=this.opts.placeholder||this.textarea.attr("placeholder"),!this.textarea.length)throw new Error("simditor: param textarea is required.");if(r=this.textarea.data("simditor"),null!=r&&r.destroy(),this.id=++i.count,this._render(),!n)throw new Error("simditor: simple-hotkeys is required.");if(this.hotkeys=n({el:this.body}),this.opts.upload&&o&&(s="object"==typeof this.opts.upload?this.opts.upload:{},this.uploader=o(s)),a=this.textarea.closest("form"),a.length&&(a.on("submit.simditor-"+this.id,function(t){return function(){return t.sync()}}(this)),a.on("reset.simditor-"+this.id,function(t){return function(){return t.setValue("")}}(this))),this.on("initialized",function(t){return function(){return t.opts.placeholder&&t.on("valuechanged",function(){return t._placeholder()}),t.setValue(t.textarea.val().trim()||""),t.textarea.attr("autofocus")?t.focus():void 0}}(this)),this.util.browser.mozilla){this.util.reflow();try{return document.execCommand("enableObjectResizing",!1,!1),document.execCommand("enableInlineTableEditing",!1,!1)}catch(l){e=l}}},i.prototype._tpl='<div class="simditor">\n  <div class="simditor-wrapper">\n    <div class="simditor-placeholder"></div>\n    <div class="simditor-body" contenteditable="true">\n    </div>\n  </div>\n</div>',i.prototype._render=function(){var e,n,o,i;if(this.el=t(this._tpl).insertBefore(this.textarea),this.wrapper=this.el.find(".simditor-wrapper"),this.body=this.wrapper.find(".simditor-body"),this.placeholderEl=this.wrapper.find(".simditor-placeholder").append(this.opts.placeholder),this.el.data("simditor",this),this.wrapper.append(this.textarea),this.textarea.data("simditor",this).blur(),this.body.attr("tabindex",this.textarea.attr("tabindex")),this.util.os.mac?this.el.addClass("simditor-mac"):this.util.os.linux&&this.el.addClass("simditor-linux"),this.util.os.mobile&&this.el.addClass("simditor-mobile"),this.opts.params){n=this.opts.params,o=[];for(e in n)i=n[e],o.push(t("<input/>",{type:"hidden",name:e,value:i}).insertAfter(this.textarea));return o}},i.prototype._placeholder=function(){var t;return t=this.body.children(),0===t.length||1===t.length&&this.util.isEmptyNode(t)&&parseInt(t.css("margin-left")||0)<this.opts.indentWidth?this.placeholderEl.show():this.placeholderEl.hide()},i.prototype.setValue=function(t){return this.hidePopover(),this.textarea.val(t),this.body.html(t),this.formatter.format(),this.formatter.decorate(),this.util.reflow(this.body),this.inputManager.lastCaretPosition=null,this.trigger("valuechanged")},i.prototype.getValue=function(){return this.sync()},i.prototype.sync=function(){var e,n,o,i,r,a;for(n=this.body.clone(),this.formatter.undecorate(n),this.formatter.format(n),this.formatter.autolink(n),e=n.children(),r=e.last("p"),i=e.first("p");r.is("p")&&this.util.isEmptyNode(r);)o=r,r=r.prev("p"),o.remove();for(;i.is("p")&&this.util.isEmptyNode(i);)o=i,i=r.next("p"),o.remove();return n.find("img.uploading").remove(),a=t.trim(n.html()),this.textarea.val(a),a},i.prototype.focus=function(){var e,n;return this.body.is(":visible")&&this.body.is("[contenteditable]")?this.inputManager.lastCaretPosition?(this.undoManager.caretPosition(this.inputManager.lastCaretPosition),this.inputManager.lastCaretPosition=null):(e=this.body.children().last(),e.is("p")||(e=t("<p/>").append(this.util.phBr).appendTo(this.body)),n=document.createRange(),this.selection.setRangeAtEndOf(e,n)):void this.el.find("textarea:visible").focus()},i.prototype.blur=function(){return this.body.is(":visible")&&this.body.is("[contenteditable]")?this.body.blur():this.body.find("textarea:visible").blur()},i.prototype.hidePopover=function(){return this.el.find(".simditor-popover").each(function(e,n){return n=t(n).data("popover"),n.active?n.hide():void 0})},i.prototype.destroy=function(){return this.triggerHandler("destroy"),this.textarea.closest("form").off(".simditor .simditor-"+this.id),this.selection.clear(),this.inputManager.focused=!1,this.textarea.insertBefore(this.el).hide().val("").removeData("simditor"),this.el.remove(),t(document).off(".simditor-"+this.id),t(window).off(".simditor-"+this.id),this.off()},i}(e),N.i18n={"zh-CN":{blockquote:"\u5f15\u7528",bold:"\u52a0\u7c97\u6587\u5b57",code:"\u63d2\u5165\u4ee3\u7801",color:"\u6587\u5b57\u989c\u8272",coloredText:"\u5f69\u8272\u6587\u5b57",hr:"\u5206\u9694\u7ebf",image:"\u63d2\u5165\u56fe\u7247",externalImage:"\u5916\u94fe\u56fe\u7247",uploadImage:"\u4e0a\u4f20\u56fe\u7247",uploadFailed:"\u4e0a\u4f20\u5931\u8d25\u4e86",uploadError:"\u4e0a\u4f20\u51fa\u9519\u4e86",imageUrl:"\u56fe\u7247\u5730\u5740",imageSize:"\u56fe\u7247\u5c3a\u5bf8",imageAlt:"\u56fe\u7247\u63cf\u8ff0",restoreImageSize:"\u8fd8\u539f\u56fe\u7247\u5c3a\u5bf8",uploading:"\u6b63\u5728\u4e0a\u4f20",indent:"\u5411\u53f3\u7f29\u8fdb",outdent:"\u5411\u5de6\u7f29\u8fdb",italic:"\u659c\u4f53\u6587\u5b57",link:"\u63d2\u5165\u94fe\u63a5",linkText:"\u94fe\u63a5\u6587\u5b57",linkUrl:"\u94fe\u63a5\u5730\u5740",linkTarget:"\u6253\u5f00\u65b9\u5f0f",openLinkInCurrentWindow:"\u5728\u65b0\u7a97\u53e3\u4e2d\u6253\u5f00",openLinkInNewWindow:"\u5728\u5f53\u524d\u7a97\u53e3\u4e2d\u6253\u5f00",removeLink:"\u79fb\u9664\u94fe\u63a5",ol:"\u6709\u5e8f\u5217\u8868",ul:"\u65e0\u5e8f\u5217\u8868",strikethrough:"\u5220\u9664\u7ebf\u6587\u5b57",table:"\u8868\u683c",deleteRow:"\u5220\u9664\u884c",insertRowAbove:"\u5728\u4e0a\u9762\u63d2\u5165\u884c",insertRowBelow:"\u5728\u4e0b\u9762\u63d2\u5165\u884c",deleteColumn:"\u5220\u9664\u5217",insertColumnLeft:"\u5728\u5de6\u8fb9\u63d2\u5165\u5217",insertColumnRight:"\u5728\u53f3\u8fb9\u63d2\u5165\u5217",deleteTable:"\u5220\u9664\u8868\u683c",title:"\u6807\u9898",normalText:"\u666e\u901a\u6587\u672c",underline:"\u4e0b\u5212\u7ebf\u6587\u5b57",alignment:"\u6c34\u5e73\u5bf9\u9f50",alignCenter:"\u5c45\u4e2d",alignLeft:"\u5c45\u5de6",alignRight:"\u5c45\u53f3",selectLanguage:"\u9009\u62e9\u7a0b\u5e8f\u8bed\u8a00",fontScale:"\u5b57\u4f53\u5927\u5c0f",fontScaleXLarge:"\u8d85\u5927\u5b57\u4f53",fontScaleLarge:"\u5927\u53f7\u5b57\u4f53",fontScaleNormal:"\u6b63\u5e38\u5927\u5c0f",fontScaleSmall:"\u5c0f\u53f7\u5b57\u4f53",fontScaleXSmall:"\u8d85\u5c0f\u5b57\u4f53"},"en-US":{blockquote:"Block Quote",bold:"Bold",code:"Code",color:"Text Color",coloredText:"Colored Text",hr:"Horizontal Line",image:"Insert Image",externalImage:"External Image",uploadImage:"Upload Image",uploadFailed:"Upload failed",uploadError:"Error occurs during upload",imageUrl:"Url",imageSize:"Size",imageAlt:"Alt",restoreImageSize:"Restore Origin Size",uploading:"Uploading",indent:"Indent",outdent:"Outdent",italic:"Italic",link:"Insert Link",linkText:"Text",linkUrl:"Url",linkTarget:"Target",openLinkInCurrentWindow:"Open link in current window",openLinkInNewWindow:"Open link in new window",removeLink:"Remove Link",ol:"Ordered List",ul:"Unordered List",strikethrough:"Strikethrough",table:"Table",deleteRow:"Delete Row",insertRowAbove:"Insert Row Above",insertRowBelow:"Insert Row Below",deleteColumn:"Delete Column",insertColumnLeft:"Insert Column Left",insertColumnRight:"Insert Column Right",deleteTable:"Delete Table",title:"Title",normalText:"Text",underline:"Underline",alignment:"Alignment",alignCenter:"Align Center",alignLeft:"Align Left",alignRight:"Align Right",selectLanguage:"Select Language",fontScale:"Font Size",fontScaleXLarge:"X Large Size",fontScaleLarge:"Large Size",fontScaleNormal:"Normal Size",fontScaleSmall:"Small Size",fontScaleXSmall:"X Small Size"}},s=function(e){function n(t){this.editor=t.editor,this.title=this._t(this.name),n.__super__.constructor.call(this,t)}return I(n,e),n.prototype._tpl={item:'<li><a tabindex="-1" unselectable="on" class="toolbar-item" href="javascript:;"><span></span></a></li>',menuWrapper:'<div class="toolbar-menu"></div>',menuItem:'<li><a tabindex="-1" unselectable="on" class="menu-item" href="javascript:;"><span></span></a></li>',separator:'<li><span class="separator"></span></li>'},n.prototype.name="",n.prototype.icon="",n.prototype.title="",n.prototype.text="",n.prototype.htmlTag="",n.prototype.disableTag="",n.prototype.menu=!1,n.prototype.active=!1,n.prototype.disabled=!1,n.prototype.needFocus=!0,n.prototype.shortcut=null,n.prototype._init=function(){var e,n,o,i;for(this.render(),this.el.on("mousedown",function(t){return function(e){var n,o,i;return e.preventDefault(),o=t.needFocus&&!t.editor.inputManager.focused,t.el.hasClass("disabled")||o?!1:t.menu?(t.wrapper.toggleClass("menu-on").siblings("li").removeClass("menu-on"),t.wrapper.is(".menu-on")&&(n=t.menuWrapper.offset().left+t.menuWrapper.outerWidth()+5-t.editor.wrapper.offset().left-t.editor.wrapper.outerWidth(),n>0&&t.menuWrapper.css({left:"auto",right:0}),t.trigger("menuexpand")),!1):(i=t.el.data("param"),t.command(i),!1)}}(this)),this.wrapper.on("click","a.menu-item",function(e){return function(n){var o,i,r;return n.preventDefault(),o=t(n.currentTarget),e.wrapper.removeClass("menu-on"),i=e.needFocus&&!e.editor.inputManager.focused,o.hasClass("disabled")||i?!1:(e.editor.toolbar.wrapper.removeClass("menu-on"),r=o.data("param"),e.command(r),!1)}}(this)),this.wrapper.on("mousedown","a.menu-item",function(t){return!1}),this.editor.on("blur",function(t){return function(){var e;return e=t.editor.body.is(":visible")&&t.editor.body.is("[contenteditable]"),e&&!t.editor.clipboard.pasting?(t.setActive(!1),t.setDisabled(!1)):void 0}}(this)),null!=this.shortcut&&this.editor.hotkeys.add(this.shortcut,function(t){return function(e){return t.el.mousedown(),!1}}(this)),o=this.htmlTag.split(","),e=0,n=o.length;n>e;e++)i=o[e],i=t.trim(i),i&&t.inArray(i,this.editor.formatter._allowedTags)<0&&this.editor.formatter._allowedTags.push(i);return this.editor.on("selectionchanged",function(t){return function(e){return t.editor.inputManager.focused?t._status():void 0}}(this))},n.prototype.iconClassOf=function(t){return t?"simditor-icon simditor-icon-"+t:""},n.prototype.setIcon=function(t){return this.el.find("span").removeClass().addClass(this.iconClassOf(t)).text(this.text)},n.prototype.render=function(){return this.wrapper=t(this._tpl.item).appendTo(this.editor.toolbar.list),this.el=this.wrapper.find("a.toolbar-item"),this.el.attr("title",this.title).addClass("toolbar-item-"+this.name).data("button",this),this.setIcon(this.icon),this.menu?(this.menuWrapper=t(this._tpl.menuWrapper).appendTo(this.wrapper),this.menuWrapper.addClass("toolbar-menu-"+this.name),this.renderMenu()):void 0},n.prototype.renderMenu=function(){var e,n,o,i,r,a,s,l;if(t.isArray(this.menu)){for(this.menuEl=t("<ul/>").appendTo(this.menuWrapper),a=this.menu,l=[],o=0,i=a.length;i>o;o++)r=a[o],"|"!==r?(n=t(this._tpl.menuItem).appendTo(this.menuEl),e=n.find("a.menu-item").attr({title:null!=(s=r.title)?s:r.text,"data-param":r.param}).addClass("menu-item-"+r.name),r.icon?l.push(e.find("span").addClass(this.iconClassOf(r.icon))):l.push(e.find("span").text(r.text))):t(this._tpl.separator).appendTo(this.menuEl);return l}},n.prototype.setActive=function(t){return t!==this.active?(this.active=t,this.el.toggleClass("active",this.active)):void 0},n.prototype.setDisabled=function(t){return t!==this.disabled?(this.disabled=t,this.el.toggleClass("disabled",this.disabled)):void 0},n.prototype._disableStatus=function(){var t,e,n;return n=this.editor.selection.startNodes(),e=this.editor.selection.endNodes(),t=n.filter(this.disableTag).length>0||e.filter(this.disableTag).length>0,this.setDisabled(t),this.disabled&&this.setActive(!1),this.disabled},n.prototype._activeStatus=function(){var t,e,n,o,i;return i=this.editor.selection.startNodes(),n=this.editor.selection.endNodes(),o=i.filter(this.htmlTag),e=n.filter(this.htmlTag),t=o.length>0&&e.length>0&&o.is(e),this.node=t?o:null,this.setActive(t),this.active},n.prototype._status=function(){return this._disableStatus(),this.disabled?void 0:this._activeStatus()},n.prototype.command=function(t){},n.prototype._t=function(){var t,e,o;return t=1<=arguments.length?j.call(arguments,0):[],o=n.__super__._t.apply(this,t),o||(o=(e=this.editor)._t.apply(e,t)),o},n}(e),N.Button=s,$=function(e){function n(t){this.button=t.button,this.editor=t.button.editor,n.__super__.constructor.call(this,t)}return I(n,e),n.prototype.offset={top:4,left:0},n.prototype.target=null,n.prototype.active=!1,n.prototype._init=function(){return this.el=t('<div class="simditor-popover"></div>').appendTo(this.editor.el).data("popover",this),this.render(),this.el.on("mouseenter",function(t){return function(e){return t.el.addClass("hover")}}(this)),this.el.on("mouseleave",function(t){return function(e){return t.el.removeClass("hover")}}(this))},n.prototype.render=function(){},n.prototype._initLabelWidth=function(){var e;return e=this.el.find(".settings-field"),e.length>0?(this._labelWidth=0,e.each(function(e){return function(n,o){var i,r;return i=t(o),r=i.find("label"),r.length>0?e._labelWidth=Math.max(e._labelWidth,r.width()):void 0}}(this)),e.find("label").width(this._labelWidth)):void 0},n.prototype.show=function(e,n){return null==n&&(n="bottom"),null!=e?(this.el.siblings(".simditor-popover").each(function(e,n){return n=t(n).data("popover"),n.active?n.hide():void 0}),this.active&&this.target&&this.target.removeClass("selected"),this.target=e.addClass("selected"),this.active?(this.refresh(n),this.trigger("popovershow")):(this.active=!0,this.el.css({left:-9999}).show(),this._labelWidth||this._initLabelWidth(),this.editor.util.reflow(),this.refresh(n),this.trigger("popovershow"))):void 0},n.prototype.hide=function(){return this.active?(this.target&&this.target.removeClass("selected"),this.target=null,this.active=!1,this.el.hide(),this.trigger("popoverhide")):void 0},n.prototype.refresh=function(t){var e,n,o,i,r,a;return null==t&&(t="bottom"),this.active?(e=this.editor.el.offset(),r=this.target.offset(),i=this.target.outerHeight(),"bottom"===t?a=r.top-e.top+i:"top"===t&&(a=r.top-e.top-this.el.height()),o=this.editor.wrapper.width()-this.el.outerWidth()-10,n=Math.min(r.left-e.left,o),this.el.css({top:a+this.offset.top,left:n+this.offset.left})):void 0},n.prototype.destroy=function(){return this.target=null,this.active=!1,this.editor.off(".linkpopover"),this.el.remove()},n.prototype._t=function(){var t,e,o;return t=1<=arguments.length?j.call(arguments,0):[],o=n.__super__._t.apply(this,t),o||(o=(e=this.button)._t.apply(e,t)),o},n}(e),N.Popover=$,A=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return I(n,e),n.prototype.name="title",n.prototype.htmlTag="h1, h2, h3, h4, h5",n.prototype.disableTag="pre, table",n.prototype._init=function(){return this.menu=[{name:"normal",text:this._t("normalText"),param:"p"},"|",{name:"h1",text:this._t("title")+" 1",param:"h1"},{name:"h2",text:this._t("title")+" 2",param:"h2"},{name:"h3",text:this._t("title")+" 3",param:"h3"},{name:"h4",text:this._t("title")+" 4",param:"h4"},{name:"h5",text:this._t("title")+" 5",param:"h5"}],n.__super__._init.call(this)},n.prototype.setActive=function(t,e){return n.__super__.setActive.call(this,t),t&&(e||(e=this.node[0].tagName.toLowerCase())),this.el.removeClass("active-p active-h1 active-h2 active-h3 active-h4 active-h5"),t?this.el.addClass("active active-"+e):void 0},n.prototype.command=function(e){var n;return n=this.editor.selection.rootNodes(),this.editor.selection.save(),n.each(function(n){return function(o,i){var r;return r=t(i),r.is("blockquote")||r.is(e)||r.is(n.disableTag)||n.editor.util.isDecoratedNode(r)?void 0:t("<"+e+"/>").append(r.contents()).replaceAll(r)}}(this)),this.editor.selection.restore(),this.editor.trigger("valuechanged")},n}(s),N.Toolbar.addButton(A),h=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return I(n,e),n.prototype.name="fontScale",n.prototype.icon="font",n.prototype.disableTag="pre",n.prototype.htmlTag="span",n.prototype.sizeMap={"x-large":"1.5em",large:"1.25em",small:".75em","x-small":".5em"},n.prototype._init=function(){return this.menu=[{name:"150%",text:this._t("fontScaleXLarge"),param:"5"},{name:"125%",text:this._t("fontScaleLarge"),param:"4"},{name:"100%",text:this._t("fontScaleNormal"),param:"3"},{name:"75%",text:this._t("fontScaleSmall"),param:"2"},{name:"50%",text:this._t("fontScaleXSmall"),param:"1"}],n.__super__._init.call(this)},n.prototype._activeStatus=function(){var t,e,n,o,i,r;return o=this.editor.selection.range(),r=this.editor.selection.startNodes(),n=this.editor.selection.endNodes(),i=r.filter('span[style*="font-size"]'),e=n.filter('span[style*="font-size"]'),t=r.length>0&&n.length>0&&i.is(e),this.setActive(t),this.active},n.prototype.command=function(e){var n,o,i;return i=this.editor.selection.range(),i.collapsed?void 0:(document.execCommand("styleWithCSS",!1,!0),document.execCommand("fontSize",!1,e),document.execCommand("styleWithCSS",!1,!1),this.editor.selection.reset(),this.editor.selection.range(),o=this.editor.selection.containerNode(),n=o[0].nodeType===Node.TEXT_NODE?o.closest('span[style*="font-size"]'):o.find('span[style*="font-size"]'),n.each(function(e){return function(n,o){var i,r;return i=t(o),r=o.style.fontSize,/large|x-large|small|x-small/.test(r)?i.css("fontSize",e.sizeMap[r]):"medium"===r?i.replaceWith(i.contents()):void 0}}(this)),this.editor.trigger("valuechanged"))},n}(s),N.Toolbar.addButton(h),a=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return I(n,e),n.prototype.name="bold",n.prototype.icon="bold",n.prototype.htmlTag="b, strong",n.prototype.disableTag="pre",n.prototype.shortcut="cmd+b",n.prototype._init=function(){return this.editor.util.os.mac?this.title=this.title+" ( Cmd + b )":(this.title=this.title+" ( Ctrl + b )",this.shortcut="ctrl+b"),n.__super__._init.call(this)},n.prototype._activeStatus=function(){var t;return t=document.queryCommandState("bold")===!0,this.setActive(t),this.active},n.prototype.command=function(){return document.execCommand("bold"),this.editor.util.support.oninput||this.editor.trigger("valuechanged"),t(document).trigger("selectionchange")},n}(s),N.Toolbar.addButton(a),b=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return I(n,e),n.prototype.name="italic",n.prototype.icon="italic",n.prototype.htmlTag="i",n.prototype.disableTag="pre",n.prototype.shortcut="cmd+i",n.prototype._init=function(){return this.editor.util.os.mac?this.title=this.title+" ( Cmd + i )":(this.title=this.title+" ( Ctrl + i )",this.shortcut="ctrl+i"),n.__super__._init.call(this)},n.prototype._activeStatus=function(){var t;return t=document.queryCommandState("italic")===!0,this.setActive(t),this.active},n.prototype.command=function(){return document.execCommand("italic"),this.editor.util.support.oninput||this.editor.trigger("valuechanged"),t(document).trigger("selectionchange")},n}(s),N.Toolbar.addButton(b),P=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return I(n,e),n.prototype.name="underline",n.prototype.icon="underline",n.prototype.htmlTag="u",n.prototype.disableTag="pre",n.prototype.shortcut="cmd+u",n.prototype.render=function(){return this.editor.util.os.mac?this.title=this.title+" ( Cmd + u )":(this.title=this.title+" ( Ctrl + u )",this.shortcut="ctrl+u"),n.__super__.render.call(this)},n.prototype._activeStatus=function(){var t;return t=document.queryCommandState("underline")===!0,this.setActive(t),this.active},n.prototype.command=function(){return document.execCommand("underline"),this.editor.util.support.oninput||this.editor.trigger("valuechanged"),t(document).trigger("selectionchange")},n}(s),N.Toolbar.addButton(P),c=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return I(n,e),n.prototype.name="color",n.prototype.icon="tint",n.prototype.disableTag="pre",n.prototype.menu=!0,n.prototype.render=function(){var t;return t=1<=arguments.length?j.call(arguments,0):[],n.__super__.render.apply(this,t)},n.prototype.renderMenu=function(){return t('<ul class="color-list">\n  <li><a href="javascript:;" class="font-color font-color-1"></a></li>\n  <li><a href="javascript:;" class="font-color font-color-2"></a></li>\n  <li><a href="javascript:;" class="font-color font-color-3"></a></li>\n  <li><a href="javascript:;" class="font-color font-color-4"></a></li>\n  <li><a href="javascript:;" class="font-color font-color-5"></a></li>\n  <li><a href="javascript:;" class="font-color font-color-6"></a></li>\n  <li><a href="javascript:;" class="font-color font-color-7"></a></li>\n  <li><a href="javascript:;" class="font-color font-color-default"></a></li>\n</ul>').appendTo(this.menuWrapper),this.menuWrapper.on("mousedown",".color-list",function(t){return!1}),this.menuWrapper.on("click",".font-color",function(e){return function(n){var o,i,r,a,s,l;if(e.wrapper.removeClass("menu-on"),o=t(n.currentTarget),o.hasClass("font-color-default")){if(i=e.editor.body.find("p, li"),!(i.length>0))return;s=window.getComputedStyle(i[0],null).getPropertyValue("color"),r=e._convertRgbToHex(s)}else s=window.getComputedStyle(o[0],null).getPropertyValue("background-color"),r=e._convertRgbToHex(s);return r?(a=e.editor.selection.range(),!o.hasClass("font-color-default")&&a.collapsed&&(l=document.createTextNode(e._t("coloredText")),a.insertNode(l),a.selectNodeContents(l),e.editor.selection.range(a)),document.execCommand("styleWithCSS",!1,!0),document.execCommand("foreColor",!1,r),document.execCommand("styleWithCSS",!1,!1),e.editor.util.support.oninput?void 0:e.editor.trigger("valuechanged")):void 0}}(this))},n.prototype._convertRgbToHex=function(t){var e,n,o;return n=/rgb\((\d+),\s?(\d+),\s?(\d+)\)/g,(e=n.exec(t))?(o=function(t,e,n){var o;return o=function(t){var e;return e=t.toString(16),1===e.length?"0"+e:e},"#"+o(t)+o(e)+o(n)})(1*e[1],1*e[2],1*e[3]):""},n}(s),N.Toolbar.addButton(c),T=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return I(n,e),n.prototype.type="",n.prototype.disableTag="pre, table",n.prototype.command=function(e){var n,o,i;return o=this.editor.selection.blockNodes(),i="ul"===this.type?"ol":"ul",this.editor.selection.save(),n=null,o.each(function(e){return function(o,r){var a;return a=t(r),a.is("blockquote, li")||a.is(e.disableTag)||e.editor.util.isDecoratedNode(a)||!t.contains(document,r)?void 0:a.is(e.type)?(a.children("li").each(function(n,o){var i,r;return r=t(o),i=r.children("ul, ol").insertAfter(a),t("<p/>").append(t(o).html()||e.editor.util.phBr).insertBefore(a)}),a.remove()):a.is(i)?t("<"+e.type+"/>").append(a.contents()).replaceAll(a):n&&a.prev().is(n)?(t("<li/>").append(a.html()||e.editor.util.phBr).appendTo(n),a.remove()):(n=t("<"+e.type+"><li></li></"+e.type+">"),
n.find("li").append(a.html()||e.editor.util.phBr),n.replaceAll(a))}}(this)),this.editor.selection.restore(),this.editor.trigger("valuechanged")},n}(s),k=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return I(e,t),e.prototype.type="ol",e.prototype.name="ol",e.prototype.icon="list-ol",e.prototype.htmlTag="ol",e.prototype.shortcut="cmd+/",e.prototype._init=function(){return this.editor.util.os.mac?this.title=this.title+" ( Cmd + / )":(this.title=this.title+" ( ctrl + / )",this.shortcut="ctrl+/"),e.__super__._init.call(this)},e}(T),B=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return I(e,t),e.prototype.type="ul",e.prototype.name="ul",e.prototype.icon="list-ul",e.prototype.htmlTag="ul",e.prototype.shortcut="cmd+.",e.prototype._init=function(){return this.editor.util.os.mac?this.title=this.title+" ( Cmd + . )":(this.title=this.title+" ( Ctrl + . )",this.shortcut="ctrl+."),e.__super__._init.call(this)},e}(T),N.Toolbar.addButton(k),N.Toolbar.addButton(B),r=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return I(n,e),n.prototype.name="blockquote",n.prototype.icon="quote-left",n.prototype.htmlTag="blockquote",n.prototype.disableTag="pre, table",n.prototype.command=function(){var e,n,o;return e=this.editor.selection.rootNodes(),e=e.filter(function(e,n){return!t(n).parent().is("blockquote")}),this.editor.selection.save(),o=[],n=function(e){return function(){return o.length>0?(t("<"+e.htmlTag+"/>").insertBefore(o[0]).append(o),o.length=0):void 0}}(this),e.each(function(e){return function(i,r){var a;return a=t(r),a.parent().is(e.editor.body)?a.is(e.htmlTag)?(n(),a.children().unwrap()):a.is(e.disableTag)||e.editor.util.isDecoratedNode(a)?n():o.push(r):void 0}}(this)),n(),this.editor.selection.restore(),this.editor.trigger("valuechanged")},n}(s),N.Toolbar.addButton(r),d=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return I(n,e),n.prototype.name="code",n.prototype.icon="code",n.prototype.htmlTag="pre",n.prototype.disableTag="ul, ol, table",n.prototype._init=function(){return n.__super__._init.call(this),this.editor.on("decorate",function(e){return function(n,o){return o.find("pre").each(function(n,o){return e.decorate(t(o))})}}(this)),this.editor.on("undecorate",function(e){return function(n,o){return o.find("pre").each(function(n,o){return e.undecorate(t(o))})}}(this))},n.prototype.render=function(){var t;return t=1<=arguments.length?j.call(arguments,0):[],n.__super__.render.apply(this,t),this.popover=new u({button:this})},n.prototype._checkMode=function(){var e,n;return n=this.editor.selection.range(),(e=t(n.cloneContents()).find(this.editor.util.blockNodes.join(",")))>0||n.collapsed&&0===this.editor.selection.startNodes().filter("code").length?(this.inlineMode=!1,this.htmlTag="pre"):(this.inlineMode=!0,this.htmlTag="code")},n.prototype._status=function(){return this._checkMode(),n.__super__._status.call(this),this.inlineMode?void 0:this.active?this.popover.show(this.node):this.popover.hide()},n.prototype.decorate=function(t){var e,n,o,i;return e=t.find("> code"),e.length>0&&(n=null!=(o=e.attr("class"))&&null!=(i=o.match(/lang-(\S+)/))?i[1]:void 0,e.contents().unwrap(),n)?t.attr("data-lang",n):void 0},n.prototype.undecorate=function(e){var n,o;return o=e.attr("data-lang"),n=t("<code/>"),o&&-1!==o&&n.addClass("lang-"+o),e.wrapInner(n).removeAttr("data-lang")},n.prototype.command=function(){return this.inlineMode?this._inlineCommand():this._blockCommand()},n.prototype._blockCommand=function(){var e,n,o,i;return e=this.editor.selection.rootNodes(),o=[],i=[],n=function(e){return function(){var n;if(o.length>0)return n=t("<"+e.htmlTag+"/>").insertBefore(o[0]).text(e.editor.formatter.clearHtml(o)),i.push(n[0]),o.length=0}}(this),e.each(function(e){return function(r,a){var s,l;return s=t(a),s.is(e.htmlTag)?(n(),l=t("<p/>").append(s.html().replace("\n","<br/>")).replaceAll(s),i.push(l[0])):s.is(e.disableTag)||e.editor.util.isDecoratedNode(s)||s.is("blockquote")?n():o.push(a)}}(this)),n(),this.editor.selection.setRangeAtEndOf(t(i).last()),this.editor.trigger("valuechanged")},n.prototype._inlineCommand=function(){var e,n,o;return o=this.editor.selection.range(),this.active?(o.selectNodeContents(this.node[0]),this.editor.selection.save(o),this.node.contents().unwrap(),this.editor.selection.restore()):(n=t(o.extractContents()),e=t("<"+this.htmlTag+"/>").append(n.contents()),o.insertNode(e[0]),o.selectNodeContents(e[0]),this.editor.selection.range(o)),this.editor.trigger("valuechanged")},n}(s),u=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return I(n,e),n.prototype.render=function(){var e,n,o,i,r;for(this._tpl='<div class="code-settings">\n  <div class="settings-field">\n    <select class="select-lang">\n      <option value="-1">'+this._t("selectLanguage")+"</option>\n    </select>\n  </div>\n</div>",this.langs=this.editor.opts.codeLanguages||[{name:"Bash",value:"bash"},{name:"C++",value:"c++"},{name:"C#",value:"cs"},{name:"CSS",value:"css"},{name:"Erlang",value:"erlang"},{name:"Less",value:"less"},{name:"Sass",value:"sass"},{name:"Diff",value:"diff"},{name:"CoffeeScript",value:"coffeescript"},{name:"HTML,XML",value:"html"},{name:"JSON",value:"json"},{name:"Java",value:"java"},{name:"JavaScript",value:"js"},{name:"Markdown",value:"markdown"},{name:"Objective C",value:"oc"},{name:"PHP",value:"php"},{name:"Perl",value:"parl"},{name:"Python",value:"python"},{name:"Ruby",value:"ruby"},{name:"SQL",value:"sql"}],this.el.addClass("code-popover").append(this._tpl),this.selectEl=this.el.find(".select-lang"),r=this.langs,n=0,i=r.length;i>n;n++)o=r[n],e=t("<option/>",{text:o.name,value:o.value}).appendTo(this.selectEl);return this.selectEl.on("change",function(t){return function(e){var n;return t.lang=t.selectEl.val(),n=t.target.hasClass("selected"),t.target.removeClass().removeAttr("data-lang"),-1!==t.lang&&t.target.attr("data-lang",t.lang),n&&t.target.addClass("selected"),t.editor.trigger("valuechanged")}}(this)),this.editor.on("valuechanged",function(t){return function(e){return t.active?t.refresh():void 0}}(this))},n.prototype.show=function(){var t;return t=1<=arguments.length?j.call(arguments,0):[],n.__super__.show.apply(this,t),this.lang=this.target.attr("data-lang"),null!=this.lang?this.selectEl.val(this.lang):this.selectEl.val(-1)},n}($),N.Toolbar.addButton(d),C=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return I(n,e),n.prototype.name="link",n.prototype.icon="link",n.prototype.htmlTag="a",n.prototype.disableTag="pre",n.prototype.render=function(){var t;return t=1<=arguments.length?j.call(arguments,0):[],n.__super__.render.apply(this,t),this.popover=new x({button:this})},n.prototype._status=function(){return n.__super__._status.call(this),this.active&&!this.editor.selection.rangeAtEndOf(this.node)?this.popover.show(this.node):this.popover.hide()},n.prototype.command=function(){var e,n,o,i,r,a;return r=this.editor.selection.range(),this.active?(a=document.createTextNode(this.node.text()),this.node.replaceWith(a),r.selectNode(a)):(e=t(r.extractContents()),i=this.editor.formatter.clearHtml(e.contents(),!1),n=t("<a/>",{href:"http://www.example.com",target:"_blank",text:i||this._t("linkText")}),this.editor.selection.blockNodes().length>0?r.insertNode(n[0]):(o=t("<p/>").append(n),r.insertNode(o[0])),r.selectNodeContents(n[0]),this.popover.one("popovershow",function(t){return function(){return i?(t.popover.urlEl.focus(),t.popover.urlEl[0].select()):(t.popover.textEl.focus(),t.popover.textEl[0].select())}}(this))),this.editor.selection.range(r),this.editor.trigger("valuechanged")},n}(s),x=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return I(n,e),n.prototype.render=function(){var e;return e='<div class="link-settings">\n  <div class="settings-field">\n    <label>'+this._t("linkText")+'</label>\n    <input class="link-text" type="text"/>\n    <a class="btn-unlink" href="javascript:;" title="'+this._t("removeLink")+'"\n      tabindex="-1">\n      <span class="simditor-icon simditor-icon-unlink"></span>\n    </a>\n  </div>\n  <div class="settings-field">\n    <label>'+this._t("linkUrl")+'</label>\n    <input class="link-url" type="text"/>\n  </div>\n  <div class="settings-field">\n    <label>'+this._t("linkTarget")+'</label>\n    <select class="link-target">\n      <option value="_blank">'+this._t("openLinkInNewWindow")+' (_blank)</option>\n      <option value="_self">'+this._t("openLinkInCurrentWindow")+" (_self)</option>\n    </select>\n  </div>\n</div>",this.el.addClass("link-popover").append(e),this.textEl=this.el.find(".link-text"),this.urlEl=this.el.find(".link-url"),this.unlinkEl=this.el.find(".btn-unlink"),this.selectTarget=this.el.find(".link-target"),this.textEl.on("keyup",function(t){return function(e){return 13!==e.which?(t.target.text(t.textEl.val()),t.editor.inputManager.throttledValueChanged()):void 0}}(this)),this.urlEl.on("keyup",function(t){return function(e){var n;if(13!==e.which)return n=t.urlEl.val(),!/https?:\/\/|^\//gi.test(n)&&n&&(n="http://"+n),t.target.attr("href",n),t.editor.inputManager.throttledValueChanged()}}(this)),t([this.urlEl[0],this.textEl[0]]).on("keydown",function(e){return function(n){var o;return 13===n.which||27===n.which||!n.shiftKey&&9===n.which&&t(n.target).hasClass("link-url")?(n.preventDefault(),o=document.createRange(),e.editor.selection.setRangeAfter(e.target,o),e.hide(),e.editor.inputManager.throttledValueChanged()):void 0}}(this)),this.unlinkEl.on("click",function(t){return function(e){var n,o;return o=document.createTextNode(t.target.text()),t.target.replaceWith(o),t.hide(),n=document.createRange(),t.editor.selection.setRangeAfter(o,n),t.editor.inputManager.throttledValueChanged()}}(this)),this.selectTarget.on("change",function(t){return function(e){return t.target.attr("target",t.selectTarget.val()),t.editor.inputManager.throttledValueChanged()}}(this))},n.prototype.show=function(){var t;return t=1<=arguments.length?j.call(arguments,0):[],n.__super__.show.apply(this,t),this.textEl.val(this.target.text()),this.urlEl.val(this.target.attr("href"))},n}($),N.Toolbar.addButton(C),m=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return I(n,e),n.prototype.name="image",n.prototype.icon="picture-o",n.prototype.htmlTag="img",n.prototype.disableTag="pre, table",n.prototype.defaultImage="",n.prototype.needFocus=!1,n.prototype._init=function(){var e,o,i,r;if(this.editor.opts.imageButton)if(Array.isArray(this.editor.opts.imageButton))for(this.menu=[],r=this.editor.opts.imageButton,o=0,i=r.length;i>o;o++)e=r[o],this.menu.push({name:e+"-image",text:this._t(e+"Image")});else this.menu=!1;else null!=this.editor.uploader?this.menu=[{name:"upload-image",text:this._t("uploadImage")},{name:"external-image",text:this._t("externalImage")}]:this.menu=!1;return this.defaultImage=this.editor.opts.defaultImage,this.editor.body.on("click","img:not([data-non-image])",function(e){return function(n){var o,i;return o=t(n.currentTarget),i=document.createRange(),i.selectNode(o[0]),e.editor.selection.range(i),e.editor.util.support.onselectionchange||e.editor.trigger("selectionchanged"),!1}}(this)),this.editor.body.on("mouseup","img:not([data-non-image])",function(t){return!1}),this.editor.on("selectionchanged.image",function(e){return function(){var n,o,i;return i=e.editor.selection.range(),null!=i?(n=t(i.cloneContents()).contents(),1===n.length&&n.is("img:not([data-non-image])")?(o=t(i.startContainer).contents().eq(i.startOffset),e.popover.show(o)):e.popover.hide()):void 0}}(this)),this.editor.on("valuechanged.image",function(e){return function(){var n;return n=e.editor.wrapper.find(".simditor-image-loading"),n.length>0?n.each(function(n,o){var i,r,a;return r=t(o),i=r.data("img"),!(i&&i.parent().length>0)&&(r.remove(),i&&(a=i.data("file"),a&&(e.editor.uploader.cancel(a),e.editor.body.find("img.uploading").length<1)))?e.editor.uploader.trigger("uploadready",[a]):void 0}):void 0}}(this)),n.__super__._init.call(this)},n.prototype.render=function(){var t;return t=1<=arguments.length?j.call(arguments,0):[],n.__super__.render.apply(this,t),this.popover=new g({button:this}),"upload"===this.editor.opts.imageButton?this._initUploader(this.el):void 0},n.prototype.renderMenu=function(){return n.__super__.renderMenu.call(this),this._initUploader()},n.prototype._initUploader=function(e){var n,o,i;return null==e&&(e=this.menuEl.find(".menu-item-upload-image")),null==this.editor.uploader?void this.el.find(".btn-upload").remove():(n=null,o=function(o){return function(){return n&&n.remove(),n=t("<input/>",{type:"file",title:o._t("uploadImage"),multiple:!0,accept:"image/*"}).appendTo(e)}}(this),o(),e.on("click mousedown","input[type=file]",function(t){return t.stopPropagation()}),e.on("change","input[type=file]",function(t){return function(e){return t.editor.inputManager.focused?(t.editor.uploader.upload(n,{inline:!0}),o()):(t.editor.one("focus",function(e){return t.editor.uploader.upload(n,{inline:!0}),o()}),t.editor.focus()),t.wrapper.removeClass("menu-on")}}(this)),this.editor.uploader.on("beforeupload",function(e){return function(n,o){var i;if(o.inline)return o.img?i=t(o.img):(i=e.createImage(o.name),o.img=i),i.addClass("uploading"),i.data("file",o),e.editor.uploader.readImageFile(o.obj,function(t){var n;if(i.hasClass("uploading"))return n=t?t.src:e.defaultImage,e.loadImage(i,n,function(){return e.popover.active?(e.popover.refresh(),e.popover.srcEl.val(e._t("uploading")).prop("disabled",!0)):void 0})})}}(this)),i=t.proxy(this.editor.util.throttle(function(t,e,n,o){var i,r,a;if(e.inline&&(r=e.img.data("mask")))return i=r.data("img"),i.hasClass("uploading")&&i.parent().length>0?(a=n/o,a=(100*a).toFixed(0),a>99&&(a=99),r.find(".progress").height(100-a+"%")):void r.remove()},500),this),this.editor.uploader.on("uploadprogress",i),this.editor.uploader.on("uploadsuccess",function(e){return function(n,o,i){var r,a,s;if(o.inline&&(r=o.img,r.hasClass("uploading")&&r.parent().length>0)){if("object"!=typeof i)try{i=t.parseJSON(i)}catch(l){n=l,i={success:!1}}return i.success===!1?(s=i.msg||e._t("uploadFailed"),alert(s),a=e.defaultImage):a=i.file_path,e.loadImage(r,a,function(){var t;return r.removeData("file"),r.removeClass("uploading").removeClass("loading"),t=r.data("mask"),t&&t.remove(),r.removeData("mask"),e.editor.trigger("valuechanged"),e.editor.body.find("img.uploading").length<1?e.editor.uploader.trigger("uploadready",[o,i]):void 0}),e.popover.active?(e.popover.srcEl.prop("disabled",!1),e.popover.srcEl.val(i.file_path)):void 0}}}(this)),this.editor.uploader.on("uploaderror",function(e){return function(n,o,i){var r,a,s;if(o.inline&&"abort"!==i.statusText){if(i.responseText){try{s=t.parseJSON(i.responseText),a=s.msg}catch(l){n=l,a=e._t("uploadError")}alert(a)}if(r=o.img,r.hasClass("uploading")&&r.parent().length>0)return e.loadImage(r,e.defaultImage,function(){var t;return r.removeData("file"),r.removeClass("uploading").removeClass("loading"),t=r.data("mask"),t&&t.remove(),r.removeData("mask")}),e.popover.active&&(e.popover.srcEl.prop("disabled",!1),e.popover.srcEl.val(e.defaultImage)),e.editor.trigger("valuechanged"),e.editor.body.find("img.uploading").length<1?e.editor.uploader.trigger("uploadready",[o,s]):void 0}}}(this)))},n.prototype._status=function(){return this._disableStatus()},n.prototype.loadImage=function(e,n,o){var i,r,a;return a=function(t){return function(){var n,o;return n=e.offset(),o=t.editor.wrapper.offset(),i.css({top:n.top-o.top,left:n.left-o.left,width:e.width(),height:e.height()}).show()}}(this),e.addClass("loading"),i=e.data("mask"),i||(i=t('<div class="simditor-image-loading">\n  <div class="progress"></div>\n</div>').hide().appendTo(this.editor.wrapper),a(),e.data("mask",i),i.data("img",e)),r=new Image,r.onload=function(s){return function(){var l,d;if(e.hasClass("loading")||e.hasClass("uploading"))return d=r.width,l=r.height,e.attr({src:n,width:d,height:l,"data-image-size":d+","+l}).removeClass("loading"),e.hasClass("uploading")?(s.editor.util.reflow(s.editor.body),a()):(i.remove(),e.removeData("mask")),t.isFunction(o)?o(r):void 0}}(this),r.onerror=function(){return t.isFunction(o)&&o(!1),i.remove(),e.removeData("mask").removeClass("loading")},r.src=n},n.prototype.createImage=function(e){var n,o;return null==e&&(e="Image"),this.editor.inputManager.focused||this.editor.focus(),o=this.editor.selection.range(),o.deleteContents(),this.editor.selection.range(o),n=t("<img/>").attr("alt",e),o.insertNode(n[0]),this.editor.selection.setRangeAfter(n,o),this.editor.trigger("valuechanged"),n},n.prototype.command=function(t){var e;return e=this.createImage(),this.loadImage(e,t||this.defaultImage,function(t){return function(){return t.editor.trigger("valuechanged"),t.editor.util.reflow(e),e.click(),t.popover.one("popovershow",function(){return t.popover.srcEl.focus(),t.popover.srcEl[0].select()})}}(this))},n}(s),g=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return I(n,e),n.prototype.offset={top:6,left:-4},n.prototype.render=function(){var e;return e='<div class="link-settings">\n  <div class="settings-field">\n    <label>'+this._t("imageUrl")+'</label>\n    <input class="image-src" type="text" tabindex="1" />\n    <a class="btn-upload" href="javascript:;"\n      title="'+this._t("uploadImage")+'" tabindex="-1">\n      <span class="simditor-icon simditor-icon-upload"></span>\n    </a>\n  </div>\n  <div class=\'settings-field\'>\n    <label>'+this._t("imageAlt")+'</label>\n    <input class="image-alt" id="image-alt" type="text" tabindex="1" />\n  </div>\n  <div class="settings-field">\n    <label>'+this._t("imageSize")+'</label>\n    <input class="image-size" id="image-width" type="text" tabindex="2" />\n    <span class="times">\xd7</span>\n    <input class="image-size" id="image-height" type="text" tabindex="3" />\n    <a class="btn-restore" href="javascript:;"\n      title="'+this._t("restoreImageSize")+'" tabindex="-1">\n      <span class="simditor-icon simditor-icon-undo"></span>\n    </a>\n  </div>\n</div>',this.el.addClass("image-popover").append(e),this.srcEl=this.el.find(".image-src"),this.widthEl=this.el.find("#image-width"),this.heightEl=this.el.find("#image-height"),this.altEl=this.el.find("#image-alt"),this.srcEl.on("keydown",function(t){return function(e){var n;if(13===e.which&&!t.target.hasClass("uploading"))return e.preventDefault(),n=document.createRange(),t.button.editor.selection.setRangeAfter(t.target,n),t.hide()}}(this)),this.srcEl.on("blur",function(t){return function(e){return t._loadImage(t.srcEl.val())}}(this)),this.el.find(".image-size").on("blur",function(e){return function(n){return e._resizeImg(t(n.currentTarget)),e.el.data("popover").refresh()}}(this)),this.el.find(".image-size").on("keyup",function(e){return function(n){var o;return o=t(n.currentTarget),13!==n.which&&27!==n.which&&9!==n.which?e._resizeImg(o,!0):void 0}}(this)),this.el.find(".image-size").on("keydown",function(e){return function(n){var o,i,r;return i=t(n.currentTarget),13===n.which||27===n.which?(n.preventDefault(),13===n.which?e._resizeImg(i):e._restoreImg(),o=e.target,e.hide(),r=document.createRange(),e.button.editor.selection.setRangeAfter(o,r)):9===n.which?e.el.data("popover").refresh():void 0}}(this)),this.altEl.on("keydown",function(t){return function(e){var n;return 13===e.which?(e.preventDefault(),n=document.createRange(),t.button.editor.selection.setRangeAfter(t.target,n),t.hide()):void 0}}(this)),this.altEl.on("keyup",function(t){return function(e){return 13!==e.which&&27!==e.which&&9!==e.which?(t.alt=t.altEl.val(),t.target.attr("alt",t.alt)):void 0}}(this)),this.el.find(".btn-restore").on("click",function(t){return function(e){return t._restoreImg(),t.el.data("popover").refresh()}}(this)),this.editor.on("valuechanged",function(t){return function(e){return t.active?t.refresh():void 0}}(this)),this._initUploader()},n.prototype._initUploader=function(){var e,n;return e=this.el.find(".btn-upload"),null==this.editor.uploader?void e.remove():(n=function(n){return function(){return n.input&&n.input.remove(),n.input=t("<input/>",{type:"file",title:n._t("uploadImage"),multiple:!0,accept:"image/*"}).appendTo(e)}}(this),n(),this.el.on("click mousedown","input[type=file]",function(t){return t.stopPropagation()}),this.el.on("change","input[type=file]",function(t){return function(e){return t.editor.uploader.upload(t.input,{inline:!0,img:t.target}),n()}}(this)))},n.prototype._resizeImg=function(e,n){var o,i,r;return null==n&&(n=!1),i=1*e.val(),this.target&&(t.isNumeric(i)||0>i)?(e.is(this.widthEl)?(r=i,o=this.height*i/this.width,this.heightEl.val(o)):(o=i,r=this.width*i/this.height,this.widthEl.val(r)),n?void 0:(this.target.attr({width:r,height:o}),this.editor.trigger("valuechanged"))):void 0},n.prototype._restoreImg=function(){var t,e;return e=(null!=(t=this.target.data("image-size"))?t.split(","):void 0)||[this.width,this.height],this.target.attr({width:1*e[0],height:1*e[1]}),this.widthEl.val(e[0]),this.heightEl.val(e[1]),this.editor.trigger("valuechanged")},n.prototype._loadImage=function(t,e){if(/^data:image/.test(t)&&!this.editor.uploader)return void(e&&e(!1));if(this.target.attr("src")!==t)return this.button.loadImage(this.target,t,function(n){return function(o){var i;if(o)return n.active&&(n.width=o.width,n.height=o.height,n.widthEl.val(n.width),n.heightEl.val(n.height)),/^data:image/.test(t)?(i=n.editor.util.dataURLtoBlob(t),i.name="Base64 Image.png",n.editor.uploader.upload(i,{inline:!0,img:n.target})):n.editor.trigger("valuechanged"),e?e(o):void 0}}(this))},n.prototype.show=function(){var t,e;return e=1<=arguments.length?j.call(arguments,0):[],n.__super__.show.apply(this,e),t=this.target,this.width=t.width(),this.height=t.height(),this.alt=t.attr("alt"),t.hasClass("uploading")?this.srcEl.val(this._t("uploading")).prop("disabled",!0):(this.srcEl.val(t.attr("src")).prop("disabled",!1),this.widthEl.val(this.width),this.heightEl.val(this.height),this.altEl.val(this.alt))},n}($),N.Toolbar.addButton(m),v=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return I(e,t),e.prototype.name="indent",e.prototype.icon="indent",e.prototype._init=function(){return this.title=this._t(this.name)+" (Tab)",e.__super__._init.call(this)},e.prototype._status=function(){},e.prototype.command=function(){return this.editor.indentation.indent()},e}(s),N.Toolbar.addButton(v),S=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return I(e,t),e.prototype.name="outdent",e.prototype.icon="outdent",e.prototype._init=function(){return this.title=this._t(this.name)+" (Shift + Tab)",e.__super__._init.call(this)},e.prototype._status=function(){},e.prototype.command=function(){return this.editor.indentation.indent(!0)},e}(s),N.Toolbar.addButton(S),f=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return I(n,e),n.prototype.name="hr",n.prototype.icon="minus",n.prototype.htmlTag="hr",n.prototype._status=function(){},n.prototype.command=function(){var e,n,o,i;return i=this.editor.selection.rootNodes().first(),o=i.next(),o.length>0?this.editor.selection.save():n=t("<p/>").append(this.editor.util.phBr),e=t("<hr/>").insertAfter(i),n?(n.insertAfter(e),this.editor.selection.setRangeAtStartOf(n)):this.editor.selection.restore(),this.editor.trigger("valuechanged")},n}(s),N.Toolbar.addButton(f),M=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return I(n,e),n.prototype.name="table",n.prototype.icon="table",n.prototype.htmlTag="table",n.prototype.disableTag="pre, li, blockquote",n.prototype.menu=!0,n.prototype._init=function(){return n.__super__._init.call(this),t.merge(this.editor.formatter._allowedTags,["thead","th","tbody","tr","td","colgroup","col"]),t.extend(this.editor.formatter._allowedAttributes,{td:["rowspan","colspan"],col:["width"]}),t.extend(this.editor.formatter._allowedStyles,{td:["text-align"],th:["text-align"]}),this._initShortcuts(),this.editor.on("decorate",function(e){return function(n,o){return o.find("table").each(function(n,o){return e.decorate(t(o))})}}(this)),this.editor.on("undecorate",function(e){return function(n,o){return o.find("table").each(function(n,o){return e.undecorate(t(o))})}}(this)),this.editor.on("selectionchanged.table",function(t){return function(e){var n,o;return t.editor.body.find(".simditor-table td, .simditor-table th").removeClass("active"),(o=t.editor.selection.range())?(n=t.editor.selection.containerNode(),o.collapsed&&n.is(".simditor-table")&&(n=t.editor.selection.rangeAtStartOf(n)?n.find("th:first"):n.find("td:last"),t.editor.selection.setRangeAtEndOf(n)),n.closest("td, th",t.editor.body).addClass("active")):void 0}}(this)),this.editor.on("blur.table",function(t){return function(e){return t.editor.body.find(".simditor-table td, .simditor-table th").removeClass("active")}}(this)),this.editor.keystroke.add("up","td",function(t){return function(e,n){return t._tdNav(n,"up"),!0}}(this)),this.editor.keystroke.add("up","th",function(t){return function(e,n){return t._tdNav(n,"up"),!0}}(this)),this.editor.keystroke.add("down","td",function(t){return function(e,n){return t._tdNav(n,"down"),!0}}(this)),this.editor.keystroke.add("down","th",function(t){return function(e,n){return t._tdNav(n,"down"),!0}}(this))},n.prototype._tdNav=function(t,e){var n,o,i,r,a,s,l;return null==e&&(e="up"),i="up"===e?"prev":"next",l="up"===e?["tbody","thead"]:["thead","tbody"],s=l[0],r=l[1],o=t.parent("tr"),n=this["_"+i+"Row"](o),n.length>0?(a=o.find("td, th").index(t),this.editor.selection.setRangeAtEndOf(n.find("td, th").eq(a))):!0},n.prototype._nextRow=function(t){var e;return e=t.next("tr"),e.length<1&&t.parent("thead").length>0&&(e=t.parent("thead").next("tbody").find("tr:first")),e},n.prototype._prevRow=function(t){var e;return e=t.prev("tr"),e.length<1&&t.parent("tbody").length>0&&(e=t.parent("tbody").prev("thead").find("tr")),e},n.prototype.initResize=function(e){var n,o,i;return i=e.parent(".simditor-table"),n=e.find("colgroup"),n.length<1&&(n=t("<colgroup/>").prependTo(e),e.find("thead tr th").each(function(e,o){var i;return i=t("<col/>").appendTo(n)}),this.refreshTableWidth(e)),o=t("<div />",{"class":"simditor-resize-handle",contenteditable:"false"}).appendTo(i),i.on("mousemove","td, th",function(e){var r,a,s,l,d,u;if(!i.hasClass("resizing"))return a=t(e.currentTarget),u=e.pageX-t(e.currentTarget).offset().left,5>u&&a.prev().length>0&&(a=a.prev()),a.next("td, th").length<1?void o.hide():(null!=(l=o.data("td"))?l.is(a):void 0)?void o.show():(s=a.parent().find("td, th").index(a),r=n.find("col").eq(s),(null!=(d=o.data("col"))?d.is(r):void 0)?void o.show():o.css("left",a.position().left+a.outerWidth()-5).data("td",a).data("col",r).show())}),i.on("mouseleave",function(t){return o.hide()}),i.on("mousedown",".simditor-resize-handle",function(e){var n,o,r,a,s,l,d,u,c,h,p;return n=t(e.currentTarget),r=n.data("td"),o=n.data("col"),s=r.next("td, th"),a=o.next("col"),h=e.pageX,u=1*r.outerWidth(),c=1*s.outerWidth(),d=parseFloat(n.css("left")),p=r.closest("table").width(),l=50,t(document).on("mousemove.simditor-resize-table",function(t){var e,i,r;return e=t.pageX-h,i=u+e,r=c-e,l>i?(i=l,e=l-u,r=c-e):l>r&&(r=l,e=c-l,i=u+e),o.attr("width",i/p*100+"%"),a.attr("width",r/p*100+"%"),n.css("left",d+e)}),t(document).one("mouseup.simditor-resize-table",function(e){return t(document).off(".simditor-resize-table"),i.removeClass("resizing")}),i.addClass("resizing"),!1})},n.prototype._initShortcuts=function(){return this.editor.hotkeys.add("ctrl+alt+up",function(t){return function(e){return t.editMenu.find(".menu-item[data-param=insertRowAbove]").click(),!1}}(this)),this.editor.hotkeys.add("ctrl+alt+down",function(t){return function(e){return t.editMenu.find(".menu-item[data-param=insertRowBelow]").click(),!1}}(this)),this.editor.hotkeys.add("ctrl+alt+left",function(t){return function(e){return t.editMenu.find(".menu-item[data-param=insertColLeft]").click(),!1}}(this)),this.editor.hotkeys.add("ctrl+alt+right",function(t){return function(e){return t.editMenu.find(".menu-item[data-param=insertColRight]").click(),!1}}(this))},n.prototype.decorate=function(e){var n,o,i;return e.parent(".simditor-table").length>0&&this.undecorate(e),e.wrap('<div class="simditor-table"></div>'),e.find("thead").length<1&&(i=t("<thead />"),n=e.find("tr").first(),i.append(n),this._changeCellTag(n,"th"),o=e.find("tbody"),o.length>0?o.before(i):e.prepend(i)),this.initResize(e),e.parent()},n.prototype.undecorate=function(t){return t.parent(".simditor-table").length>0?t.parent().replaceWith(t):void 0},n.prototype.renderMenu=function(){var e;return t('<div class="menu-create-table">\n</div>\n<div class="menu-edit-table">\n  <ul>\n    <li>\n      <a tabindex="-1" unselectable="on" class="menu-item"\n        href="javascript:;" data-param="deleteRow">\n        <span>'+this._t("deleteRow")+'</span>\n      </a>\n    </li>\n    <li>\n      <a tabindex="-1" unselectable="on" class="menu-item"\n        href="javascript:;" data-param="insertRowAbove">\n        <span>'+this._t("insertRowAbove")+' ( Ctrl + Alt + \u2191 )</span>\n      </a>\n    </li>\n    <li>\n      <a tabindex="-1" unselectable="on" class="menu-item"\n        href="javascript:;" data-param="insertRowBelow">\n        <span>'+this._t("insertRowBelow")+' ( Ctrl + Alt + \u2193 )</span>\n      </a>\n    </li>\n    <li><span class="separator"></span></li>\n    <li>\n      <a tabindex="-1" unselectable="on" class="menu-item"\n        href="javascript:;" data-param="deleteCol">\n        <span>'+this._t("deleteColumn")+'</span>\n      </a>\n    </li>\n    <li>\n      <a tabindex="-1" unselectable="on" class="menu-item"\n        href="javascript:;" data-param="insertColLeft">\n        <span>'+this._t("insertColumnLeft")+' ( Ctrl + Alt + \u2190 )</span>\n      </a>\n    </li>\n    <li>\n      <a tabindex="-1" unselectable="on" class="menu-item"\n        href="javascript:;" data-param="insertColRight">\n        <span>'+this._t("insertColumnRight")+' ( Ctrl + Alt + \u2192 )</span>\n      </a>\n    </li>\n    <li><span class="separator"></span></li>\n    <li>\n      <a tabindex="-1" unselectable="on" class="menu-item"\n        href="javascript:;" data-param="deleteTable">\n        <span>'+this._t("deleteTable")+"</span>\n      </a>\n    </li>\n  </ul>\n</div>").appendTo(this.menuWrapper),this.createMenu=this.menuWrapper.find(".menu-create-table"),this.editMenu=this.menuWrapper.find(".menu-edit-table"),e=this.createTable(6,6).appendTo(this.createMenu),this.createMenu.on("mouseenter","td, th",function(n){return function(o){var i,r,a,s;return n.createMenu.find("td, th").removeClass("selected"),i=t(o.currentTarget),r=i.parent(),s=r.find("td, th").index(i)+1,a=r.prevAll("tr").addBack(),r.parent().is("tbody")&&(a=a.add(e.find("thead tr"))),a.find("td:lt("+s+"), th:lt("+s+")").addClass("selected")}}(this)),this.createMenu.on("mouseleave",function(e){return t(e.currentTarget).find("td, th").removeClass("selected")}),this.createMenu.on("mousedown","td, th",function(n){return function(o){var i,r,a,s,l;return n.wrapper.removeClass("menu-on"),n.editor.inputManager.focused?(r=t(o.currentTarget),a=r.parent(),s=a.find("td").index(r)+1,l=a.prevAll("tr").length+1,a.parent().is("tbody")&&(l+=1),e=n.createTable(l,s,!0),i=n.editor.selection.blockNodes().last(),n.editor.util.isEmptyNode(i)?i.replaceWith(e):i.after(e),n.decorate(e),n.editor.selection.setRangeAtStartOf(e.find("th:first")),n.editor.trigger("valuechanged"),!1):void 0}}(this))},n.prototype.createTable=function(e,n,o){var i,r,a,s,l,d,u,c,h,p,f;for(i=t("<table/>"),s=t("<thead/>").appendTo(i),r=t("<tbody/>").appendTo(i),h=u=0,p=e;p>=0?p>u:u>p;h=p>=0?++u:--u)for(l=t("<tr/>"),l.appendTo(0===h?s:r),d=c=0,f=n;f>=0?f>c:c>f;d=f>=0?++c:--c)a=t(0===h?"<th/>":"<td/>").appendTo(l),o&&a.append(this.editor.util.phBr);return i},n.prototype.refreshTableWidth=function(e){var n,o;return o=e.width(),n=e.find("col"),e.find("thead tr th").each(function(e,i){var r;return r=n.eq(e),r.attr("width",t(i).outerWidth()/o*100+"%")})},n.prototype.setActive=function(t){return n.__super__.setActive.call(this,t),t?(this.createMenu.hide(),this.editMenu.show()):(this.createMenu.show(),this.editMenu.hide())},n.prototype._changeCellTag=function(e,n){return e.find("td, th").each(function(e,o){var i;return i=t(o),i.replaceWith("<"+n+">"+i.html()+"</"+n+">")})},n.prototype.deleteRow=function(t){var e,n,o;return n=t.parent("tr"),n.closest("table").find("tr").length<1?this.deleteTable(t):(e=this._nextRow(n),e.length>0||(e=this._prevRow(n)),o=n.find("td, th").index(t),n.parent().is("thead")&&(e.appendTo(n.parent()),this._changeCellTag(e,"th")),n.remove(),this.editor.selection.setRangeAtEndOf(e.find("td, th").eq(o)));
},n.prototype.insertRow=function(e,n){var o,i,r,a,s,l,d,u,c;for(null==n&&(n="after"),r=e.parent("tr"),i=r.closest("table"),s=0,i.find("tr").each(function(e,n){return s=Math.max(s,t(n).find("td").length)}),d=r.find("td, th").index(e),o=t("<tr/>"),a="td","after"===n&&r.parent().is("thead")?r.parent().next("tbody").prepend(o):"before"===n&&r.parent().is("thead")?(r.before(o),r.parent().next("tbody").prepend(r),this._changeCellTag(r,"td"),a="th"):r[n](o),l=u=1,c=s;c>=1?c>=u:u>=c;l=c>=1?++u:--u)t("<"+a+"/>").append(this.editor.util.phBr).appendTo(o);return this.editor.selection.setRangeAtStartOf(o.find("td, th").eq(d))},n.prototype.deleteCol=function(e){var n,o,i,r,a,s;return i=e.parent("tr"),s=i.closest("table").find("tr").length<2,a=e.siblings("td, th").length<1,s&&a?this.deleteTable(e):(r=i.find("td, th").index(e),n=e.next("td, th"),n.length>0||(n=i.prev("td, th")),o=i.closest("table"),o.find("col").eq(r).remove(),o.find("tr").each(function(e,n){return t(n).find("td, th").eq(r).remove()}),this.refreshTableWidth(o),this.editor.selection.setRangeAtEndOf(n))},n.prototype.insertCol=function(e,n){var o,i,r,a,s,l,d,u;return null==n&&(n="after"),s=e.parent("tr"),l=s.find("td, th").index(e),a=e.closest("table"),o=a.find("col").eq(l),a.find("tr").each(function(e){return function(o,i){var r,a;return a=t(i).parent().is("thead")?"th":"td",r=t("<"+a+"/>").append(e.editor.util.phBr),t(i).find("td, th").eq(l)[n](r)}}(this)),i=t("<col/>"),o[n](i),d=a.width(),u=Math.max(parseFloat(o.attr("width"))/2,50/d*100),o.attr("width",u+"%"),i.attr("width",u+"%"),this.refreshTableWidth(a),r="after"===n?e.next("td, th"):e.prev("td, th"),this.editor.selection.setRangeAtStartOf(r)},n.prototype.deleteTable=function(t){var e,n;return n=t.closest(".simditor-table"),e=n.next("p"),n.remove(),e.length>0?this.editor.selection.setRangeAtStartOf(e):void 0},n.prototype.command=function(t){var e;if(e=this.editor.selection.containerNode().closest("td, th"),e.length>0){if("deleteRow"===t)this.deleteRow(e);else if("insertRowAbove"===t)this.insertRow(e,"before");else if("insertRowBelow"===t)this.insertRow(e);else if("deleteCol"===t)this.deleteCol(e);else if("insertColLeft"===t)this.insertCol(e,"before");else if("insertColRight"===t)this.insertCol(e);else{if("deleteTable"!==t)return;this.deleteTable(e)}return this.editor.trigger("valuechanged")}},n}(s),N.Toolbar.addButton(M),D=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return I(n,e),n.prototype.name="strikethrough",n.prototype.icon="strikethrough",n.prototype.htmlTag="strike",n.prototype.disableTag="pre",n.prototype._activeStatus=function(){var t;return t=document.queryCommandState("strikethrough")===!0,this.setActive(t),this.active},n.prototype.command=function(){return document.execCommand("strikethrough"),this.editor.util.support.oninput||this.editor.trigger("valuechanged"),t(document).trigger("selectionchange")},n}(s),N.Toolbar.addButton(D),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return I(e,t),e.prototype.name="alignment",e.prototype.icon="align-left",e.prototype.htmlTag="p, h1, h2, h3, h4, td, th",e.prototype._init=function(){return this.menu=[{name:"left",text:this._t("alignLeft"),icon:"align-left",param:"left"},{name:"center",text:this._t("alignCenter"),icon:"align-center",param:"center"},{name:"right",text:this._t("alignRight"),icon:"align-right",param:"right"}],e.__super__._init.call(this)},e.prototype.setActive=function(t,n){return null==n&&(n="left"),"left"!==n&&"center"!==n&&"right"!==n&&(n="left"),"left"===n?e.__super__.setActive.call(this,!1):e.__super__.setActive.call(this,t),this.el.removeClass("align-left align-center align-right"),t&&this.el.addClass("align-"+n),this.setIcon("align-"+n),this.menuEl.find(".menu-item").show().end().find(".menu-item-"+n).hide()},e.prototype._status=function(){return this.nodes=this.editor.selection.nodes().filter(this.htmlTag),this.nodes.length<1?(this.setDisabled(!0),this.setActive(!1)):(this.setDisabled(!1),this.setActive(!0,this.nodes.first().css("text-align")))},e.prototype.command=function(t){if("left"!==t&&"center"!==t&&"right"!==t)throw new Error("simditor alignment button: invalid align "+t);return this.nodes.css({"text-align":"left"===t?"":t}),this.editor.trigger("valuechanged"),this.editor.inputManager.throttledSelectionChanged()},e}(s),N.Toolbar.addButton(i),N}),/*!
 * Metro UI CSS v3.0.14 (http://metroui.org.ua)
 * Copyright 2012-2016 Sergey Pimenov
 * Licensed under MIT (http://metroui.org.ua/license.html)
 */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(jQuery){"use strict";function keyHandler(t){if("string"==typeof t.data&&(t.data={keys:t.data}),t.data&&t.data.keys&&"string"==typeof t.data.keys){var e=t.handler,n=t.data.keys.toLowerCase().split(" ");t.handler=function(t){if(this===t.target||!($.hotkeys.options.filterInputAcceptingElements&&$.hotkeys.textInputTypes.test(t.target.nodeName)||$.hotkeys.options.filterContentEditable&&$(t.target).attr("contenteditable")||$.hotkeys.options.filterTextInputs&&$.inArray(t.target.type,$.hotkeys.textAcceptingInputTypes)>-1)){var o="keypress"!==t.type&&$.hotkeys.specialKeys[t.which],i=String.fromCharCode(t.which).toLowerCase(),r="",a={};$.each(["alt","ctrl","shift"],function(e,n){t[n+"Key"]&&o!==n&&(r+=n+"+")}),t.metaKey&&!t.ctrlKey&&"meta"!==o&&(r+="meta+"),t.metaKey&&"meta"!==o&&r.indexOf("alt+ctrl+shift+")>-1&&(r=r.replace("alt+ctrl+shift+","hyper+")),o?a[r+o]=!0:(a[r+i]=!0,a[r+$.hotkeys.shiftNums[i]]=!0,"shift+"===r&&(a[$.hotkeys.shiftNums[i]]=!0));for(var s=0,l=n.length;l>s;s++)if(a[n[s]])return e.apply(this,arguments)}}}}function handler(t){var e,n=t||window.event,o=[].slice.call(arguments,1),i=0,r=0,a=0,s=0,l=0;return t=$.event.fix(n),t.type="mousewheel",n.wheelDelta&&(i=n.wheelDelta),n.detail&&(i=-1*n.detail),n.deltaY&&(a=-1*n.deltaY,i=a),n.deltaX&&(r=n.deltaX,i=-1*r),void 0!==n.wheelDeltaY&&(a=n.wheelDeltaY),void 0!==n.wheelDeltaX&&(r=-1*n.wheelDeltaX),s=Math.abs(i),(!lowestDelta||lowestDelta>s)&&(lowestDelta=s),l=Math.max(Math.abs(a),Math.abs(r)),(!lowestDeltaXY||lowestDeltaXY>l)&&(lowestDeltaXY=l),e=i>0?"floor":"ceil",i=Math[e](i/lowestDelta),r=Math[e](r/lowestDeltaXY),a=Math[e](a/lowestDeltaXY),o.unshift(t,i,r,a),($.event.dispatch||$.event.handle).apply(this,o)}function preCode(t){var e=Array.prototype.slice.call(document.querySelectorAll(t),0);e.forEach(function(t,e,n){var o=t.textContent.replace(/^[\r\n]+/,"").replace(/\s+$/g,"");if(/^\S/gm.test(o))return void(t.textContent=o);for(var i,r,a,s=/^[\t ]+/gm,l=1e3;i=s.exec(o);)a=i[0].length,l>a&&(l=a,r=i[0]);1e3!=l&&(t.textContent=o.replace(new RegExp("^"+r,"gm"),""))})}function touch2Mouse(t){var e,n=t.changedTouches[0];switch(t.type){case"touchstart":e="mousedown";break;case"touchend":e="mouseup";break;case"touchmove":e="mousemove";break;default:return}"mousedown"==e&&(eventTimer=(new Date).getTime(),startX=n.clientX,startY=n.clientY,mouseDown=!0),"mouseup"==e&&((new Date).getTime()-eventTimer<=500?e="click":(new Date).getTime()-eventTimer>1e3&&(e="longclick"),eventTimer=0,mouseDown=!1),"mousemove"==e&&mouseDown&&(deltaX=n.clientX-startX,deltaY=n.clientY-startY,moveDirection=deltaX>deltaY?"horizontal":"vertical");var o=document.createEvent("MouseEvent");o.initMouseEvent(e,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),n.target.dispatchEvent(o),t.preventDefault()}var $=jQuery;if("undefined"==typeof jQuery)throw new Error("Metro's JavaScript requires jQuery");window.METRO_VERSION="3.0.13",void 0===window.METRO_AUTO_REINIT&&(window.METRO_AUTO_REINIT=!0),void 0===window.METRO_LANGUAGE&&(window.METRO_LANGUAGE="en"),void 0===window.METRO_LOCALE&&(window.METRO_LOCALE="EN_en"),void 0===window.METRO_CURRENT_LOCALE&&(window.METRO_CURRENT_LOCALE="en"),void 0===window.METRO_SHOW_TYPE&&(window.METRO_SHOW_TYPE="slide"),void 0===window.METRO_DEBUG&&(window.METRO_DEBUG=!0),void 0===window.METRO_CALENDAR_WEEK_START&&(window.METRO_CALENDAR_WEEK_START=0),window.canObserveMutation="MutationObserver"in window,String.prototype.isUrl=function(){var t=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return t.test(this)},String.prototype.isColor=function(){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(this)},window.secondsToFormattedString=function(t){var e,n,o;return e=parseInt(t/3600)%24,n=parseInt(t/60)%60,o=t%60,(e?e+":":"")+(10>n?"0"+n:n)+":"+(10>o?"0"+o:o)},Array.prototype.shuffle=function(){for(var t,e,n=this.length;0!==n;)e=Math.floor(Math.random()*n),n-=1,t=this[n],this[n]=this[e],this[e]=t;return this},Array.prototype.clone=function(){return this.slice(0)},Array.prototype.unique=function(){for(var t=this.concat(),e=0;e<t.length;++e)for(var n=e+1;n<t.length;++n)t[e]===t[n]&&t.splice(n--,1);return t},window.uniqueId=function(t){var e=(new Date).getTime(),n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)});return n},window.isTouchDevice=function(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0},window.METRO_LOCALES={en:{months:["January","February","March","April","May","June","July","August","September","October","November","December","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Su","Mo","Tu","We","Th","Fr","Sa"],buttons:["Today","Clear","Cancel","Help","Prior","Next","Finish"]},fr:{months:["Janvier","F\xe9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xfbt","Septembre","Octobre","Novembre","D\xe9cembre","Jan","F\xe9v","Mars","Avr","Mai","Juin","Juil","Ao\xfbt","Sept","Oct","Nov","D\xe9c"],days:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Di","Lu","Ma","Me","Je","Ve","Sa"],buttons:["Aujourd'hui","Effacer","Annuler","Aide","Pr\xe9cedent","Suivant","Fin"]},nl:{months:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December","Jan","Feb","Mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],days:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag","Zo","Ma","Di","Wo","Do","Vr","Za"],buttons:["Vandaag","Verwijderen","Annuleren","Hulp","Vorige","Volgende","Einde"]},ua:{months:["\u0421\u0456\u0447\u0435\u043d\u044c","\u041b\u044e\u0442\u0438\u0439","\u0411\u0435\u0440\u0435\u0437\u0435\u043d\u044c","\u041a\u0432\u0456\u0442\u0435\u043d\u044c","\u0422\u0440\u0430\u0432\u0435\u043d\u044c","\u0427\u0435\u0440\u0432\u0435\u043d\u044c","\u041b\u0438\u043f\u0435\u043d\u044c","\u0421\u0435\u0440\u043f\u0435\u043d\u044c","\u0412\u0435\u0440\u0435\u0441\u0435\u043d\u044c","\u0416\u043e\u0432\u0442\u0435\u043d\u044c","\u041b\u0438\u0441\u0442\u043e\u043f\u0430\u0434","\u0413\u0440\u0443\u0434\u0435\u043d\u044c","\u0421\u0456\u0447","\u041b\u044e\u0442","\u0411\u0435\u0440","\u041a\u0432\u0456","\u0422\u0440\u0430","\u0427\u0435\u0440","\u041b\u0438\u043f","\u0421\u0435\u0440","\u0412\u0435\u0440","\u0416\u043e\u0432","\u041b\u0438\u0441","\u0413\u0440\u0443"],days:["\u041d\u0435\u0434\u0456\u043b\u044f","\u041f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a","\u0412\u0456\u0432\u0442\u043e\u0440\u043e\u043a","\u0421\u0435\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440","\u041f\u2019\u044f\u0442\u043d\u0438\u0446\u044f","\u0421\u0443\u0431\u043e\u0442\u0430","\u041d\u0434","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"],buttons:["\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456","\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u0438","\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438","\u0414\u043e\u043f\u043e\u043c\u043e\u0433\u0430","\u041d\u0430\u0437\u0430\u0434","\u0412\u043f\u0435\u0440\u0435\u0434","\u0413\u043e\u0442\u043e\u0432\u043e"]},ru:{months:["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c","\u042f\u043d\u0432","\u0424\u0435\u0432","\u041c\u0430\u0440","\u0410\u043f\u0440","\u041c\u0430\u0439","\u0418\u044e\u043d","\u0418\u044e\u043b","\u0410\u0432\u0433","\u0421\u0435\u043d","\u041e\u043a\u0442","\u041d\u043e\u044f","\u0414\u0435\u043a"],days:["\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041f\u044f\u0442\u043d\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043e\u0442\u0430","\u0412\u0441","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"],buttons:["\u0421\u0435\u0433\u043e\u0434\u043d\u044f","\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c","\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c","\u041f\u043e\u043c\u043e\u0449\u044c","\u041d\u0430\u0437\u0430\u0434","\u0412\u043f\u0435\u0440\u0435\u0434","\u0413\u043e\u0442\u043e\u0432\u043e"]},zhCN:{months:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708","\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],days:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d","\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],buttons:["\u4eca\u65e5","\u6e05\u9664","Cancel","Help","Prior","Next","Finish"]},it:{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre","Gen"," Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],days:["Domenica","Luned\xec","Marted\xec","Mercoled\xec","Gioved\xec","Venerd\xec","Sabato","Dom","Lun","Mar","Mer","Gio","Ven","Sab"],buttons:["Oggi","Cancella","Cancel","Help","Prior","Next","Finish"]},de:{months:["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember","Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","So","Mo","Di","Mi","Do","Fr","Sa"],buttons:["Heute","Zur\xfccksetzen","Abbrechen","Hilfe","Fr\xfcher","Sp\xe4ter","Fertig"]},es:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre","Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sept","Oct","Nov","Dic"],days:["Domingo","Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado","Do","Lu","Mar","Mi\xe9","Jue","Vi","S\xe1b"],buttons:["Hoy","Limpiar","Cancel","Help","Prior","Next","Finish"]},pt:{months:["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro","Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],days:["Domingo","Segunda-feira","Ter\xe7a-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sabado","Dom","Seg","Ter","Qua","Qui","Sex","Sab"],buttons:["Hoje","Limpar","Cancelar","Ajuda","Anterior","Seguinte","Terminar"]},pl:{months:["Stycze\u0144","Luty","Marzec","Kwiecie\u0144","Maj","Czerwiec","Lipiec","Sierpie\u0144","Wrzesie\u0144","Pa\u017adziernik","Listopad","Grudzie\u0144","Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Pa\u017a","Lis","Gru"],days:["Niedziela","Poniedzia\u0142ek","Wtorek","\u015aroda","Czwartek","Pi\u0105tek","Sobota","Nd","Pon","Wt","\u015ar","Czw","Pt","Sob"],buttons:["Dzisiaj","Wyczy\u015b\u0107","Anuluj","Pomoc","Poprzedni","Nast\u0119pny","Koniec"]},cs:{months:["Leden","\xdanor","B\u0159ezen","Duben","Kv\u011bten","\u010cerven","\u010cervenec","Srpen","Z\xe1\u0159\xed","\u0158\xedjen","Listopad","Prosinec","Led","\xdan","B\u0159","Dub","Kv\u011b","\u010ce","\u010cer","Srp","Z\xe1","\u0158\xed","Li","Pro"],days:["Ned\u011ble","Pond\u011bl\xed","\xdater\xfd","St\u0159eda","\u010ctvrtek","P\xe1tek","Sobota","Ne","Po","\xdat","St","\u010ct","P\xe1","So"],buttons:["Dnes","Vy\u010distit","Zru\u0161it","Pomoc","P\u0159ede\u0161l\xfd","Dal\u0161\xed","Dokon\u010dit"]},th:{months:["\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21","\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c","\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21","\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19","\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21","\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19","\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21","\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21","\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19","\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21","\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19","\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21","\u0e21.\u0e04.","\u0e01.\u0e1e.","\u0e21\u0e35.\u0e04.","\u0e40\u0e21.\u0e22.","\u0e1e.\u0e04.","\u0e21\u0e34.\u0e22.","\u0e01.\u0e04.","\u0e2a.\u0e04.","\u0e01.\u0e22.","\u0e15.\u0e04.","\u0e1e.\u0e22.","\u0e18.\u0e04."],days:["\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c","\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c","\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23","\u0e1e\u0e38\u0e18","\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35","\u0e28\u0e38\u0e01\u0e23\u0e4c","\u0e40\u0e2a\u0e32\u0e23\u0e4c","\u0e2d\u0e32.","\u0e08.","\u0e2d.","\u0e1e.","\u0e1e\u0e24.","\u0e28.","\u0e2a."],buttons:["\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49","\u0e25\u0e49\u0e32\u0e07","\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01","\u0e0a\u0e48\u0e27\u0e22\u0e40\u0e2b\u0e25\u0e37\u0e2d","\u0e01\u0e25\u0e31\u0e1a","\u0e15\u0e48\u0e2d\u0e44\u0e1b","\u0e40\u0e2a\u0e23\u0e47\u0e08"]}};var dateFormat=function(){var t=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,e=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,n=/[^-+\dA-Z]/g,o=function(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t};return function(i,r,a){var s=dateFormat;1!==arguments.length||"[object String]"!==Object.prototype.toString.call(i)||/\d/.test(i)||(r=i,i=void 0),i=i?new Date(i):new Date,r=String(s.masks[r]||r||s.masks["default"]),"UTC:"===r.slice(0,4)&&(r=r.slice(4),a=!0);var l=window.METRO_CURRENT_LOCALE||"en",d=a?"getUTC":"get",u=i[d+"Date"](),c=i[d+"Day"](),h=i[d+"Month"](),p=i[d+"FullYear"](),f=i[d+"Hours"](),m=i[d+"Minutes"](),g=i[d+"Seconds"](),v=i[d+"Milliseconds"](),y=a?0:i.getTimezoneOffset(),_={d:u,dd:o(u),ddd:window.METRO_LOCALES[l].days[c],dddd:window.METRO_LOCALES[l].days[c+7],m:h+1,mm:o(h+1),mmm:window.METRO_LOCALES[l].months[h],mmmm:window.METRO_LOCALES[l].months[h+12],yy:String(p).slice(2),yyyy:p,h:f%12||12,hh:o(f%12||12),H:f,HH:o(f),M:m,MM:o(m),s:g,ss:o(g),l:o(v,3),L:o(v>99?Math.round(v/10):v),t:12>f?"a":"p",tt:12>f?"am":"pm",T:12>f?"A":"P",TT:12>f?"AM":"PM",Z:a?"UTC":(String(i).match(e)||[""]).pop().replace(n,""),o:(y>0?"-":"+")+o(100*Math.floor(Math.abs(y)/60)+Math.abs(y)%60,4),S:["th","st","nd","rd"][u%10>3?0:(u%100-u%10!==10)*u%10]};return r.replace(t,function(t){return t in _?_[t]:t.slice(1,t.length-1)})}}();dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},Date.prototype.format=function(t,e){return dateFormat(this,t,e)};var widget_uuid=0,widget_slice=Array.prototype.slice;$.cleanData=function(t){return function(e){var n,o,i;for(i=0;null!=(o=e[i]);i++)try{n=$._data(o,"events"),n&&n.remove&&$(o).triggerHandler("remove")}catch(r){}t(e)}}($.cleanData),$.widget=function(t,e,n){var o,i,r,a,s={},l=t.split(".")[0];return t=t.split(".")[1],o=l+"-"+t,n||(n=e,e=$.Widget),$.expr[":"][o.toLowerCase()]=function(t){return!!$.data(t,o)},$[l]=$[l]||{},i=$[l][t],r=$[l][t]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new r(t,e)},$.extend(r,i,{version:n.version,_proto:$.extend({},n),_childConstructors:[]}),a=new e,a.options=$.widget.extend({},a.options),$.each(n,function(t,n){return $.isFunction(n)?void(s[t]=function(){var o=function(){return e.prototype[t].apply(this,arguments)},i=function(n){return e.prototype[t].apply(this,n)};return function(){var t,e=this._super,r=this._superApply;return this._super=o,this._superApply=i,t=n.apply(this,arguments),this._super=e,this._superApply=r,t}}()):void(s[t]=n)}),r.prototype=$.widget.extend(a,{widgetEventPrefix:i?a.widgetEventPrefix||t:t},s,{constructor:r,namespace:l,widgetName:t,widgetFullName:o}),i?($.each(i._childConstructors,function(t,e){var n=e.prototype;$.widget(n.namespace+"."+n.widgetName,r,e._proto)}),delete i._childConstructors):e._childConstructors.push(r),$.widget.bridge(t,r),r},$.widget.extend=function(t){for(var e,n,o=widget_slice.call(arguments,1),i=0,r=o.length;r>i;i++)for(e in o[i])n=o[i][e],o[i].hasOwnProperty(e)&&void 0!==n&&($.isPlainObject(n)?t[e]=$.isPlainObject(t[e])?$.widget.extend({},t[e],n):$.widget.extend({},n):t[e]=n);return t},$.widget.bridge=function(t,e){var n=e.prototype.widgetFullName||t;$.fn[t]=function(o){var i="string"==typeof o,r=widget_slice.call(arguments,1),a=this;return i?this.each(function(){var e,i=$.data(this,n);return"instance"===o?(a=i,!1):i?$.isFunction(i[o])&&"_"!==o.charAt(0)?(e=i[o].apply(i,r),e!==i&&void 0!==e?(a=e&&e.jquery?a.pushStack(e.get()):e,!1):void 0):$.error("no such method '"+o+"' for "+t+" widget instance"):$.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+o+"'")}):(r.length&&(o=$.widget.extend.apply(null,[o].concat(r))),this.each(function(){var t=$.data(this,n);t?(t.option(o||{}),t._init&&t._init()):$.data(this,n,new e(o,this))})),a}},$.Widget=function(){},$.Widget._childConstructors=[],$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,e){e=$(e||this.defaultElement||this)[0],this.element=$(e),this.uuid=widget_uuid++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=$(),this.hoverable=$(),this.focusable=$(),e!==this&&($.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===e&&this.destroy()}}),this.document=$(e.style?e.ownerDocument:e.document||e),this.window=$(this.document[0].defaultView||this.document[0].parentWindow)),this.options=$.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:$.noop,_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData($.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:$.noop,widget:function(){return this.element},option:function(t,e){var n,o,i,r=t;if(0===arguments.length)return $.widget.extend({},this.options);if("string"==typeof t)if(r={},n=t.split("."),t=n.shift(),n.length){for(o=r[t]=$.widget.extend({},this.options[t]),i=0;i<n.length-1;i++)o[n[i]]=o[n[i]]||{},o=o[n[i]];if(t=n.pop(),1===arguments.length)return void 0===o[t]?null:o[t];o[t]=e}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];r[t]=e}return this._setOptions(r),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,e,n){var o,i=this;"boolean"!=typeof t&&(n=e,e=t,t=!1),n?(e=o=$(e),this.bindings=this.bindings.add(e)):(n=e,e=this.element,o=this.widget()),$.each(n,function(n,r){function a(){return t||i.options.disabled!==!0&&!$(this).hasClass("ui-state-disabled")?("string"==typeof r?i[r]:r).apply(i,arguments):void 0}"string"!=typeof r&&(a.guid=r.guid=r.guid||a.guid||$.guid++);var s=n.match(/^([\w:-]*)\s*(.*)$/),l=s[1]+i.eventNamespace,d=s[2];d?o.delegate(d,l,a):e.bind(l,a)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e),this.bindings=$(this.bindings.not(t).get()),this.focusable=$(this.focusable.not(t).get()),this.hoverable=$(this.hoverable.not(t).get())},_delay:function(t,e){function n(){return("string"==typeof t?o[t]:t).apply(o,arguments)}var o=this;return setTimeout(n,e||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){$(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){$(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){$(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){$(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,e,n){var o,i,r=this.options[t];if(n=n||{},e=$.Event(e),e.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),e.target=this.element[0],i=e.originalEvent)for(o in i)o in e||(e[o]=i[o]);return this.element.trigger(e,n),!($.isFunction(r)&&r.apply(this.element[0],[e].concat(n))===!1||e.isDefaultPrevented())}},$.each({show:"fadeIn",hide:"fadeOut"},function(t,e){$.Widget.prototype["_"+t]=function(n,o,i){"string"==typeof o&&(o={effect:o});var r,a=o?o===!0||"number"==typeof o?e:o.effect||e:t;o=o||{},"number"==typeof o&&(o={duration:o}),r=!$.isEmptyObject(o),o.complete=i,o.delay&&n.delay(o.delay),r&&$.effects&&$.effects.effect[a]?n[t](o):a!==t&&n[a]?n[a](o.duration,o.easing,i):n.queue(function(e){$(this)[t](),i&&i.call(n[0]),e()})}});var widget=$.widget;$.fn.reverse=Array.prototype.reverse,$.Metro=function(t){t=$.extend({},t)},$.Metro.hotkeys=[],$.Metro.initWidgets=function(){var t=$("[data-role]"),e=$("[data-hotkey]");$.each(e,function(){var t=$(this),e=t.data("hotkey").toLowerCase();t.data("hotKeyBonded")!==!0&&($.Metro.hotkeys.push(e),$(document).on("keyup",null,e,function(e){return void 0!==t?("A"===t[0].tagName&&void 0!==t.attr("href")&&""!==t.attr("href").trim()&&"#"!==t.attr("href").trim()?document.location.href=t.attr("href"):t.click(),!1):void 0}),t.data("hotKeyBonded",!0))}),$.each(t,function(){var t=$(this),e=t.data("role").split(/\s*,\s*/);e.map(function(e){try{void 0!==$.fn[e]&&t.data(e+"-initiated")!==!0&&($.fn[e].call(t),t.data(e+"-initiated",!0))}catch(n){window.METRO_DEBUG&&console.log(n.message,n.stack)}})})},$.Metro.init=function(){if($.Metro.initWidgets(),window.METRO_AUTO_REINIT)if(window.canObserveMutation){var t,e,n;e={childList:!0,subtree:!0},n=function(t){t.map(function(t){if(t.addedNodes)for(var e,n,o,i,r=0,a=t.addedNodes.length;a>r;r++)e=$(t.addedNodes[r]),o=e.find("[data-role]"),i=e.find("[data-hotkey]"),$.each(i,function(){var t=$(this),e=t.data("hotkey").toLowerCase();t.data("hotKeyBonded")!==!0&&($.Metro.hotkeys.push(e),$(document).on("keyup",null,e,function(){return void 0!==t?("A"===t[0].tagName&&void 0!==t.attr("href")&&""!==t.attr("href").trim()&&"#"!==t.attr("href").trim()?document.location.href=t.attr("href"):t.click(),!1):void 0}),t.data("hotKeyBonded",!0))}),n=void 0!==e.data("role")?$.merge(o,e):o,n.length&&$.each(n,function(){var t=$(this),e=t.data("role").split(/\s*,\s*/);e.map(function(e){try{void 0!==$.fn[e]&&t.data(e+"-initiated")!==!0&&($.fn[e].call(t),t.data(e+"-initiated",!0))}catch(n){window.METRO_DEBUG&&console.log(n.message,n.stack)}})})})},t=new MutationObserver(n),t.observe(document,e)}else{var o,i=$("body").html();setInterval(function(){o=$("body").html(),i!==o&&(i=o,$.Metro.initWidgets())},100)}},$.easing.jswing=$.easing.swing,$.extend($.easing,{def:"easeOutQuad",swing:function(t,e,n,o,i){return $.easing[$.easing.def](t,e,n,o,i)},easeInQuad:function(t,e,n,o,i){return o*(e/=i)*e+n},easeOutQuad:function(t,e,n,o,i){return-o*(e/=i)*(e-2)+n},easeInOutQuad:function(t,e,n,o,i){return(e/=i/2)<1?o/2*e*e+n:-o/2*(--e*(e-2)-1)+n},easeInCubic:function(t,e,n,o,i){return o*(e/=i)*e*e+n},easeOutCubic:function(t,e,n,o,i){return o*((e=e/i-1)*e*e+1)+n},easeInOutCubic:function(t,e,n,o,i){return(e/=i/2)<1?o/2*e*e*e+n:o/2*((e-=2)*e*e+2)+n},easeInQuart:function(t,e,n,o,i){return o*(e/=i)*e*e*e+n},easeOutQuart:function(t,e,n,o,i){return-o*((e=e/i-1)*e*e*e-1)+n},easeInOutQuart:function(t,e,n,o,i){return(e/=i/2)<1?o/2*e*e*e*e+n:-o/2*((e-=2)*e*e*e-2)+n},easeInQuint:function(t,e,n,o,i){return o*(e/=i)*e*e*e*e+n},easeOutQuint:function(t,e,n,o,i){return o*((e=e/i-1)*e*e*e*e+1)+n},easeInOutQuint:function(t,e,n,o,i){return(e/=i/2)<1?o/2*e*e*e*e*e+n:o/2*((e-=2)*e*e*e*e+2)+n},easeInSine:function(t,e,n,o,i){return-o*Math.cos(e/i*(Math.PI/2))+o+n},easeOutSine:function(t,e,n,o,i){return o*Math.sin(e/i*(Math.PI/2))+n},easeInOutSine:function(t,e,n,o,i){return-o/2*(Math.cos(Math.PI*e/i)-1)+n},easeInExpo:function(t,e,n,o,i){return 0==e?n:o*Math.pow(2,10*(e/i-1))+n},easeOutExpo:function(t,e,n,o,i){return e==i?n+o:o*(-Math.pow(2,-10*e/i)+1)+n},easeInOutExpo:function(t,e,n,o,i){return 0==e?n:e==i?n+o:(e/=i/2)<1?o/2*Math.pow(2,10*(e-1))+n:o/2*(-Math.pow(2,-10*--e)+2)+n},easeInCirc:function(t,e,n,o,i){return-o*(Math.sqrt(1-(e/=i)*e)-1)+n},easeOutCirc:function(t,e,n,o,i){return o*Math.sqrt(1-(e=e/i-1)*e)+n},easeInOutCirc:function(t,e,n,o,i){return(e/=i/2)<1?-o/2*(Math.sqrt(1-e*e)-1)+n:o/2*(Math.sqrt(1-(e-=2)*e)+1)+n},easeInElastic:function(t,e,n,o,i){var r=1.70158,a=0,s=o;return 0==e?n:1==(e/=i)?n+o:(a||(a=.3*i),s<Math.abs(o)?(s=o,r=a/4):r=a/(2*Math.PI)*Math.asin(o/s),-(s*Math.pow(2,10*(e-=1))*Math.sin((e*i-r)*(2*Math.PI)/a))+n)},easeOutElastic:function(t,e,n,o,i){var r=1.70158,a=0,s=o;return 0==e?n:1==(e/=i)?n+o:(a||(a=.3*i),s<Math.abs(o)?(s=o,r=a/4):r=a/(2*Math.PI)*Math.asin(o/s),s*Math.pow(2,-10*e)*Math.sin((e*i-r)*(2*Math.PI)/a)+o+n)},easeInOutElastic:function(t,e,n,o,i){var r=1.70158,a=0,s=o;return 0==e?n:2==(e/=i/2)?n+o:(a||(a=i*(.3*1.5)),s<Math.abs(o)?(s=o,r=a/4):r=a/(2*Math.PI)*Math.asin(o/s),1>e?-.5*(s*Math.pow(2,10*(e-=1))*Math.sin((e*i-r)*(2*Math.PI)/a))+n:s*Math.pow(2,-10*(e-=1))*Math.sin((e*i-r)*(2*Math.PI)/a)*.5+o+n)},easeInBack:function(t,e,n,o,i,r){return void 0==r&&(r=1.70158),o*(e/=i)*e*((r+1)*e-r)+n},easeOutBack:function(t,e,n,o,i,r){return void 0==r&&(r=1.70158),o*((e=e/i-1)*e*((r+1)*e+r)+1)+n},easeInOutBack:function(t,e,n,o,i,r){return void 0==r&&(r=1.70158),(e/=i/2)<1?o/2*(e*e*(((r*=1.525)+1)*e-r))+n:o/2*((e-=2)*e*(((r*=1.525)+1)*e+r)+2)+n},easeInBounce:function(t,e,n,o,i){return o-$.easing.easeOutBounce(t,i-e,0,o,i)+n},easeOutBounce:function(t,e,n,o,i){return(e/=i)<1/2.75?o*(7.5625*e*e)+n:2/2.75>e?o*(7.5625*(e-=1.5/2.75)*e+.75)+n:2.5/2.75>e?o*(7.5625*(e-=2.25/2.75)*e+.9375)+n:o*(7.5625*(e-=2.625/2.75)*e+.984375)+n},easeInOutBounce:function(t,e,n,o,i){return i/2>e?.5*$.easing.easeInBounce(t,2*e,0,o,i)+n:.5*$.easing.easeOutBounce(t,2*e-i,0,o,i)+.5*o+n}}),$.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},textAcceptingInputTypes:["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color","tel"],textInputTypes:/textarea|input|select/i,options:{filterInputAcceptingElements:!0,filterTextInputs:!0,filterContentEditable:!0}},$.each(["keydown","keyup","keypress"],function(){$.event.special[this]={add:keyHandler}});var toFix=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],toBind="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],lowestDelta,lowestDeltaXY;if($.event.fixHooks)for(var i=toFix.length;i;)$.event.fixHooks[toFix[--i]]=$.event.mouseHooks;$.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var t=toBind.length;t;)this.addEventListener(toBind[--t],handler,!1);else this.onmousewheel=handler},teardown:function(){if(this.removeEventListener)for(var t=toBind.length;t;)this.removeEventListener(toBind[--t],handler,!1);else this.onmousewheel=null}},$.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}}),document.addEventListener("DOMContentLoaded",function(){preCode("pre code, textarea")},!1);var hasTouch="ontouchend"in window,eventTimer,moveDirection="undefined",startX,startY,deltaX,deltaY,mouseDown=!1,addTouchEvents=function(t){hasTouch&&(t.addEventListener("touchstart",touch2Mouse,!0),t.addEventListener("touchmove",touch2Mouse,!0),t.addEventListener("touchend",touch2Mouse,!0))};$.widget("metro.accordion",{version:"3.0.0",options:{closeAny:!1,speed:"fast",onFrameOpen:function(t){return!0},onFrameOpened:function(t){},onFrameClose:function(t){return!0},onFrameClosed:function(t){}},init:function(){var t=this,e=this.element;e.on("click",".heading",function(e){var n=$(this).parent();return n.hasClass("disabled")?!1:(n.hasClass("active")?t._closeFrame(n):t._openFrame(n),e.preventDefault(),void e.stopPropagation())})},_closeAllFrames:function(){var t=this,e=this.element.children(".frame.active");$.each(e,function(){t._closeFrame($(this))})},_openFrame:function(frame){var o=this.options,content=frame.children(".content"),result;if("function"==typeof o.onFrameOpen){if(!o.onFrameOpen(frame))return!1}else if("function"==typeof window[o.onFrameOpen]){if(!window[o.onFrameOpen](frame))return!1}else if(result=eval("(function(){"+o.onFrameOpen+"})"),!result.call(frame))return!1;o.closeAny&&this._closeAllFrames(),content.slideDown(o.speed),frame.addClass("active"),"function"==typeof o.onFrameOpened?o.onFrameOpened(frame):"function"==typeof window[o.onFrameOpened]?window[o.onFrameOpened](frame):(result=eval("(function(){"+o.onFrameOpened+"})"),result.call(frame))},_closeFrame:function(frame){var o=this.options,content=frame.children(".content"),result;if("function"==typeof o.onFrameClose){if(!o.onFrameClose(frame))return!1}else if("function"==typeof window[o.onFrameClose]){if(!window[o.onFrameClose](frame))return!1}else if(result=eval("(function(){"+o.onFrameClose+"})"),!result.call(frame))return!1;content.slideUp(o.speed,function(){frame.removeClass("active")}),"function"==typeof o.onFrameClosed?o.onFrameClosed(frame):"function"==typeof window[o.onFrameClosed]?window[o.onFrameClosed](frame):(result=eval("(function(){"+o.onFrameClosed+"})"),result.call(frame))},_create:function(){var t=this,e=this.options,n=this.element;$.each(this.element.data(),function(t,n){if(t in e)try{e[t]=$.parseJSON(n)}catch(o){e[t]=n}}),t.init(),n.data("accordion",this)},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}}),$.widget("metro.appbar",{version:"3.0.0",options:{flexstyle:"app-bar-menu",flexclean:!1,flextolerance:3},_create:function(){var t=this.element,e=this.options;$.each(t.data(),function(t,n){if(t in e)try{e[t]=$.parseJSON(n)}catch(o){e[t]=n}}),this._initBar(),t.data("appbar",this)},_calculateFreeSpace:function(){var t,e,n=this,o=(this.element,this.options,0),i=0;o=$(n.menusParent).width(),t=$(n.menusParent).children(":visible").not(".app-bar-pullmenu");for(var r,a=[],s=[],l=[],d=0,u=t.length;u>d;d++)switch(r=$(t[d]).css("float")){case"left":a.push(t[d]);break;case"right":s.push(t[d]);break;default:l.push(t[d])}s.reverse(),t=new Array,t=a.concat(l,s),t=$(t),i+=parseInt($(t).first().css("margin-left"));for(var d=0,u=t.length-1;u>=d;d++)i+=$(t[d]).outerWidth(),d!==u&&(i+=Math.max(parseInt($(t[d]).css("margin-right")),parseInt($(t[d+1]).css("margin-left"))));return i+=parseInt($(t[u]).css("margin-right")),e=o-i,n.freeSpace=e,n.childrenWidth=i,n.menusParentWidth=o,e},_originIndexMove:function(t,e){var n=$(t).children().filter(function(){return parseInt($(this).attr("data-flexorderorigin"))<parseInt($(e).attr("data-flexorderorigin"))});n.length>0?$(n).last().after(e):(n=$(t).children().filter(function(){
return parseInt($(this).attr("data-flexorderorigin"))>parseInt($(e).attr("data-flexorderorigin"))}),n.length>0?$(n).first().before(e):$(t).append(e))},_moveMenuEntry:function(t){var e=this;this.element,this.options;if(t=t||"toPullMenu","toPullMenu"===t){var n=$(e.allMenuEntries).not(".app-bar-pullmenu-entry").last();if(0===n.length)return!1;var o=$(n).parent(),i=$(e.flexVisibles).index($(n).parent()),r=$(e.pullMenu).find(".app-bar-pullmenubar").eq(i);return e._originIndexMove(r,n),$(n).addClass("app-bar-pullmenu-entry"),$(r).removeClass("hidden").show(),0===$(o).children().length&&$(o).addClass("hidden"),$(e.pullButton).show(),n}if("fromPullMenu"===t){var a=$(e.allMenuEntries).filter(".app-bar-pullmenu-entry").first(),r=$(a).parent(),i=$(r).index(),o=$(e.flexVisibles).eq(i);return $(o).removeClass("hidden"),$(a).removeClass("app-bar-pullmenu-entry"),e._originIndexMove(o,a),0===$(r).children().length&&$(r).addClass("hidden").hide(),0===$(e.pullMenu).children(".app-bar-pullmenubar").not(".hidden").length&&($(e.pullMenu).hide().addClass("hidden"),$(e.pullButton).hide()),0===a.length?!1:a}},_checkMenuEntries:function(){for(var t=this,e=(this.element,this.options),n=!1,o=0,i=t.allMenuEntries.length;i>o;o++){t._calculateFreeSpace();var r=t.freeSpace;if(!(r<e.flextolerance||e.flexclean)){if(t._moveMenuEntry("fromPullMenu")){n=!0;continue}break}if(!t._moveMenuEntry("toPullMenu"))break;if(n)break}},resize:function(){var t=this;this.element,this.options;t.initiatedAsFlex&&this._checkMenuEntries()},_initBar:function(){var t=this,e=this.element,n=this.options;t.lastFlexAction=void 0,t.pullButton=$(e).find(".app-bar-pullbutton");var o=$(e).find(".app-bar-menu");t.initiatedAsFlex=!1,n.flexclean=$(e).is("[data-flexclean='true']")||n.flexclean,n.flexstyle=$(e).attr("data-flexstyle")||n.flexstyle;var i,r;t.flexVisibles=$(),t.allMenuEntries=$(),t.menusParent=$(),t.pullMenu=$(),o.length>0&&$(e).is(":not('.no-flexible')")&&(t.flexVisibles=$(o).not(".no-flexible"),t.flexVisibles.length>0&&(t.initiatedAsFlex=!0,t.flexVisibles.sort(function(t,e){var n=parseInt($(t).data("flexorder"))||$(t).index()+1,o=parseInt($(e).data("flexorder"))||$(e).index()+1;return n-o}),$(t.flexVisibles).each(function(){i=this,r=$(i).children(),$(r).each(function(){$(this).attr("data-flexorderorigin",$(this).index()),$(this).is("[data-flexorder]")||$(this).attr("data-flexorder",$(this).index()+1)}),r.sort(function(t,e){var n=parseInt($(t).data("flexorder")),o=parseInt($(e).data("flexorder"));return n-o}),$(i).is("[data-flexdirection='reverse']")&&r.reverse(),$.merge(t.allMenuEntries,$(r).not(".no-flexible"))}),t.menusParent=$(e).find(".app-bar-menu").first().parent(),t.pullButton.length>0||(t.pullButton=$('<div class="app-bar-pullbutton automatic"></div>'),$(t.menusParent).append(t.pullButton)),t.pullMenu=$('<nav class="app-bar-pullmenu hidden" />'),t.flexVisibles.each(function(){$(t.pullMenu).append($('<ul class="app-bar-pullmenubar hidden '+n.flexstyle+'" />'))}),$(t.menusParent).append($('<div class="clearfix" style="width: 0;">')),$(t.pullMenu).addClass("flexstyle-"+n.flexstyle),$(t.menusParent).append(t.pullMenu),t._checkMenuEntries(),$(t.pullButton).on("click",function(){t=$(this).closest("[data-role=appbar]").data("appbar"),$(t.pullMenu).is(":hidden")?($(t.pullMenu).show(),$(t.pullMenu).find(".app-bar-pullmenubar").hide().not(".hidden").slideDown("fast")):$(t.pullMenu).find(".app-bar-pullmenubar").not(".hidden").show().slideUp("fast",function(){$(t.pullMenu).hide()})}),$(window).resize(function(){$("[data-role=appbar]:not(.no-flexible)").each(function(){$(this).data("appbar").resize()})}),$(window).load(function(){$("[data-role=appbar]:not(.no-flexible)").each(function(){$(this).data("appbar").resize()})}),$("[data-role=appbar]:not(.no-flexible) [src]").on("load",function(){var t=$(this).closest("[data-role=appbar]").data("appbar");t.resize()})))},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}}),$.widget("metro.audio",{version:"3.0.14",options:{src:!1,volume:.5,muted:!1,loop:!1,preload:!1,autoplay:!1,playList:!1,mode:"full",loopButton:"<span class='mif-loop'></span>",stopButton:"<span class='mif-stop'></span>",playButton:"<span class='mif-play'></span>",pauseButton:"<span class='mif-pause'></span>",muteButton:"<span class='mif-volume-mute2'></span>",shuffleButton:"<span class='mif-shuffle'></span>",nextButton:"<span class='mif-forward'></span>",prevButton:"<span class='mif-backward'></span>",randomButton:"<span class='mif-dice'></span>",playListButton:"<span class='mif-list2'></span>",volumeLowButton:"<span class='mif-volume-low'></span>",volumeMediumButton:"<span class='mif-volume-medium'></span>",volumeHighButton:"<span class='mif-volume-high'></span>"},_create:function(){var t=this.element;this.options;this._setOptionsFromDOM(),this._createPlayer(),this._addControls(),this._addEvents(),this._addPlayList(),this._setControlsVisibility(),t.data("audio",this)},_setControlsVisibility:function(){var t=this.element;this.options;0==t.find(".play-list").length&&(t.find(".controls .plist").hide(),t.find(".controls .next").hide(),t.find(".controls .prev").hide(),t.find(".controls .random").hide())},_addPlayList:function(){var t,e,n,o,i,r,a=this,s=this.element,l=this.options;s.find("audio");if(l.playList&&void 0!=window[l.playList]&&"function"==typeof window[l.playList]&&(t=window[l.playList](),e=t.items,n=$("<div>").addClass("play-list-wrapper").insertBefore(s.find("audio")),void 0!=t.title&&(i=$("<h1>").addClass("album-title").html(t.title).appendTo(n)),void 0!=t.poster&&(o=$("<div>").addClass("poster").html($("<img>").attr("src",t.poster)).appendTo(n)),void 0!=t.desc&&$("<div>").addClass("album-desc").html(t.desc).appendTo(o),r=$("<ul>").addClass("play-list").appendTo(n),void 0!=e&&$.each(t.items,function(){var t,e=this;t=$("<li>").appendTo(r),t.data("src",e.file),void 0!=e.type&&t.data("type",e.type),void 0!=e.title?t.html(e.title):t.html(e.file.replace(/^.*[\\\/]/,""))})),r=s.find("ul"),0==r.length)return this;r.addClass("play-list");var d=r.find("li");return 0==d.length?this:($.each(d,function(){var t=$(this);$("<div>").addClass("progress-bar small no-margin-top").data("role","progress").appendTo(t).hide();t.on("click",function(){d.removeClass("current"),d.find(".progress-bar").hide();var e=t.data("src"),n=t.data("type");t.addClass("current"),t.find(".progress-bar").show(),s.data("current",t),a.play(e,n)})}),$(d[0]).click(),this._stop(),void s.data("current",$(d[0])))},_createPlayer:function(){var t=this.element,e=this.options,n=t.find("audio");t.addClass("audio-player"),t.addClass(e.mode),0==n.length&&(n=$("<audio>").appendTo(t)),$.each(["autoplay","controls","muted","loop","preload"],function(){n.removeAttr(this)}),e.src&&n.attr(src,e.src),e.loop&&n.attr("loop","loop"),e.preload&&n.attr("preload","auto"),e.autoplay&&n.attr("autoplay","autoplay"),n[0].volume=e.volume,n[0].muted=e.muted,t.data("muted",!1),t.data("duration",0),t.data("played",!1),t.data("volume",n[0].volume),t.data("current",!1)},_addControls:function(){var t,e,n,o,i,r,a,s,l,d,u,c,h,p,f=this,m=this.element,g=this.options,v=m.find("audio"),y=v[0];t=$("<div>").addClass("controls").appendTo(m),g.playListButton!==!1&&(p=$("<button/>").addClass("square-button control-element plist").html(g.playListButton).appendTo(t),p.on("click",function(){var t=m.find(".play-list-wrapper");return 0==t.length?f:void t.toggleClass("not-visible")})),g.loopButton!==!1&&(n=$("<button/>").addClass("square-button control-element loop").html(g.loopButton).appendTo(t),n.on("click",function(){n.toggleClass("active"),n.hasClass("active")?v.attr("loop","loop"):v.removeAttr("loop")})),g.playButton!==!1&&(e=$("<button/>").addClass("square-button control-element play").html(g.playButton).appendTo(t),e.on("click",function(){f._play()})),g.prevButton!==!1&&(c=$("<button/>").addClass("square-button control-element prev").html(g.prevButton).appendTo(t),c.on("click",function(){f._playPrev()})),g.nextButton!==!1&&(u=$("<button/>").addClass("square-button control-element next").html(g.nextButton).appendTo(t),u.on("click",function(){f._playNext()})),g.randomButton!==!1&&(h=$("<button/>").addClass("square-button control-element random").html(g.randomButton).appendTo(t),h.on("click",function(){f._playRandom()})),g.stopButton!==!1&&(o=$("<button/>").addClass("square-button control-element stop").html(g.stopButton).appendTo(t),o.attr("disabled",!0),o.on("click",function(){f._stop()})),l=$("<div/>").addClass("control-element stream-wrapper").appendTo(t),a=$("<div/>").addClass("slider stream-slider").appendTo(l),a.slider({showHint:!0,animate:!1,markerColor:"bg-red",completeColor:"bg-cyan",onStartChange:function(){y.pause()},onChanged:function(t,e){y.seekable.length>0&&(y.currentTime=(m.data("duration")*t/100).toFixed(0)),m.data("played")&&y.currentTime>=0&&y.play()}}),a.data("slider").value(0),s=$("<div/>").addClass("control-element info-box").appendTo(t),s.html("00:00 / 00:00");var _=$("<div/>").addClass("place-right").appendTo(t);i=$("<button/>").addClass("square-button control-element volume").html(g.volumeLowButton).appendTo(_),i.on("click",function(){var t=m.find(".volume-slider").data("slider");m.data("muted",!m.data("muted")),m.data("muted")?(m.data("volume",y.volume),i.html(g.muteButton),t.value(0)):(y.volume=m.data("volume"),t.value(100*m.data("volume")),f._setupVolumeButton()),y.muted=m.data("muted")}),this._setupVolumeButton(),d=$("<div/>").addClass("control-element volume-wrapper").appendTo(_),r=$("<div/>").addClass("slider volume-slider").appendTo(d),r.slider({showHint:!0,animate:!1,markerColor:"bg-red",completeColor:"bg-green",onChange:function(t,e){y.volume=t/100,f._setupVolumeButton()}}),r.data("slider").value(100*y.volume)},_setupVolumeButton:function(){var t=this.element,e=this.options,n=t.find("audio"),o=n[0],i=t.find(".controls"),r=i.find(".volume"),a=o.volume;a>0&&.3>a?r.html(e.volumeLowButton):a>=.3&&.6>a?r.html(e.volumeMediumButton):a>=.6&&1>=a?r.html(e.volumeHighButton):r.html(e.muteButton)},_addEvents:function(){var t=this,e=this.element,n=(this.options,e.find("audio")),o=n[0],i=(e.find(".controls"),e.find(".info-box"));n.on("loadedmetadata",function(){e.data("duration",o.duration.toFixed(0)),i.html("00:00 / "+secondsToFormattedString(e.data("duration")))}),n.on("canplay",function(){var e=o.buffered.length?Math.round(Math.floor(o.buffered.end(0))/Math.floor(o.duration)*100):0;t._setBufferSize(e)}),n.on("progress",function(){var e=o.buffered.length?Math.round(Math.floor(o.buffered.end(0))/Math.floor(o.duration)*100):0;t._setBufferSize(e)}),n.on("timeupdate",function(){if(t._setInfoData(),t._setStreamSliderPosition(),e.data("current")){var n=e.data("current").find(".progress-bar").data("progress"),i=Math.round(100*o.currentTime/e.data("duration"));n.value(i)}}),n.on("waiting",function(){}),n.on("loadeddata",function(){}),n.on("ended",function(){t._stop(),e.find(".play-list li").length>0&&t._playNext()})},_setInfoData:function(){var t=this.element,e=(t[0],this.options,t.find("audio")),n=e[0],o=t.find(".controls .info-box"),i=Math.round(n.currentTime);o.html(secondsToFormattedString(i)+" / "+secondsToFormattedString(t.data("duration")))},_setStreamSliderPosition:function(){var t=this.element,e=(t[0],this.options,t.find("audio")),n=e[0],o=t.find(".stream-slider").data("slider"),i=Math.round(100*n.currentTime/t.data("duration"));o.value(i)},_setBufferSize:function(t){var e=this.element,n=(e[0],this.options,e.find("audio")),o=(n[0],e.find(".stream-slider").data("slider"));o.buffer(Math.round(t))},_play:function(){var t=this.element,e=(t[0],this.options),n=t.find("audio"),o=n[0],i=t.find(".controls .play"),r=t.find(".controls .stop");o.paused?(i.html(e.pauseButton),o.play(),r.removeAttr("disabled"),t.data("played",!0),t.trigger("play")):(i.html(e.playButton),o.pause(),t.data("played",!1),t.trigger("pause"))},_playRandom:function(){var t=this.element,e=(t[0],this.options,t.find("audio")),n=(e[0],t.find(".play-list")),o=t.find(".play-list li");if(0==o.length)return this;var i=Math.floor(Math.random()*o.length)+1,r=n.find("li:nth-child("+i+")");r.click()},_playNext:function(){var t=this.element,e=(t[0],this.options,t.find("audio")),n=(e[0],t.find(".play-list")),o=t.find(".play-list li");if(0==o.length)return this;var i=n.find(".current").next();0==i.length&&(i=n.find("li:nth-child(1)")),i.click()},_playPrev:function(){var t=this.element,e=(t[0],this.options,t.find("audio")),n=(e[0],t.find(".play-list")),o=t.find(".play-list li");if(0==o.length)return this;var i=n.find(".current").prev();0==i.length&&(i=n.find("li:last-child")),i.click()},_stop:function(){var t=this.element,e=(t[0],this.options),n=t.find("audio"),o=n[0],i=t.find(".controls .stop"),r=t.find(".controls .play");o.pause(),o.currentTime=0,r.html(e.playButton),i.attr("disabled","disabled"),t.data("played",!1),t.find(".stream-slider").data("slider").value(0),t.trigger("stop")},play:function(t,e){var n,o=this.element,i=(o[0],this.options,o.find("audio")),r=i[0];this._stop(),i.find("source").remove(),i.removeAttr("src"),n=$("<source>").attr("src",t),void 0!=e&&n.attr("type",e),r.load(),n.appendTo(i),this._play()},pause:function(){var t=this.element,e=(t[0],this.options),n=t.find("audio"),o=n[0],i=t.find(".play");i.html(e.playButton),o.pause(),t.data("played",!1),t.trigger("pause")},resume:function(){var t=this.element,e=(t[0],this.options),n=t.find("audio"),o=n[0],i=t.find(".play"),r=t.find(".stop");i.html(e.pauseButton),o.play(),r.removeAttr("disabled"),t.data("played",!0),t.trigger("play")},stop:function(){this._stop()},_setOptionsFromDOM:function(){var t=this.element,e=this.options;$.each(t.data(),function(t,n){if(t in e)try{e[t]=$.parseJSON(n)}catch(o){e[t]=n}})},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}}),$.widget("metro.group",{version:"3.0.0",options:{groupType:"one-state",buttonStyle:!1,onChange:function(t,e){return!0},onChanged:function(t,e){}},_create:function(){var that=this,element=this.element,o=this.options,result;$.each(element.data(),function(t,e){if(t in o)try{o[t]=$.parseJSON(e)}catch(n){o[t]=e}}),element.hasClass("group-of-buttons")||element.addClass("group-of-buttons");for(var buttons=element.find(".button, .toolbar-button"),i=0;i<buttons.length;i++)$(buttons[i]).data("index",i);o.buttonStyle!==!1&&buttons.addClass(o.buttonStyle),element.on("click",".button, .toolbar-button",function(){var button=$(this),index=button.data("index");if("function"==typeof o.onChange){if(!o.onChange(index,button))return!1}else if("function"==typeof window[o.onChange]){if(!window[o.onChange](index,button))return!1}else if(result=eval("(function(){"+o.onChange+"})"),!result.call(index,button))return!1;"one-state"===o.groupType?(buttons.removeClass("active"),$(this).addClass("active")):$(this).toggleClass("active"),"function"==typeof o.onChanged?o.onChanged(index,button):"function"==typeof window[o.onChanged]?window[o.onChanged](index,button):(result=eval("(function(){"+o.onChanged+"})"),result.call(index,button))}),element.data("group",this)},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}}),$.widget("metro.calendar",{version:"3.0.0",options:{format:"yyyy-mm-dd",multiSelect:!1,startMode:"day",weekStart:window.METRO_CALENDAR_WEEK_START,otherDays:!0,date:new Date,minDate:!1,maxDate:!1,preset:!1,exclude:!1,stored:!1,buttons:!0,buttonToday:!0,buttonClear:!0,syncCalenderToDateField:!0,locale:window.METRO_CURRENT_LOCALE,actions:!0,condensedGrid:!1,scheme:"default",getDates:function(t){},dayClick:function(t,e){}},_year:0,_month:0,_day:0,_today:new Date,_event:"",_mode:"day",_distance:0,_events:[],_create:function(){var t=this,e=this.element,n=this.options;$.each(e.data(),function(t,e){if(t in n)try{n[t]=$.parseJSON(e)}catch(o){n[t]=e}}),"string"==typeof n.date&&(n.date=new Date(n.date)),n.minDate!==!1&&"string"==typeof n.minDate&&(n.minDate=new Date(n.minDate+"T00:00:00Z")-864e5),n.maxDate!==!1&&"string"==typeof n.maxDate&&(n.maxDate=new Date(n.maxDate+"T00:00:00Z")),this.locales=window.METRO_LOCALES,this._year=n.date.getFullYear(),this._distance=n.date.getFullYear()-4,this._month=n.date.getMonth(),this._day=n.date.getDate(),this._mode=n.startMode,e.data("_storage",[]),e.data("_exclude",[]),e.data("_stored",[]),e.hasClass("calendar")||e.addClass("calendar");var o,i;n.preset&&(o=/\s*,\s*/,i=n.preset.split(o),$.each(i,function(){void 0!==new Date(this)&&t.setDate(this)})),n.exclude&&(o=/\s*,\s*/,i=n.exclude.split(o),$.each(i,function(){void 0!==new Date(this)&&t.setDateExclude(this)})),n.stored&&(o=/\s*,\s*/,i=n.stored.split(o),$.each(i,function(){void 0!==new Date(this)&&t.setDateStored(this)})),"default"!==n.scheme&&e.addClass(n.scheme),this._renderCalendar(),e.data("calendar",this)},_renderButtons:function(t){var e,n,o=this.options;if(this.options.buttons){var i=o.buttonToday?"<button class='button calendar-btn-today small-button success'>"+this.locales[o.locale].buttons[0]+"</button>":"",r=o.buttonClear?"<button class='button calendar-btn-clear small-button warning'>"+this.locales[o.locale].buttons[1]+"</button>":"";e=$("<div/>").addClass("calendar-row calendar-actions"),n=$("<div/>").addClass("align-center").html(i+r),n.appendTo(e),e.appendTo(t)}},_renderMonth:function(){var t=this.options,e=this._year,n=this._month,o=(this._day,this._event,28);1===n&&(e%100!==0&&e%4===0||e%400===0)&&(o=29);var i,r,a,s,l,d=["31",""+o,"31","30","31","30","31","31","30","31","30","31"],u=d[n],c=this._dateFromNumbers(e,n+1,1).getDay();this.element.html(""),i=$("<div/>").addClass("calendar-grid"),t.condensedGrid&&i.addClass("condensed no-border"),r=$("<div/>").addClass("calendar-row no-margin"),$("<div/>").addClass("calendar-cell align-center").html("<a class='btn-previous-year' href='#'>-</a>").appendTo(r),$("<div/>").addClass("calendar-cell align-center").html("<a class='btn-previous-month' href='#'>&#12296;</a>").appendTo(r),$("<div/>").addClass("calendar-cell sel-month align-center").html("<a class='btn-select-month' href='#'>"+this.locales[t.locale].months[n]+" "+e+"</a>").appendTo(r),$("<div/>").addClass("calendar-cell align-center").html("<a class='btn-next-month' href='#'>&#12297;</a>").appendTo(r),$("<div/>").addClass("calendar-cell align-center").html("<a class='btn-next-year' href='#'>+</a>").appendTo(r),r.addClass("calendar-header").appendTo(i);var h;for(r=$("<div/>").addClass("calendar-row week-days"),s=0;7>s;s++)t.weekStart?(h=s+1,7===h&&(h=0),a=$("<div/>").addClass("calendar-cell align-center day-of-week").appendTo(r),l=$("<div/>").html(this.locales[t.locale].days[h+7]).appendTo(a)):(a=$("<div/>").addClass("calendar-cell align-center day-of-week").appendTo(r),l=$("<div/>").html(this.locales[t.locale].days[s+7]).appendTo(a));r.addClass("calendar-subheader").appendTo(i);var p=this._month-1;0>p&&(p=11);var f=d[p],m=(t.weekStart?c+6:c)%7,g="";for(r=$("<div/>").addClass("calendar-row"),s=0;m>s;s++)t.otherDays&&(g=f-(m-s-1)),a=$("<div/>").addClass("calendar-cell empty").appendTo(r),l=$("<div/>").addClass("other-day").html(g).appendTo(a),t.otherDays||l.css("visibility","hidden");var v,y,_,b=(t.weekStart?c+6:c)%7;for(s=1;u>=s;s++)b%=7,0===b&&(r.appendTo(i),r=$("<div/>").addClass("calendar-row")),a=$("<div/>").addClass("calendar-cell align-center day"),l=$("<div/>").appendTo(a),t.minDate!==!1&&this._dateFromNumbers(e,n+1,s)<t.minDate||t.maxDate!==!1&&this._dateFromNumbers(e,n+1,s)>t.maxDate?(a.removeClass("day"),l.addClass("other-day"),_=s):_="<a href='#'>"+s+"</a>",l.html(_),e===this._today.getFullYear()&&n===this._today.getMonth()&&this._today.getDate()===s&&a.addClass("today"),v=this._dateNumberStringyFy(this._year,this._month+1,s),this.element.data("_storage").indexOf(v)>=0&&(y=a.find("a"),y.parent().parent().addClass("selected")),this.element.data("_exclude").indexOf(v)>=0&&(y=a.find("a"),y.parent().parent().addClass("exclude")),this.element.data("_stored").indexOf(v)>=0&&(y=a.find("a"),y.parent().parent().addClass("stored")),a.appendTo(r),b++;var w="";for(s=b+1;7>=s;s++)t.otherDays&&(w=s-b),a=$("<div/>").addClass("calendar-cell empty").appendTo(r),l=$("<div/>").addClass("other-day").html(w).appendTo(a),t.otherDays||l.css("visibility","hidden");r.appendTo(i),this._renderButtons(i),i.appendTo(this.element)},_renderMonths:function(){var t,e,n,o,i;for(this.element.html(""),t=$("<div/>").addClass("calendar-grid"),this.options.condensedGrid&&t.addClass("condensed no-border"),e=$("<div/>").addClass("calendar-row"),$("<div/>").addClass("calendar-cell sel-minus align-center").html("<a class='btn-previous-year' href='#'>-</a>").appendTo(e),$("<div/>").addClass("calendar-cell sel-year align-center").html("<a class='btn-select-year' href='#'>"+this._year+"</a>").appendTo(e),$("<div/>").addClass("calendar-cell sel-plus align-center").html("<a class='btn-next-year' href='#'>+</a>").appendTo(e),e.addClass("calendar-header").appendTo(t),e=$("<div/>").addClass("calendar-row"),i=0,o=0;12>o;o++)n=$("<div/>").addClass("calendar-cell month-cell align-center month").html("<a href='#' data-month='"+o+"'>"+this.locales[this.options.locale].months[o+12]+"</a>"),this._month===o&&(new Date).getFullYear()===this._year&&n.addClass("today"),n.appendTo(e),(i+1)%4===0&&(e.appendTo(t),e=$("<div/>").addClass("calendar-row")),i+=1;this._renderButtons(t),t.appendTo(this.element)},_renderYears:function(){var t,e,n,o,i;for(this.element.html(""),t=$("<div/>").addClass("calendar-grid"),this.options.condensedGrid&&t.addClass("condensed no-border"),e=$("<div/>").addClass("calendar-row cells4"),$("<div/>").addClass("calendar-cell sel-minus align-center").html("<a class='btn-previous-year' href='#'>-</a>").appendTo(e),$("<div/>").addClass("calendar-cell sel-year align-center").html("<a class='btn-none-btn'>"+this._distance+"-"+(this._distance+11)+"</a>").appendTo(e),$("<div/>").addClass("calendar-cell sel-plus align-center").html("<a class='btn-next-year' href='#'>+</a>").appendTo(e),e.addClass("calendar-header").appendTo(t),e=$("<div/>").addClass("calendar-row"),i=0,o=this._distance;o<this._distance+12;o++)n=$("<div/>").addClass("calendar-cell year-cell align-center year").html("<a href='#' data-year='"+o+"'>"+o+"</a>"),(new Date).getFullYear()===o&&n.addClass("today"),n.appendTo(e),(i+1)%4===0&&(e.appendTo(t),e=$("<div/>").addClass("calendar-row")),i+=1;this._renderButtons(t),t.appendTo(this.element)},_renderCalendar:function(){switch(this._mode){case"year":this._renderYears();break;case"month":this._renderMonths();break;default:this._renderMonth()}this._initButtons()},_initButtons:function(){var that=this,o=this.options,table=this.element.find(".calendar-grid");"day"===this._mode?(table.find(".btn-select-month").on("click",function(t){t.preventDefault(),t.stopPropagation(),that._mode="month",that._renderCalendar()}),table.find(".btn-previous-month").on("click",function(t){that._event="eventPrevious",t.preventDefault(),t.stopPropagation(),that._month-=1,that._month<0&&(that._year-=1,that._month=11),that._renderCalendar()}),table.find(".btn-next-month").on("click",function(t){that._event="eventNext",t.preventDefault(),t.stopPropagation(),that._month+=1,12===that._month&&(that._year+=1,that._month=0),that._renderCalendar()}),table.find(".btn-previous-year").on("click",function(t){that._event="eventPrevious",t.preventDefault(),t.stopPropagation(),that._year-=1,that._renderCalendar()}),table.find(".btn-next-year").on("click",function(t){that._event="eventNext",t.preventDefault(),t.stopPropagation(),that._year+=1,that._renderCalendar()}),table.find(".day a").on("click",function(e){if(e.preventDefault(),e.stopPropagation(),$(this).parent().parent().hasClass("exclude"))return!1;var d=new Date(that._paddy(that._year,4),that._paddy(that._month,2),that._paddy(parseInt($(this).html()),2)).format(that.options.format,null),d0=new Date(that._paddy(that._year,4),that._paddy(that._month,2),that._paddy(parseInt($(this).html()),2));if(that.options.multiSelect?($(this).parent().parent().toggleClass("selected"),$(this).parent().parent().hasClass("selected")?that._addDate(that._dateStringyFy(d0)):that._removeDate(that._dateStringyFy(d0))):(table.find(".day a").parent().parent().removeClass("selected"),$(this).parent().parent().addClass("selected"),that.element.data("_storage",[]),that._addDate(that._dateStringyFy(d0))),"function"==typeof o.dayClick)o.dayClick(d,d0);else if("function"==typeof window[o.dayClick])window[o.dayClick](d,d0);else{var result=eval("(function(){"+o.dayClick+"})");result.call(d,d0)}})):"month"===this._mode?(table.find(".month a").on("click",function(t){that._event="eventNext",t.preventDefault(),t.stopPropagation(),that._month=parseInt($(this).data("month")),that._mode="day",that._renderCalendar()}),table.find(".btn-previous-year").on("click",function(t){that._event="eventPrevious",t.preventDefault(),t.stopPropagation(),that._year-=1,that._renderCalendar()}),table.find(".btn-next-year").on("click",function(t){that._event="eventNext",t.preventDefault(),t.stopPropagation(),that._year+=1,that._renderCalendar()}),table.find(".btn-select-year").on("click",function(t){that._event="eventNext",t.preventDefault(),t.stopPropagation(),that._mode="year",that._renderCalendar()})):(table.find(".year a").on("click",function(t){that._event="eventNext",t.preventDefault(),t.stopPropagation(),that._year=parseInt($(this).data("year")),that._mode="month",that._renderCalendar()}),table.find(".btn-previous-year").on("click",function(t){that._event="eventPrevious",t.preventDefault(),t.stopPropagation(),that._distance-=10,that._renderCalendar()}),table.find(".btn-next-year").on("click",function(t){that._event="eventNext",t.preventDefault(),t.stopPropagation(),that._distance+=10,that._renderCalendar()})),table.find(".calendar-btn-today").on("click",function(t){t.preventDefault(),t.stopPropagation(),that._mode=that.options.startMode,that.options.date=new Date,that._year=that.options.date.getFullYear(),that._month=that.options.date.getMonth(),that._day=that.options.date.getDate(),that._renderCalendar()}),table.find(".calendar-btn-clear").on("click",function(t){t.preventDefault(),t.stopPropagation(),that.options.date=new Date,that._year=that.options.date.getFullYear(),that._month=that.options.date.getMonth(),that._day=that.options.date.getDate(),that.element.data("_storage",[]),that._renderCalendar()})},_addDate:function(t){var e=this.element.data("_storage").indexOf(t);0>e&&this.element.data("_storage").push(t)},_removeDate:function(t){var e=this.element.data("_storage").indexOf(t);this.element.data("_storage").splice(e,1)},_addDateExclude:function(t){var e=this.element.data("_exclude").indexOf(t);0>e&&this.element.data("_exclude").push(t)},_addDateStored:function(t){var e=this.element.data("_stored").indexOf(t);0>e&&this.element.data("_stored").push(t)},_removeDateExclude:function(t){var e=this.element.data("_exclude").indexOf(t);this.element.data("_exclude").splice(e,1)},_removeDateStored:function(t){var e=this.element.data("_stored").indexOf(t);this.element.data("_stored").splice(e,1)},_paddy:function(t,e,n){var o="undefined"!=typeof n?n:"0",i=new Array(1+e).join(o);return(i+t).slice(-i.length)},_dateFromNumbers:function(t,e,n){return new Date(this._paddy(t,4)+"/"+this._paddy(e,2)+"/"+this._paddy(n,2))},_dateNumberStringyFy:function(t,e,n){return this._dateFromNumbers(t,e,n).format("yyyy-mm-dd")},_dateStringyFy:function(t){return this._dateNumberStringyFy(t.getFullYear(),t.getMonth()+1,t.getDate())},setDate:function(t){var e;t=new Date(t),e=this._dateNumberStringyFy(t.getFullYear(),t.getMonth()+1,t.getDate()),this._addDate(e),this.options.syncCalenderToDateField&&(this._year=t.getFullYear(),this._month=t.getMonth(),this._day=t.getDate()),this._renderCalendar()},setDateExclude:function(t){var e;t=new Date(t),e=this._dateNumberStringyFy(t.getFullYear(),t.getMonth()+1,t.getDate()),this._addDateExclude(e),this._renderCalendar()},setDateStored:function(t){var e;t=new Date(t),e=this._dateNumberStringyFy(t.getFullYear(),t.getMonth()+1,t.getDate()),this._addDateStored(e),this._renderCalendar()},getDate:function(t){return new Date(void 0!==t?this.element.data("_storage")[t]:this.element.data("_storage")[0]).format(this.options.format)},getDates:function(){var t;return t=$.merge($.merge([],this.element.data("_storage")),this.element.data("_stored")),t.unique()},unsetDate:function(t){var e;t=new Date(t),e=this._dateNumberStringyFy(t.getFullYear(),t.getMonth()+1,t.getDate()),this._removeDate(e),this._renderCalendar()},unsetDateExclude:function(t){var e;t=new Date(t),e=this._dateNumberStringyFy(t.getFullYear(),t.getMonth()+1,t.getDate()),this._removeDateExclude(e),this._renderCalendar()},unsetDateStored:function(t){var e;t=new Date(t),e=this._dateNumberStringyFy(t.getFullYear(),t.getMonth()+1,t.getDate()),this._removeDateStored(e),this._renderCalendar()},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}}),$.widget("metro.carousel",{version:"3.0.0",options:{auto:!0,period:5e3,duration:1e3,effect:"slide",effectFunc:"linear",direction:"left",controls:!0,controlNext:!1,controlPrev:!1,markers:!0,stop:!0,width:"100%",height:!1,_slides:{},_currentIndex:0,_interval:0,_outPosition:0,_animating:!1},_create:function(){var t=this,e=this.options,n=this.element;$.each(n.data(),function(t,n){if(t in e)try{e[t]=$.parseJSON(n)}catch(o){e[t]=n}}),e._slides=n.find(".slide");var o=0;$.each(e._slides,function(){var t,e=$(this);t=e.outerHeight(),t>o&&(o=t)}),n.css({width:e.width,height:e.height?e.height:o}),e._slides.length<=1||(e.markers&&this._markers(),e.controls&&this._controls(),e.stop&&n.on("mouseenter",function(){clearInterval(e._interval)}).on("mouseleave",function(){t.options.auto&&t._autoStart()}),n.find(".slide").hide(),n.find(".slide:nth-child(1)").show(),e.auto&&this._autoStart(),n.data("carousel",this))},_autoStart:function(){var t=this,e=this.options;e._interval=setInterval(function(){"left"===e.direction?t._slideTo("next"):t._slideTo("prior")},e.period)},_slideTo:function(t){var e,n=this.element,o=this.options,i=o._slides[o._currentIndex];switch(void 0===t&&(t="next"),"prior"===t?(o._currentIndex-=1,o._currentIndex<0&&(o._currentIndex=o._slides.length-1),o._outPosition=this.element.width()):"next"===t&&(o._currentIndex+=1,o._currentIndex>=o._slides.length&&(o._currentIndex=0),o._outPosition=-this.element.width()),e=o._slides[o._currentIndex],this.options.effect){case"switch":this._effectSwitch(i,e);break;case"slowdown":this._effectSlowdown(i,e,this.options.duration);break;case"fade":this._effectFade(i,e,this.options.duration);break;default:this._effectSlide(i,e,this.options.duration)}n.find(".carousel-bullets a").each(function(){var t=$(this).data("num");t===o._currentIndex?$(this).addClass("bullet-on"):$(this).removeClass("bullet-on")})},_slideToSlide:function(t){var e=this.options,n=e._slides[e._currentIndex],o=e._slides[t];if(e._currentIndex===t)return!1;switch(t>e._currentIndex?e._outPosition=-this.element.width():e._outPosition=this.element.width(),this.options.effect){case"switch":this._effectSwitch(n,o);break;case"slowdown":this._effectSlowdown(n,o);break;case"fade":this._effectFade(n,o);break;default:this._effectSlide(n,o)}e._currentIndex=t},_controls:function(){var t,e,n=this,o=this.element,i=this.options;t=$("<span/>").addClass("carousel-switch-next").html("&gt;"),e=$("<span/>").addClass("carousel-switch-prev").html("&lt;"),i.controlNext&&t.html(i.controlNext),i.controlPrev&&e.html(i.controlPrev),t.appendTo(o),e.appendTo(o),i._slides.length>1?(e.on("click",function(){i._animating===!1&&(n._slideTo("prior"),i._animating=!0,setTimeout(function(){i._animating=!1},i.duration))}),t.on("click",function(){i._animating===!1&&(n._slideTo("next"),i._animating=!0,setTimeout(function(){i._animating=!1},i.duration))})):(t.hide(),e.hide())},_markers:function(){var t,e,n,o=this,i=this.options;for(t=$('<div class="carousel-bullets" />'),n=0;n<i._slides.length;n++)e=$('<a class="carousel-bullet" href="javascript:void(0)" data-num="'+n+'"></a>'),0===n&&e.addClass("bullet-on"),e.appendTo(t);t.find("a").on("click",function(e){var n=$(this),r=n.data("num");return t.find("a").removeClass("bullet-on"),n.addClass("bullet-on"),r===i._currentIndex?!1:(o._slideToSlide(r),e.preventDefault(),void e.stopPropagation())}),t.appendTo(this.element)},_effectSwitch:function(t,e){$(t).hide(),$(e).css({left:0}).show(),this.element.css({height:$(e).outerHeight()})},_effectSlide:function(t,e){var n=this.options;$(t).animate({left:n._outPosition},n.duration,n.effectFunc),$(e).css("left",-1*n._outPosition).show(),this.element.css({height:$(e).outerHeight()}),$(e).animate({left:0},n.duration,n.effectFunc)},_effectSlowdown:function(t,e){var n=this.options,o={duration:n.duration,easing:"doubleSqrt"};$.easing.doubleSqrt=function(t){return Math.sqrt(Math.sqrt(t))},$(t).animate({left:n._outPosition},o),
$(e).css("left",-1*n._outPosition).show(),this.element.css({height:$(e).outerHeight()}),$(e).animate({left:0},o)},_effectFade:function(t,e){var n=this.options;$(t).fadeOut(n.duration),$(e).css({left:0}).fadeIn(n.duration),this.element.css({height:$(e).outerHeight()})},slideTo:function(t){this._slideToSlide(t)},nextSlide:function(){this._slideTo("next")},priorSlide:function(){this._slideTo("prior")},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}}),$.widget("metro.charm",{version:"3.0.0",options:{position:"right",opacity:1,outside:!1,timeout:0,duration:400},_create:function(){var t=this.element,e=this.options;$.each(t.data(),function(t,n){if(t in e)try{e[t]=$.parseJSON(n)}catch(o){e[t]=n}}),this._createCharm(),t.data("charm",this)},_createCharm:function(){var t=this,e=this.element,n=this.options;e.addClass("charm").addClass(n.position+"-side").css({opacity:n.opacity}).hide();var o=$("<span/>").addClass("charm-closer").appendTo(e);o.on("click",function(){t.close()}),n.outside===!0&&e.on("mouseleave",function(e){t.close()})},_showCharm:function(){var t,e=this,n=this.element,o=this.options;"left"===o.position||"right"===o.position?(t=n.outerWidth(),"left"===o.position?n.css({left:-t}).show().animate({left:0},o.duration):n.css({right:-t}).show().animate({right:0},o.duration)):(t=n.outerHeight(),"top"===o.position?n.css({top:-t}).show().animate({top:0},o.duration):n.css({bottom:-t}).show().animate({bottom:0},o.duration)),o.timeout>0&&(this._timeout_interval=setInterval(function(){n.is(":hover")||(e.close(),clearInterval(e._timeout_interval))},o.timeout))},_hideCharm:function(){var t,e=this.element,n=this.options;"left"===n.position||"right"===n.position?(t=e.outerWidth(),"left"===n.position?e.animate({left:-t},n.duration,function(){e.hide()}):e.animate({right:-t},n.duration,function(){e.hide()})):(t=e.outerHeight(),"top"===n.position?e.animate({top:-t},n.duration,function(){e.hide()}):e.animate({bottom:-t},n.duration,function(){e.hide()})),clearInterval(this._timeout_interval)},open:function(){var t=this.element;this.options;t.data("opened")!==!0&&(t.data("opened",!0),this._showCharm())},close:function(){var t=this.element;this.options;t.data("opened")!==!1&&(t.data("opened",!1),this._hideCharm())},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}}),$.widget("metro.clock",{version:"1.0.0",options:{showTime:!0,showDate:!0,timeFormat:"24",dateFormat:"american",divider:"&nbsp;&nbsp;"},_create:function(){var t=this,e=this.element;this.options;this._setOptionsFromDOM(),this._tick(),this._clockInterval=setInterval(function(){t._tick()},500),e.data("clock",this)},_addLeadingZero:function(t){return 10>t&&(t="0"+t),t},_tick:function(){var t=this.element,e=this.options,n=new Date,o=(n.getTime(),""),i=n.getHours(),r=n.getMinutes(),a=n.getSeconds(),s=n.getDate(),l=n.getMonth()+1,d=n.getFullYear(),u="";"12"==e.timeFormat&&(u=" AM",i>11&&(u=" PM"),i>12&&(i-=12),0==i&&(i=12)),i=this._addLeadingZero(i),r=this._addLeadingZero(r),a=this._addLeadingZero(a),l=this._addLeadingZero(l),s=this._addLeadingZero(s),e.showDate&&("american"==e.dateFormat?(o+="<span class='date-month'>"+l+"</span>",o+="<span class='date-divider'>-</span>",o+="<span class='date-day'>"+s+"</span>",o+="<span class='date-divider'>-</span>",o+="<span class='date-year'>"+d+"</span>"):(o+="<span class='date-day'>"+s+"</span>",o+="<span class='date-divider'>-</span>",o+="<span class='date-month'>"+l+"</span>",o+="<span class='date-divider'>-</span>",o+="<span class='date-year'>"+d+"</span>"),o+=e.divider),e.showTime&&(o+="<span class='clock-hour'>"+i+"</span>",o+="<span class='clock-divider'>:</span>",o+="<span class='clock-minute'>"+r+"</span>",o+="<span class='clock-divider'>:</span>",o+="<span class='clock-second'>"+a+"</span>"),t.html(o)},_setOptionsFromDOM:function(){var t=this.element,e=this.options;$.each(t.data(),function(t,n){if(t in e)try{e[t]=$.parseJSON(n)}catch(o){e[t]=n}})},_destroy:function(){clearInterval(this._clockInterval)},_setOption:function(t,e){this._super("_setOption",t,e)}}),$.widget("metro.countdown",{version:"3.0.0",options:{stop:!1,days:!1,hours:!1,minutes:!1,seconds:!1,backgroundColor:"bg-cyan",digitColor:"fg-white",dividerColor:"fg-dark",labelColor:"fg-grayLight",labels:{days:"days",hours:"hours",minutes:"mins",seconds:"secs"},onTick:function(t,e,n,o){},onStop:function(){}},_interval:0,_interval2:0,_alarmOn:void 0,_create:function(){var t=this,e=this.element,n=this.options;$.each(e.data(),function(t,e){if(t in n)try{n[t]=$.parseJSON(e)}catch(o){n[t]=e}}),this._alarmOn=new Date,n.stop!==!1&&(this._alarmOn=new Date(n.stop));var o=864e5,i=36e5,r=6e4,a=1e3;n.days!==!1&&("object"==typeof this._alarmOn&&(this._alarmOn=this._alarmOn.getTime()),this._alarmOn=this._alarmOn+n.days*o),n.hours!==!1&&("object"==typeof this._alarmOn&&(this._alarmOn=this._alarmOn.getTime()),this._alarmOn=this._alarmOn+n.hours*i),n.minutes!==!1&&("object"==typeof this._alarmOn&&(this._alarmOn=this._alarmOn.getTime()),this._alarmOn=this._alarmOn+n.minutes*r),n.seconds!==!1&&("object"==typeof this._alarmOn&&(this._alarmOn=this._alarmOn.getTime()),this._alarmOn=this._alarmOn+n.seconds*a),this._createDigits(),e.find(".digit").text("0"),t._tick(),e.data("countdown",this)},_createDigits:function(){var t,e,n=this.element,o=this.options,i=["days","hours","minutes","seconds"];i.map(function(i){t=$("<div/>").addClass("part "+i).attr("data-day-text",o.labels[i]).appendTo(n),$("<div/>").addClass("digit").appendTo(t),$("<div/>").addClass("digit").appendTo(t),o.labelColor.isColor()?t.css({color:o.labelColor}):t.addClass(o.labelColor),o.backgroundColor.isColor()?t.find(".digit").css({background:o.backgroundColor}):t.find(".digit").addClass(o.backgroundColor),o.digitColor.isColor()?t.find(".digit").css({color:o.digitColor}):t.find(".digit").addClass(o.digitColor),"seconds"!==i&&(e=$("<div/>").addClass("divider").text(":").appendTo(n),o.dividerColor.isColor()?e.css({color:o.dividerColor}):e.addClass(o.dividerColor))})},_blink:function(){this.element.toggleClass("tick")},_tick:function(){var that=this,o=this.options,element=this.element,days=86400,hours=3600,minutes=60,left,d,h,m,s;this._interval2=setInterval(function(){that._blink()},500),this._interval=setInterval(function(){var result;left=Math.floor((that._alarmOn-new Date)/1e3),0>left&&(left=0),d=Math.floor(left/days),left-=d*days,that._update("days",d),0===d&&element.find(".part.days").addClass("disabled"),h=Math.floor(left/hours),left-=h*hours,that._update("hours",h),0===d&&0===h&&element.find(".part.hours").addClass("disabled"),m=Math.floor(left/minutes),left-=m*minutes,that._update("minutes",m),0===d&&0===h&&0===m&&element.find(".part.minutes").addClass("disabled"),s=left,that._update("seconds",s),"function"==typeof o.onTick?o.onTick(d,h,m,s):"function"==typeof window[o.onTick]?window[o.onTick](d,h,m,s):(result=eval("(function(){"+o.onTick+"})"),result.call(d,h,m,s)),0===d&&0===h&&0===m&&0===s&&(element.find(".part").addClass("disabled"),"function"==typeof o.onStop?o.onStop():"function"==typeof window[o.onStop]?window[o.onStop]():(result=eval("(function(){"+o.onStop+"})"),result.call()),that._stop("all"),that._trigger("alarm"),clearInterval(that._interval))},1e3)},_update:function(t,e){var n,o,i=this.element,r=Math.floor(e/10)%10,a=e%10;n=i.find("."+t+" .digit:eq(0)"),o=i.find("."+t+" .digit:eq(1)"),a!==parseInt(o.text())&&(o.toggleClass("scaleIn"),setTimeout(function(){o.text(a).toggleClass("scaleIn")},500)),r!==parseInt(n.text())&&(n.toggleClass("scaleIn"),setTimeout(function(){n.text(r).toggleClass("scaleIn")},500))},_stop:function(){clearInterval(this._interval),clearInterval(this._interval2)},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}}),$.widget("metro.datatable",{version:"3.0.0",options:{},_create:function(){var t=this.element,e=this.options;if($.each(t.data(),function(t,n){try{e[t]=$.parseJSON(n)}catch(o){e[t]=n}}),$().dataTable)try{t.dataTable(e)}catch(n){}else alert("dataTable plugin required");t.data("datatable",this)},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}}),$.widget("metro.datepicker",{version:"3.0.14",options:{format:"yyyy.mm.dd",preset:!1,minDate:!1,maxDate:!1,effect:"fade",position:"bottom",locale:window.METRO_CURRENT_LOCALE,weekStart:window.METRO_CALENDAR_WEEK_START,otherDays:!1,exclude:!1,stored:!1,buttons:!1,buttonToday:!0,buttonClear:!0,condensedGrid:!1,scheme:"default",onSelect:function(t,e){}},_calendar:void 0,_create:function(){var t=this,e=this.element,n=this.options,o=e.children("input"),i=e.children("button");$.each(e.data(),function(t,e){if(t in n)try{n[t]=$.parseJSON(e)}catch(o){n[t]=e}}),this._createCalendar(),o.attr("readonly",!0),i.attr("type","button"),i.on("click",function(e){e.stopPropagation(),"none"===t._calendar.css("display")?t._show():t._hide()}),e.on("click",function(e){e.stopPropagation(),"none"===t._calendar.css("display")?t._show():t._hide()}),$("html").on("click",function(){$(".calendar-dropdown").hide()}),e.data("datepicker",this)},_createCalendar:function(){var _calendar,that=this,element=this.element,o=this.options;switch(_calendar=$("<div/>").css({position:"absolute",display:"none","max-width":220,"z-index":1e3}).addClass("calendar calendar-dropdown").appendTo(element),_calendar.calendar({multiSelect:!1,format:o.format,buttons:!1,buttonToday:!1,buttonClear:!1,locale:o.locale,otherDays:o.otherDays,weekStart:o.weekStart,condensedGrid:o.condensedGrid,exclude:o.exclude,stored:o.stored,date:o.preset?o.preset:new Date,minDate:o.minDate,maxDate:o.maxDate,scheme:o.scheme,dayClick:function(d,d0){if(_calendar.calendar("setDate",d0),that.element.children("input[type=text]").val(d),that.element.children("input[type=text]").trigger("change",d0),that.element.children("input[type=text]").blur(),that._hide(),"function"==typeof o.onSelect)o.onSelect(d,d0);else if("function"==typeof window[o.onSelect])window[o.onSelect](d,d0);else{var result=eval("(function(){"+o.onSelect+"})");result.call(d,d0)}}}),o.preset!==!1&&(_calendar.calendar("setDate",o.preset),element.find("input, .datepicker-output").val(_calendar.calendar("getDate"))),this.options.position){case"top":_calendar.css({top:0-_calendar.height(),left:0});break;default:_calendar.css({top:"100%",left:0})}this._calendar=_calendar},_show:function(){"slide"===this.options.effect?($(".calendar-dropdown").slideUp("fast"),this._calendar.slideDown("fast")):"fade"===this.options.effect?($(".calendar-dropdown").fadeOut("fast"),this._calendar.fadeIn("fast")):($(".calendar-dropdown").hide(),this._calendar.show())},_hide:function(){"slide"===this.options.effect?this._calendar.slideUp("fast"):"fade"===this.options.effect?this._calendar.fadeOut("fast"):this._calendar.hide()},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)},setDate:function(t){$.isArray(t);var e=this.element.find("input"),n=this._calendar.data("metro-calendar"),o=n.element;o.data("_storage",[]),this._calendar.calendar("setDate",t),t=this._calendar.calendar("getDate"),e.val(t)}}),$.widget("metro.dialog",{version:"3.0.14",options:{modal:!1,overlay:!1,overlayColor:"default",overlayClickClose:!1,type:"default",place:"center",position:"default",content:!1,hide:!1,width:"auto",height:"auto",background:"default",color:"default",closeButton:!1,windowsStyle:!1,show:!1,href:!1,contentType:"default",_interval:void 0,_overlay:void 0,onDialogOpen:function(t){},onDialogClose:function(t){}},_create:function(){var t=this.element,e=this.options;$.each(t.data(),function(t,n){if(t in e)try{e[t]=$.parseJSON(n)}catch(o){e[t]=n}}),e.overlay&&this._createOverlay(),this._createDialog(),t.data("dialog",this),e.show&&this.open()},_createOverlay:function(){var t=(this.element,this.options),e=$("body").find(".dialog-overlay");0===e.length&&(e=$("<div/>").addClass("dialog-overlay")),t.overlayColor&&(t.overlayColor.isColor()?e.css({background:t.overlayColor}):e.addClass(t.overlayColor)),t._overlay=e},_createDialog:function(){var t=this,e=this.element,n=this.options;e.addClass("dialog"),"default"!==n.type&&e.addClass(n.type),n.windowsStyle&&(n.width="auto",e.css({left:0,right:0})),"default"!==n.background&&(n.background.isColor()?e.css({background:n.background}):e.addClass(n.background)),"default"!==n.color&&(n.color.isColor()?e.css({color:n.color}):e.addClass(n.color)),e.css({width:n.width,height:n.height}),n.closeButton&&$("<span/>").addClass("dialog-close-button").appendTo(e).on("click",function(){t.close()}),this._hide()},_hide:function(){var t=this.element;t.css({visibility:"hidden"})},_show:function(){var t=this.element;this.options;this._setContent(),t.css({visibility:"visible"})},_setPosition:function(){var t=this.element,e=this.options,n=t.width(),o=t.height();switch(e.place){case"top-left":t.css({left:0,top:0});break;case"top-right":t.css({right:0,top:0});break;case"top-center":t.css({left:($(window).width()-n)/2,top:0});break;case"bottom-left":t.css({left:0,bottom:0});break;case"bottom-right":t.css({right:0,bottom:0});break;case"center-left":t.css({left:0,top:($(window).height()-o)/2});break;case"center-right":t.css({right:0,top:($(window).height()-o)/2});break;case"bottom-center":t.css({left:($(window).width()-n)/2,bottom:0});break;default:t.css({left:e.windowsStyle===!1?($(window).width()-n)/2:0,top:($(window).height()-o)/2})}},_setContent:function(){var t=this,e=this.element,n=this.options,o=$("<div>").addClass("set-dialog-content");return"video"===n.contentType&&o.addClass("video-container"),n.content===!1&&n.href===!1?!1:(e.find(".set-dialog-content").remove(),o.appendTo(e),n.content&&(o.html(n.content),this._setPosition()),void(n.href&&$.get(n.href,function(e){o.html(e),t._setPosition()})))},toggle:function(){var t=this.element;t.data("opened")?this.close():this.open()},open:function(){var that=this,element=this.element,o=this.options,overlay;if(this._setPosition(),element.data("opened",!0),o.overlay&&(overlay=o._overlay,overlay.appendTo("body").show(),o.overlayClickClose&&overlay.on("click",function(){that.close()})),this._show(),"function"==typeof o.onDialogOpen)o.onDialogOpen(element);else if("function"==typeof window[o.onDialogOpen])window[o.onDialogOpen](element);else{var result=eval("(function(){"+o.onDialogOpen+"})");result.call(element)}o.hide&&parseInt(o.hide)>0&&(o._interval=setTimeout(function(){that.close()},parseInt(o.hide)))},close:function(){var that=this,element=this.element,o=this.options;if(clearInterval(o._interval),o.overlay&&$("body").find(".dialog-overlay").remove(),element.data("opened",!1),this._hide(),"function"==typeof o.onDialogClose)o.onDialogClose(element);else if("function"==typeof window[o.onDialogClose])window[o.onDialogClose](element);else{var result=eval("(function(){"+o.onDialogClose+"})");result.call(element)}},reset:function(t){void 0!==t&&(this.options.place=t),this._setPosition()},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}}),window.showMetroDialog=function(t,e){var n,o=$(t);return 0==o.length?(console.log("Dialog "+t+" not found!"),!1):(n=o.data("dialog"),void 0==n?(console.log('Element not contain role dialog! Please add attribute data-role="dialog" to element '+t),!1):(void 0!==e&&(n.options.place=e),void n.open()))},window.hideMetroDialog=function(t){var e,n=$(t);return 0==n.length?(console.log("Dialog "+t+" not found!"),!1):(e=n.data("dialog"),void 0==e?(console.log('Element not contain role dialog! Please add attribute data-role="dialog" to element '+t),!1):void e.close())},window.toggleMetroDialog=function(t,e){var n,o=$(t);return 0==o.length?(console.log("Dialog "+t+" not found!"),!1):(n=o.data("dialog"),void 0==n?(console.log('Element not contain role dialog! Please add attribute data-role="dialog" to element '+t),!1):void(n.element.data("opened")===!0?n.close():(void 0!==e&&(n.options.place=e),n.open())))},$.widget("metro.draggable",{version:"3.0.0",options:{dragElement:null,dragArea:null,zIndex:2e3,onDragStart:function(t){},onDragStop:function(t){},onDragMove:function(t,e){}},drag:!1,oldCursor:null,oldZindex:null,oldPosition:null,_create:function(){var t=this.element;this.options;this._setOptionsFromDOM(),this._createDraggable(),t.data("draggable",this)},_createDraggable:function(){var that=this,element=this.element,o=this.options,dragElement=o.dragElement?element.find(o.dragElement):element;addTouchEvents(element[0]),dragElement.on("mousedown",function(e){var result,el=$(this);that.drag=!0,"function"==typeof o.onDragStart?o.onDragStart(element):"function"==typeof window[o.onDragStart]?window[o.onDragStart](element):(result=eval("(function(){"+o.onDragStart+"})"),result.call(element)),that.oldCursor=el.css("cursor")?el.css("cursor"):"default",that.oldZindex=element.css("z-index"),dragElement.css({cursor:"move"}),element.css({"z-index":o.zIndex});var dragArea=$(o.dragArea?o.dragArea:window),os={left:o.dragArea?dragArea.offset().left:0,top:o.dragArea?dragArea.offset().top:0},drg_h=element.outerHeight(),drg_w=element.outerWidth(),pos_y=element.offset().top+drg_h-e.pageY,pos_x=element.offset().left+drg_w-e.pageX;dragArea.on("mousemove",function(e){var offset,pageX,pageY;if(!that.drag)return!1;pageX=e.pageX-os.left,pageY=e.pageY-os.top;var t=pageY>0?pageY+pos_y-drg_h:0,l=pageX>0?pageX+pos_x-drg_w:0,t_delta=dragArea.innerHeight()+dragArea.scrollTop()-element.outerHeight(),l_delta=dragArea.innerWidth()+dragArea.scrollLeft()-element.outerWidth();t>=0&&t_delta>=t&&element.offset({top:t+os.top}),l>=0&&l_delta>=l&&element.offset({left:l+os.left}),offset={left:l,top:t},"function"==typeof o.onDragMove?o.onDragMove(element,offset):"function"==typeof window[o.onDragMove]?window[o.onDragMove](element,offset):(result=eval("(function(){"+o.onDragMove+"})"),result.call(element,offset))})}),dragElement.on("mouseup",function(e){var result,el=$(this);that.drag=!1,dragElement.css({cursor:that.oldCursor}),element.css({"z-index":that.oldZindex,position:that.oldPosition}),"function"==typeof o.onDragStop?o.onDragStop(element):"function"==typeof window[o.onDragStop]?window[o.onDragStop](element):(result=eval("(function(){"+o.onDragStop+"})"),result.call(element))})},_setOptionsFromDOM:function(){var t=this.element,e=this.options;$.each(t.data(),function(t,n){if(t in e)try{e[t]=$.parseJSON(n)}catch(o){e[t]=n}})},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}}),$.widget("metro.dropdown",{version:"3.0.0",options:{effect:window.METRO_SHOW_TYPE,toggleElement:!1,noClose:!1,onDrop:function(t){},onUp:function(t){}},_create:function(){var t,e=this,n=this.element,o=this.options,i=this.element,r=this.name,a=this.element.parent();$.each(n.data(),function(t,e){if(t in o)try{o[t]=$.parseJSON(e)}catch(n){o[t]=e}}),t=o.toggleElement?$(o.toggleElement):a.children(".dropdown-toggle").length>0?a.children(".dropdown-toggle"):a.children("a:nth-child(1)"),void 0!==METRO_SHOW_TYPE&&(this.options.effect=METRO_SHOW_TYPE),t.on("click."+r,function(t){if(a.siblings(a[0].tagName).removeClass("active-container"),$(".active-container").removeClass("active-container"),"block"!==i.css("display")||i.hasClass("keep-open")){if($("[data-role=dropdown]").each(function(t,n){i.parents("[data-role=dropdown]").is(n)||$(n).hasClass("keep-open")||"block"!==$(n).css("display")||e._close(n)}),i.hasClass("horizontal")){i.css({visibility:"hidden",display:"block"});var n=$(i.children("li")[0]).outerWidth();i.css({visibility:"visible",display:"none"});var o=i.children("li").length*n+(i.children("li").length-1);i.css("width",o)}e._open(i),a.addClass("active-container")}else e._close(i);t.preventDefault(),t.stopPropagation()}),o.noClose===!0&&n.on("click",function(t){t.stopPropagation()}),$(i).find("li.disabled a").on("click",function(t){t.preventDefault()}),$(document).on("click",function(t){$("[data-role=dropdown]").each(function(t,n){$(n).hasClass("keep-open")||"block"!==$(n).css("display")||e._close(n)})}),n.data("dropdown",this)},_open:function(el){var parent=this.element.parent(),o=this.options,toggle=o.toggleElement?$(o.toggleElement):parent.children(".dropdown-toggle").length>0?parent.children(".dropdown-toggle"):parent.children("a:nth-child(1)");switch(this.options.effect){case"fade":$(el).fadeIn("fast");break;case"slide":$(el).slideDown("fast");break;default:$(el).show()}if(this._trigger("onOpen",null,el),toggle.addClass("active-toggle"),"function"==typeof o.onDrop)o.onDrop(el);else if("function"==typeof window[o.onDrop])window[o.onDrop](el);else{var result=eval("(function(){"+o.onDrop+"})");result.call(el)}},_close:function(el){var parent=$(el).parent(),o=this.options,toggle=o.toggleElement?$(o.toggleElement):parent.children(".dropdown-toggle").length>0?parent.children(".dropdown-toggle"):parent.children("a:nth-child(1)");switch(this.options.effect){case"fade":$(el).fadeOut("fast");break;case"slide":$(el).slideUp("fast");break;default:$(el).hide()}if(this._trigger("onClose",null,el),toggle.removeClass("active-toggle"),"function"==typeof o.onUp)o.onUp(el);else if("function"==typeof window[o.onUp])window[o.onUp](el);else{var result=eval("(function(){"+o.onUp+"})");result.call(el)}},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}}),$.widget("metro.fitImage",{version:"3.0.0",options:{shadow:!1,overlay:!1,type:"default",frameColor:"default",format:"hd"},_create:function(){var t,e,n,o,i,r=this.element,a=this.options,s=r.parent(),l=r.attr("src");$.each(r.data(),function(t,e){if(t in a)try{a[t]=$.parseJSON(e)}catch(n){a[t]=e}}),$("<img/>").attr("src",l).load(function(){t=this.width,e=this.height}).remove();var d=$("<div/>").addClass("image-container").css("width","100%").appendTo(s),u=$("<div/>").addClass("frame").appendTo(d);switch(n=u.innerWidth(),o=u.innerHeight(),a.format){case"sd":o=3*n/4;break;case"square":o=n;break;case"cycle":o=n;break;case"fill-h":o="100%",d.css("height","100%");break;case"fill":o="100%",d.css("height","100%");break;default:o=9*n/16}if(i=$("<div/>").css({width:"100%",height:o,"background-image":"url("+l+")","background-size":"cover","background-repeat":"no-repeat","border-radius":"cycle"===a.format?"50%":"0"}),$(window).on("resize",function(){var t=u.innerWidth(),e=u.innerHeight();switch(a.format){case"sd":e=3*t/4;break;case"square":e=t;break;case"cycle":e=t;break;case"fill-h":e="100%",d.css("height","100%");break;case"fill":e="100%",d.css("height","100%");break;default:e=9*t/16}i.css({height:e})}),"default"!==a.frameColor&&(a.frameColor.isUrl()?u.css("background-color",a.frameColor):u.addClass(a.frameColor)),a.overlay!==!1){$("<div/>").addClass("image-overlay").html(a.overlay).appendTo(d)}switch(a.shadow!==!1&&d.addClass("block-shadow"),i.appendTo(u),a.type){case"diamond":d.addClass("diamond"),i.addClass("image-replacer");break;case"bordered":d.addClass("bordered");break;case"polaroid":d.addClass("polaroid");break;case"handing":d.addClass("handing");break;case"handing-ani":d.addClass("handing ani");break;case"handing-ani-hover":d.addClass("handing ani-hover")}d.addClass("image-format-"+a.format),r.remove()},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}}),$.widget("metro.fluentmenu",{version:"3.0.0",options:{onSpecialClick:function(t,e){},onTabClick:function(t,e){},onTabChange:function(t,e){}},_create:function(){var t=this.element,e=this.options;$.each(t.data(),function(t,n){if(t in e)try{e[t]=$.parseJSON(n)}catch(o){e[t]=n}}),this._createMenu(),t.data("fluentmenu",this)},_createMenu:function(){var that=this,element=this.element,o=this.options,active_tab=$(element.find(".tabs-holder > li.active")[0]);this.openTab(active_tab),element.on("click",".tabs-holder > li > a",function(e){var a=$(this),li=a.parent("li"),result;if(li.hasClass("special"))"function"==typeof o.onSpecialClick?o.onSpecialClick(a,li):"function"==typeof window[o.onSpecialClick]?window[o.onSpecialClick](a,li):(result=eval("(function(){"+o.onSpecialClick+"})"),result.call(a,li));else{var panel=$(a.attr("href"));that._hidePanels(),that._showPanel(panel),element.find(".tabs-holder > li").removeClass("active"),a.parent("li").addClass("active"),"function"==typeof o.onTabClick?o.onTabClick(a,li):"function"==typeof window[o.onTabClick]?window[o.onTabClick](a,li):(result=eval("(function(){"+o.onTabClick+"})"),result.call(a,li)),"function"==typeof o.onTabChange?o.onTabChange(a,li):"function"==typeof window[o.onTabChange]?window[o.onTabChange](a,li):(result=eval("(function(){"+o.onTabChange+"})"),result.call(a,li))}e.preventDefault()})},_hidePanels:function(){this.element.find(".tab-panel").hide()},_showPanel:function(t){void 0==t&&(t=this.element.find(".tabs-holder li.active a").attr("href")),$(t).show()},openTab:function(t){var e=this.element,n=(this.options,$(t.children("a").attr("href")));return 0===n.length?!1:(this._hidePanels(),this._showPanel(n),e.find(".tabs-holder > li").removeClass("active"),void t.addClass("active"))},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}}),$.widget("metro.grid",{version:"3.0.0",options:{equalHeight:!0},_create:function(){var t=this,e=this.element,n=this.options;$.each(e.data(),function(t,e){if(t in n)try{n[t]=$.parseJSON(e)}catch(o){n[t]=e}}),n.equalHeight&&(setTimeout(function(){t._setEqualHeight()},50),$(window).on("resize",function(){t._setEqualHeight()})),e.data("grid",this)},_setEqualHeight:function(){var t=this.element,e=(this.options,t.find(".row"));$.each(e,function(){var t=$(this),e=t.children(".cell"),n=0;e.css("min-height","0"),$.each(e,function(){$(this).outerHeight()>n&&(n=$(this).outerHeight())}),e.css("min-height",n)})},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}}),$.widget("metro.hint",{version:"3.0.0",options:{hintPosition:"auto",hintBackground:"#FFFCC0",hintColor:"#000000",hintMaxSize:200,hintMode:"default",hintShadow:!1,hintBorder:!0,hintTimeout:0,hintTimeDelay:0,_hint:void 0},_create:function(){var t=this,e=(this.element,this.options);this.element.on("mouseenter",function(n){$(".hint, .hint2").remove(),e.hintTimeDelay>0?setTimeout(function(){t.createHint(),e._hint.show()},e.hintTimeDelay):(t.createHint(),e._hint.show()),n.preventDefault()}),this.element.on("mouseleave",function(t){e._hint.length&&e._hint.hide().remove(),t.preventDefault()})},createHint:function(){var t,e=this.element,n=e.data("hint").split("|"),o=this.options;if($.each(e.data(),function(t,e){if(t in o)try{o[t]=$.parseJSON(e)}catch(n){o[t]=e}}),"TD"===e[0].tagName||"TH"===e[0].tagName){var i=$("<div/>").css("display","inline-block").html(e.html());e.html(i),e=i}var r=n.length>1?n[0]:!1,a=n.length>1?n[1]:n[0];t=$("<div/>").appendTo("body"),2===o.hintMode?t.addClass("hint2"):t.addClass("hint"),o.hintBorder||t.addClass("no-border"),r&&$("<div/>").addClass("hint-title").html(r).appendTo(t),$("<div/>").addClass("hint-text").html(a).appendTo(t),t.addClass(o.position),o.hintShadow&&t.addClass("shadow"),o.hintBackground&&(o.hintBackground.isColor()?t.css("background-color",o.hintBackground):t.addClass(o.hintBackground)),o.hintColor&&(o.hintColor.isColor()?t.css("color",o.hintColor):t.addClass(o.hintColor)),o.hintMaxSize>0&&t.css({"max-width":o.hintMaxSize}),"top"===o.hintPosition?(t.addClass("top"),t.css({top:e.offset().top-$(window).scrollTop()-t.outerHeight()-20,left:2===o.hintMode?e.offset().left+e.outerWidth()/2-t.outerWidth()/2-$(window).scrollLeft():e.offset().left-$(window).scrollLeft()})):"right"===o.hintPosition?(t.addClass("right"),t.css({top:2===o.hintMode?e.offset().top+e.outerHeight()/2-t.outerHeight()/2-$(window).scrollTop()-10:e.offset().top-10-$(window).scrollTop(),left:e.offset().left+e.outerWidth()+15-$(window).scrollLeft()})):"left"===o.hintPosition?(t.addClass("left"),t.css({top:2===o.hintMode?e.offset().top+e.outerHeight()/2-t.outerHeight()/2-$(window).scrollTop()-10:e.offset().top-10-$(window).scrollTop(),left:e.offset().left-t.outerWidth()-10-$(window).scrollLeft()})):(t.addClass("bottom"),t.css({top:e.offset().top-$(window).scrollTop()+e.outerHeight(),left:2===o.hintMode?e.offset().left+e.outerWidth()/2-t.outerWidth()/2-$(window).scrollLeft():e.offset().left-$(window).scrollLeft()})),o._hint=t,o.hintTimeout>0&&setTimeout(function(){o._hint.length&&o._hint.hide().remove()},o.hintTimeout)},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}}),$.widget("metro.input",{version:"3.0.0",options:{showLabelOnValue:!1,textAutoResize:!1,textMaxHeight:0},_create:function(){var t=this.element,e=this.options;$.each(t.data(),function(t,n){if(t in e)try{e[t]=$.parseJSON(n)}catch(o){e[t]=n}}),t.hasClass("file")&&this._createInputFile(),t.hasClass("text")&&this._createInputText(),t.hasClass("password")&&this._createInputText(),t.hasClass("select")&&this._createInputSelect(),t.hasClass("textarea")&&this._createInputTextarea(),t.hasClass("modern")&&this._createInputModern(),t.data("input",this)},_createInputModern:function(){var t=this.element,e=t.find("input"),n=t.find(".placeholder");""!==e.val()&&n.css({display:"none"}),e.on("blur",function(){""!==e.val()?n.css({display:"none"}):n.css({display:"block"})}),e.on("focus",function(){""!==e.val()?n.css({display:"none"}):n.css({display:"block"})})},_createInputFile:function(){var t,e,n,o=this.element;t=$("<input type='text' class='input-file-wrapper' readonly style='z-index: 1; cursor: default;'>"),e=o.children(".button"),n=o.children('input[type="file"]'),n.css("z-index",0),t.insertAfter(n),n.attr("tabindex","-1"),e.attr("type","button"),t.attr("placeholder",n.attr("placeholder")),n.on("change",function(){var e=$(this).val();""!==e&&(t.val(e.replace(/.+[\\\/]/,"")),t.attr("title",e.replace(/.+[\\\/]/,"")))}),o.on("click",".button, .input-file-wrapper",function(){n.trigger("click")})},_createInputText:function(){var t=this.element,e=t.find(".helper-button.clear"),n=t.find(".helper-button.reveal"),o=t.find("input"),i=t.find(".helper-button"),r=t.find(".button"),a=t.find(".input-state-error, .input-state-warning, .input-state-info, .input-state-success, .input-state-required"),s=0,l="rtl"===t.attr("dir")||t.parents("[dir='rtl']").length>0;$.each(r,function(){var t=$(this);s+=t.outerWidth()}),l?(o.css({"padding-left":s+5}),a.css({left:s+8})):(o.css({"padding-right":s+5}),a.css({right:s+8})),i.attr("tabindex",-1).attr("type","button"),e&&e.on("click",function(){o.val("").trigger("change").focus()}),n&&t.hasClass("password")&&n.on("mousedown",function(){o.attr("type","text")}).on("mouseup",function(){o.attr("type","password").focus()})},_createInputSelect:function(){},_createInputTextarea:function(){var t=this.element,e=this.options,n=t.find("textarea");console.log(n);var o=function(){n.css({resize:"none","overflow-y":"hidden"}),n[0].style.height=0;var t=n[0].scrollHeight;e.textMaxHeight>0?e.textMaxHeight>t?n[0].style.height=t+"px":n[0].style.height=e.textMaxHeight+"px":n[0].style.height=t+"px"};e.textAutoResize&&(n.on("keyup",o),n.on("keydown",o),n.on("change",o),n.on("focus",o),n.on("cut",o),n.on("paste",o),n.on("drop",o))},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}}),$.widget("metro.keypad",{version:"3.0.0",options:{target:!1,shuffle:!1,length:!1,keys:["1","2","3","4","5","6","7","8","9","0"],size:32,onKey:function(t){},onChange:function(t){}},_create:function(){var t=this.element,e=this.options;$.each(t.data(),function(t,n){if(t in e)try{e[t]=$.parseJSON(n)}catch(o){e[t]=n}}),"string"==typeof e.keys&&(e.keys=e.keys.split(",")),e.target!==!1&&(e.target=$(e.target)),this._createKeypad(),t.data("keypad",this)},_shuffleKeys:function(){var t=(this.element,this.options),e=t.keys.slice(0),n=this._keypad,o=e.length+2;t.shuffle&&(e=e.shuffle()),n.html("").css({width:o/4*t.size+2*(o/4+1)+2}),e.map(function(t){$("<div/>").addClass("key").html(t).data("key",t).appendTo(n)}),$("<div/>").addClass("key").html("&larr;").data("key","&larr;").appendTo(n),$("<div/>").addClass("key").html("&times;").data("key","&times;").appendTo(n)},_createKeypad:function(){var that=this,element=this.element,o=this.options,keypad;element.hasClass("input-control")?(keypad=$("<div/>").addClass("keypad keypad-dropdown").css({position:"absolute","z-index":1e3,display:"none"}).appendTo(element),o.target=element.find("input"),element.on("click",function(t){"none"===keypad.css("display")?keypad.show():keypad.hide();var e=$(".keypad.keypad-dropdown");$.each(e,function(){$(this).is(keypad)||$(this).hide()}),t.stopPropagation()}),$("html").on("click",function(){$(".keypad.keypad-dropdown").hide()})):(keypad=element,keypad.addClass("keypad")),o.target!==!1&&$(o.target).attr("readonly",!0),"dropdown"===keypad.parent().data("role")&&keypad.parent().css({top:"100%"}),this._keypad=keypad,this._shuffleKeys(),keypad.on("click",".key",function(e){var key=$(this),result;if(o.target){if("&larr;"!==key.data("key")&&"&times;"!==key.data("key")){if(o.length&&$(o.target).val().length===o.length)return!1;
$(o.target).val($(o.target).val()+""+key.data("key"))}else if("&times;"===key.data("key")&&$(o.target).val(""),"&larr;"===key.data("key")){var val=$(o.target).val();$(o.target).val(val.substring(0,val.length-1))}o.target.trigger("change")}"function"==typeof o.onKey?o.onKey(key):"function"==typeof window[o.onKey]?window[o.onKey](key):(result=eval("(function(){"+o.onKey+"})"),result.call(key)),"function"==typeof o.onChange?o.onChange(o.target.val()):"function"==typeof window[o.onChange]?window[o.onChange](o.target.val()):(result=eval("(function(){"+o.onChange+"})"),result.call({value:o.target.val()})),o.shuffle&&that._shuffleKeys(),e.preventDefault(),e.stopPropagation()})},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}}),$.widget("metro.listview",{version:"3.0.0",options:{onExpand:function(t){},onCollapse:function(t){},onActivate:function(t){},onListClick:function(t){}},_create:function(){var t=this.element,e=this.options;$.each(t.data(),function(t,n){if(t in e)try{e[t]=$.parseJSON(n)}catch(o){e[t]=n}}),this._initList(),this._createEvents(),t.data("listview",this)},_initList:function(){var t=this.element,e=(this.options,t.find(".list-group"));$.each(e,function(){var t=$(this);t.hasClass("collapsed")&&t.find(".list-group-content").hide()})},_createEvents:function(){var that=this,element=this.element,o=this.options;element.on("click",".list-group-toggle",function(e){var toggle=$(this),parent=toggle.parent(),result;toggle.parent().hasClass("keep-open")||(parent.toggleClass("collapsed"),parent.hasClass("collapsed")?(toggle.siblings(".list-group-content").slideUp("fast"),"function"==typeof o.onCollapse?o.onCollapse(parent):"function"==typeof window[o.onCollapse]?window[o.onCollapse](parent):(result=eval("(function(){"+o.onCollapse+"})"),result.call(parent))):(toggle.siblings(".list-group-content").slideDown("fast"),"function"==typeof o.onExpand?o.onExpand(parent):"function"==typeof window[o.onExpand]?window[o.onExpand](parent):(result=eval("(function(){"+o.onExpand+"})"),result.call(parent))),e.preventDefault(),e.stopPropagation())}),element.on("click",".list",function(e){var list=$(this),result;element.find(".list").removeClass("active"),list.addClass("active"),"function"==typeof o.onActivate?o.onActivate(list):"function"==typeof window[o.onActivate]?window[o.onActivate](list):(result=eval("(function(){"+o.onActivate+"})"),result.call(list)),"function"==typeof o.onListClick?o.onListClick(list):"function"==typeof window[o.onListClick]?window[o.onListClick](list):(result=eval("(function(){"+o.onListClick+"})"),result.call(list)),e.preventDefault(),e.stopPropagation()})},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}});var _notify_container=!1,_notifies=[],Notify={_container:null,_notify:null,_timer:null,version:"3.0.0",options:{icon:"",caption:"",content:"",shadow:!0,width:"auto",height:"auto",style:!1,position:"right",timeout:3e3,keepOpen:!1,type:"default"},init:function(t){return this.options=$.extend({},this.options,t),this._build(),this},_build:function(){var t=this,e=this.options;if(this._container=_notify_container||$("<div/>").addClass("notify-container").appendTo("body"),_notify_container=this._container,""===e.content||void 0===e.content)return!1;if(this._notify=$("<div/>").addClass("notify"),"default"!==e.type&&this._notify.addClass(e.type),e.shadow&&this._notify.addClass("shadow"),e.style&&void 0!==e.style.background&&this._notify.css("background-color",e.style.background),e.style&&void 0!==e.style.color&&this._notify.css("color",e.style.color),""!==e.icon){$(e.icon).addClass("notify-icon").appendTo(this._notify)}""!==e.caption&&void 0!==e.caption&&$("<div/>").addClass("notify-title").html(e.caption).appendTo(this._notify),""!==e.content&&void 0!==e.content&&$("<div/>").addClass("notify-text").html(e.content).appendTo(this._notify);var n=$("<span/>").addClass("notify-closer").appendTo(this._notify);n.on("click",function(){t.close(0)}),"auto"!==e.width&&this._notify.css("min-width",e.width),"auto"!==e.height&&this._notify.css("min-height",e.height),this._notify.hide().appendTo(this._container).fadeIn("slow"),_notifies.push(this._notify),e.keepOpen||this.close(e.timeout)},close:function(t){var e=this;return void 0===t?this._hide():(setTimeout(function(){e._hide()},t),this)},_hide:function(){var t=this;return void 0!==this._notify?(this._notify.fadeOut("slow",function(){$(this).remove(),_notifies.splice(_notifies.indexOf(t._notify),1)}),this):!1},closeAll:function(){return _notifies.forEach(function(t){t.hide("slow",function(){t.remove(),_notifies.splice(_notifies.indexOf(t),1)})}),this}};return $.Notify=function(t){return Object.create(Notify).init(t)},$.Notify.show=function(t,e,n){return $.Notify({content:t,caption:e,icon:n})},$.widget("metro.panel",{version:"3.0.0",options:{onExpand:function(t){},onCollapse:function(t){}},_create:function(){var element=this.element,o=this.options;if($.each(element.data(),function(t,e){if(t in o)try{o[t]=$.parseJSON(e)}catch(n){o[t]=e}}),element.hasClass("collapsible")||element.addClass("collapsible"),element.hasClass("collapsible")){var toggle=element.children(".heading"),content=element.children(".content");toggle.on("click",function(){var result;element.hasClass("collapsed")?content.slideDown("fast",function(){element.removeClass("collapsed"),"function"==typeof o.onExpand?o.onExpand(element):"function"==typeof window[o.onExpand]?window[o.onExpand](element):(result=eval("(function(){"+o.onExpand+"})"),result.call(element))}):content.slideUp("fast",function(){element.addClass("collapsed"),"function"==typeof o.onCollapse?o.onCollapse(element):"function"==typeof window[o.onCollapse]?window[o.onCollapse](element):(result=eval("(function(){"+o.onCollapse+"})"),result.call(element))})})}element.data("panel",this)},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}}),$.widget("metro.widget",{version:"1.0.0",options:{someValue:null},_create:function(){var t=this.element;this.options;this._setOptionsFromDOM(),t.data("widget",this)},_setOptionsFromDOM:function(){var t=this.element,e=this.options;$.each(t.data(),function(t,n){if(t in e)try{e[t]=$.parseJSON(n)}catch(o){e[t]=n}})},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}}),$.widget("metro.popover",{version:"3.0.0",options:{popoverText:"",popoverTimeout:3e3,popoverPosition:"top",popoverBackground:"bg-cyan",popoverColor:"fg-white",popoverMode:"none",popoverShadow:!0,onPopup:function(t){}},popover:{},_create:function(){var t=this.element;this.createPopover(),t.data("popover",this)},createPopover:function(){var t,e=this,n=this.options;t=this.element,$.each(t.data(),function(t,e){if(t in n)try{n[t]=$.parseJSON(e)}catch(o){n[t]=e}});var o,i;switch(o=$("<div/>").addClass("popover").appendTo("body").hide(),$("<div/>").appendTo(o),n.popoverShadow&&o.addClass("popover-shadow"),n.popoverBackground&&("#"===n.popoverBackground[0]?o.css("background-color",n.popoverBackground):o.addClass(n.popoverBackground)),n.popoverColor&&("#"===n.popoverColor[0]?o.css("color",n.popoverColor):o.addClass(n.popoverColor)),n.popoverPosition){case"left":i="marker-on-right";break;case"right":i="marker-on-left";break;case"bottom":i="marker-on-top";break;default:i="marker-on-bottom"}o.css({position:"fixed"}),o.addClass(i),this.popover=o,this.setText(n.popoverText),t.on(n.popoverMode,function(t){o.data("visible")||e.show()}),$(window).scroll(function(){e.popover.data("visible")&&e.setPosition()})},setPosition:function(){var t=this.options,e=this.popover,n=this.element;return"top"===t.popoverPosition?e.css({top:n.offset().top-$(window).scrollTop()-e.outerHeight()-10,left:n.offset().left+n.outerWidth()/2-e.outerWidth()/2-$(window).scrollLeft()}):"bottom"===t.popoverPosition?e.css({top:n.offset().top-$(window).scrollTop()+n.outerHeight()+10,left:n.offset().left+n.outerWidth()/2-e.outerWidth()/2-$(window).scrollLeft()}):"right"===t.popoverPosition?e.css({top:n.offset().top+n.outerHeight()/2-e.outerHeight()/2-$(window).scrollTop(),left:n.offset().left+n.outerWidth()-$(window).scrollLeft()+10}):"left"===t.popoverPosition&&e.css({top:n.offset().top+n.outerHeight()/2-e.outerHeight()/2-$(window).scrollTop(),left:n.offset().left-e.outerWidth()-$(window).scrollLeft()-10}),this},setText:function(t){this.popover.children("div").html(t)},show:function(){var o=this.options,popover=this.popover;this.setPosition(),popover.fadeIn(function(){if(popover.data("visible",!0),"function"==typeof o.onPopup)o.onPopup(popover);else if("function"==typeof window[o.onPopup])window[o.onPopup](popover);else{var result=eval("(function(){"+o.onPopup+"})");result.call(popover)}setTimeout(function(){popover.fadeOut(function(){popover.data("visible",!1)})},o.popoverTimeout)})},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}}),$.widget("metro.preloader",{version:"3.0.0",options:{type:"ring",style:"light"},_create:function(){var t=this.element,e=this.options;$.each(t.data(),function(t,n){if(t in e)try{e[t]=$.parseJSON(n)}catch(o){e[t]=n}}),this._createStructure(),t.data("preloader",this)},_createRing:function(){var t,e,n,o=this.element;this.options;for(t=0;5>t;t++)e=$("<div/>").addClass("wrap").appendTo(o),n=$("<div/>").addClass("circle").appendTo(e)},_createMetro:function(){var t,e,n=this.element;this.options;for(t=0;5>t;t++)e=$("<div/>").addClass("circle").appendTo(n)},_createSquare:function(){var t,e,n=this.element;this.options;for(t=0;4>t;t++)e=$("<div/>").addClass("square").appendTo(n)},_createCycle:function(){var t,e=this.element;this.options;t=$("<div/>").addClass("cycle").appendTo(e)},_createStructure:function(){var t=this.element,e=this.options;switch(t.addClass("preloader-"+e.type),"light"!==e.style&&t.addClass(e.style+"-style"),t.html(""),e.type){case"ring":this._createRing();break;case"metro":this._createMetro();break;case"square":this._createSquare();break;case"cycle":this._createCycle()}},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}}),$.widget("metro.presenter",{version:"3.0.0",options:{height:"200",width:"100%",effect:"random",duration:1e3,timeout:2e3,sceneTimeout:2e3,easing:"swing"},_acts:void 0,_currentAct:0,_actDone:!0,_interval:void 0,_effects:["top","bottom","left","right"],_actor_positions:[],_create:function(){var t=this.element,e=this.options;$.each(t.data(),function(t,n){if(t in e)try{e[t]=$.parseJSON(n)}catch(o){e[t]=n}}),this._createPresenter(),this._showScene(),t.data("presenter",this)},_createPresenter:function(){var t=this.element,e=this.options,n=t.find(".act");n.hide(),this._acts=n,t.css({height:e.height,width:e.width})},_showScene:function(){var t=this;this.element,this.options;this._interval=setInterval(function(){t._actDone&&(t._currentAct++,t._currentAct==t._acts.length&&(t._currentAct=0),t._showAct())},500)},_closeAct:function(){var t=this,e=(this.element,this.options),n=this._currentAct;setTimeout(function(){void 0!==t._acts[n]&&$(t._acts[n]).fadeOut(1e3,function(){t._actDone=!0})},e.sceneTimeout)},_showAct:function(){var t,e=this,n=this.element,o=this.options,i=$(this._acts[this._currentAct]),r=i.find(".actor");this._actDone=!1,i.fadeIn(1e3),r.css({opacity:0,position:"absolute",display:"none"}),t=0,$.each(r,function(){var i,a,s,l,d=$(this),u={top:d.data("position").split(",")[0],left:d.data("position").split(",")[1]};i=void 0!==d.data("effect")?d.data("effect"):o.effect,"random"===i&&(i=e._effects[Math.floor(Math.random()*e._effects.length)]),a=void 0!==d.data("duration")?d.data("duration"):o.duration,s=void 0!==d.data("timeout")?d.data("timeout"):o.timeout,l=void 0!==d.data("easing")?d.data("easing"):o.easing,"top"===i?setTimeout(function(){d.css({top:-n.height(),left:u.left,display:"block"}).animate({top:u.top,left:u.left,opacity:1},a,l,function(){d[0]==r[r.length-1]&&e._closeAct()})},t*s):"bottom"===i?setTimeout(function(){d.css({top:n.height(),left:u.left,display:"block"}).animate({top:u.top,left:u.left,opacity:1},a,l,function(){d[0]==r[r.length-1]&&e._closeAct()})},t*s):"left"===i?setTimeout(function(){d.css({left:-n.width(),top:u.top,display:"block"}).animate({top:u.top,left:u.left,opacity:1},a,l,function(){d[0]==r[r.length-1]&&e._closeAct()})},t*s):"right"===i?setTimeout(function(){d.css({left:n.width(),top:u.top,display:"block"}).animate({top:u.top,left:u.left,opacity:1},a,l,function(){d[0]==r[r.length-1]&&e._closeAct()})},t*s):setTimeout(function(){d.css({top:u.top,left:u.left,display:"block"}).animate({top:u.top,left:u.left,opacity:1},a,"swing",function(){d[0]==r[r.length-1]&&e._closeAct()})},t*s),t++})},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}}),$.widget("metro.progress",{version:"3.0.0",options:{color:"default",colors:!1,value:0,animate:!1,onProgress:function(t){}},colorsDim:{},_create:function(){var t=this,e=this.element,n=this.options,o=e.children(".bar:last-child");if(e.hasClass("progress")||e.addClass("progress"),$.each(e.data(),function(t,e){if(t in n)try{n[t]=$.parseJSON(e)}catch(o){n[t]=e}}),0===o.length&&(o=$("<div/>").addClass("bar").appendTo(e)),n.colors){var i=0;$.each(n.colors,function(e,n){t.colorsDim[e]=[i,n],i=n+1})}this.set(n.value),this.color(n.color),e.data("progress",this)},color:function(t){var e=this.element,n=this.options,o=e.children(".bar:last-child"),i=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t);i?o.css({"background-color":t}):o.removeClass(function(t,e){return(e.match(/(^|\s)bg-\S+/g)||[]).join(" ")}).addClass(t),n.color=t},set:function(value){if(void 0===value)return this.options.value;var element=this.element,o=this.options,colors=this.colorsDim,bar=element.children(".bar:last-child"),that=this,gradient=[];if(!(parseInt(value)<0))if(o.colors&&$.each(colors,function(t,e){return value>=e[0]&&value<=e[1]?(that.color(t),!0):void 0}),o.value=value,o.animate!==!1){var ani_speed=isNaN(o.animate)?500:o.animate;bar.animate({width:o.value+"%"},ani_speed,function(){if("function"==typeof o.onProgress)o.onProgress(value);else if("function"==typeof window[o.onProgress])window[o.onProgress](value);else{var result=eval("(function(){"+o.onProgress+"})");result.call(value)}})}else if(bar.css({width:o.value+"%"}),"function"==typeof o.onProgress)o.onProgress(value);else if("function"==typeof window[o.onProgress])window[o.onProgress](value);else{var result=eval("(function(){"+o.onProgress+"})");result.call(value)}},value:function(t){return this.set(t)},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}}),$.widget("metro.rating",{version:"3.0.0",options:{stars:5,value:0,half:!0,"static":!1,showScore:!0,scoreTitle:"Current: ",size:"default",colorRate:!1,onRate:function(t,e,n){return!0},onRated:function(t,e,n){}},_value:0,_values:[],_create:function(){var t=this.element,e=this.options;$.each(t.data(),function(t,n){if(t in e)try{e[t]=$.parseJSON(n)}catch(o){e[t]=n}}),this._value=parseFloat(e.value),this._values[0]=Math.ceil(1*e.stars/3),this._values[1]=Math.ceil(2*e.stars/3),this._values[2]=e.stars,this._createRating(),this._createEvents(),this._setValue(this._value),this._setScore(this._value),t.data("rating",this)},_createRating:function(){var t,e,n,o=this.element,i=this.options;switch(o.hasClass("rating")||o.addClass("rating"),i.size){case"small":o.addClass("small");break;case"large":o.addClass("large")}for(i["static"]&&o.addClass("static"),t=0;t<i.stars;t++)e=$("<span/>").addClass("star").appendTo(o).data("star-value",t+1);i.showScore&&(n=$("<span/>").addClass("score").appendTo(o))},_createEvents:function(){var that=this,element=this.element,o=this.options,stars;stars=element.find(".star"),stars.on("click",function(e){if(o["static"]||element.hasClass("static")||element.data("static"))return!1;var result,value=$(this).data("star-value"),star=this,rating=that;if("function"==typeof o.onRate){if(!o.onRate(value,star,rating))return!1}else if("function"==typeof window[o.onRate]){if(!window[o.onRate](value,star,rating))return!1}else if(result=eval("(function(){"+o.onRate+"})"),!result.call(value,star,rating))return!1;"function"==typeof o.onRated?o.onRated(value,star,rating):"function"==typeof window[o.onRated]?window[o.onRated](value,star,rating):(result=eval("(function(){"+o.onRated+"})"),result.call(value,star,rating)),that._value=$(this).data("star-value"),that._setValue(),that._setScore(),e.preventDefault(),e.stopPropagation()})},_setValue:function(){var t,e=this.options,n=this.element;if(e.stars){t=n.find(".star").removeClass("on half");var o=Math.floor(this._value)-1,i=10*(this._value-Math.floor(this._value))>0;$(t[o]).addClass("on"),$(t[o]).prevAll().addClass("on"),i&&$(t[o]).next().addClass("on half")}e.colorRate&&(n.removeClass("poor regular good"),this._value<=this._values[0]?n.addClass("poor"):this._value>this._values[0]&&this._value<=this._values[1]?n.addClass("regular"):this._value>this._values[1]&&n.addClass("good"))},_setScore:function(){var t=this._value,e=this.element,n=this.options;void 0!==t&&e.find(".score").html(n.scoreTitle+t)},value:function(t){return void 0===t?this._value:(this._value=t,this._setValue(),this._setScore(),void 0)},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}}),$.widget("metro.select",{version:"3.0.0",options:{},_create:function(){var t=this.element,e=this.options,n=["templateResult","templateSelection","matcher","initSelection","query"];if($.each(t.data(),function(t,n){try{e[t]=$.parseJSON(n)}catch(o){e[t]=n}}),n.map(function(t,n){void 0!==e[t]&&(e[t]=window[e[t]])}),void 0!==e.dropdownParent&&(e.dropdownParent=$(e.dropdownParent)),$().select2)try{t.find("select").select2(e)}catch(o){}else console.log("You are trying to use support for Select2, but the plugin is not found!");t.data("select",this)},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}}),$.widget("metro.slider",{version:"3.0.14",options:{position:0,buffer:0,accuracy:0,color:"default",completeColor:"default",bufferColor:"default",markerColor:"default",colors:!1,showHint:!1,permanentHint:!1,hintPosition:"top",vertical:!1,min:0,max:100,animate:!1,minValue:0,maxValue:100,currValue:0,returnType:"value",target:!1,onStartChange:function(){},onChange:function(t,e){},onChanged:function(t,e){},onBufferChange:function(t,e){},_slider:{vertical:!1,offset:0,length:0,marker:0,ppp:0,start:0,stop:0}},_create:function(){var that=this,element=this.element,o=this.options,s=o._slider;$.each(element.data(),function(t,e){if(t in o)try{o[t]=$.parseJSON(e)}catch(n){o[t]=e}}),element.data("internal_id",uniqueId()),o.accuracy=o.accuracy<0?0:o.accuracy,o.min=o.min<0?0:o.min,o.min=o.min>o.max?o.max:o.min,o.max=o.max>100?100:o.max,o.max=o.max<o.min?o.min:o.max,o.position=this._correctValue(element.data("position")>o.min?element.data("position")>o.max?o.max:element.data("position"):o.min),o.buffer=this._correctValue(element.data("buffer")>o.min?element.data("buffer")>o.max?o.max:element.data("buffer"):o.min),o.colors=o.colors?o.colors.split(","):!1,s.vertical=o.vertical,o.vertical&&!element.hasClass("vertical")&&element.addClass("vertical"),o.permanentHint&&!element.hasClass("permanent-hint")&&element.addClass("permanent-hint"),o.vertical||"bottom"!==o.hintPosition||element.addClass("hint-bottom"),o.vertical&&"left"===o.hintPosition&&element.addClass("hint-left"),this._createSlider(),this._initPoints(),this._placeMarker(o.position),this._showBuffer(o.buffer);var event_down=isTouchDevice()?"touchstart":"mousedown";o.target&&"INPUT"==$(o.target)[0].tagName&&$(o.target).on("keyup",function(){var t=void 0!==this.value?this.value:0,e=Math.min(t,o.maxValue);that._placeMarker(that._realValueToValue(e))}),element.children(".marker").on(event_down,function(e){if(that._startMoveMarker(e),"function"==typeof o.onStartChange)o.onStartChange();else if("function"==typeof window[o.onStartChange])window[o.onStartChange]();else{var result=eval("(function(){"+o.onStartChange+"})");result.call()}e.preventDefault(),e.stopPropagation()}),element.on(event_down,function(t){t.preventDefault(),that._startMoveMarker(t)}),element.data("slider",this)},_startMoveMarker:function(e){var element=this.element,o=this.options,that=this,hint=element.children(".slider-hint"),returnedValue,event_move=isTouchDevice()?"touchmove":"mousemove",event_up=isTouchDevice()?"touchend":"mouseup mouseleave";$(document).on(event_move,function(t){that._movingMarker(t),element.hasClass("permanent-hint")||hint.css("display","block")}),$(document).on(event_up,function(){if($(document).off(event_move),$(document).off(event_up),element.data("value",o.position),element.trigger("changed",o.position),element.trigger("change",o.position),returnedValue="value"===o.returnType?that._valueToRealValue(o.position):o.position,element.hasClass("permanent-hint")||hint.css("display","none"),"function"==typeof o.onChanged)o.onChanged(returnedValue,element);else if("function"==typeof window[o.onChanged])window[o.onChanged](returnedValue,element);else{var result=eval("(function(){"+o.onChanged+"})");result.call(returnedValue,element)}}),this._initPoints(),this._movingMarker(e)},_movingMarker:function(ev){var element=this.element,o=this.options,cursorPos,percents,valuePix,vertical=o._slider.vertical,sliderOffset=o._slider.offset,sliderStart=o._slider.start,sliderEnd=o._slider.stop,sliderLength=o._slider.length,markerSize=o._slider.marker,event=isTouchDevice()?ev.originalEvent.touches[0]:ev.originalEvent;cursorPos=vertical?event.pageY-sliderOffset:event.pageX-sliderOffset,sliderStart>cursorPos?cursorPos=sliderStart:cursorPos>sliderEnd&&(cursorPos=sliderEnd),valuePix=vertical?sliderLength-cursorPos-markerSize/2:cursorPos-markerSize/2,percents=this._pixToPerc(valuePix),this._placeMarker(percents),o.currValue=this._valueToRealValue(percents),o.position=percents;var returnedValue="value"===o.returnType?this._valueToRealValue(o.position):o.position;if(o.target&&("INPUT"==$(o.target)[0].tagName?$(o.target).val(returnedValue):$(o.target).html(returnedValue),$(o.target).trigger("change",returnedValue)),"function"==typeof o.onChange)o.onChange(returnedValue,element);else if("function"==typeof window[o.onChange])window[o.onChange](returnedValue,element);else{var result=eval("(function(){"+o.onChange+"})");result.call(returnedValue,element)}},_placeMarker:function(t){var e,n,o,i,r,a=this.options,s=0,l=(this.element,this.element.children(".marker")),d=this.element.children(".complete"),u=this.element.children(".slider-hint"),c=this._percToPix(a.position);if(o=a.colors.length,i=a._slider.length/o,a._slider.vertical){var h=this._percToPix(a.position)+a._slider.marker,p=a._slider.length-h;e=this._percToPix(t)+a._slider.marker/2,n=a._slider.length-e,this._animate(l.css("top",p),{top:n}),this._animate(d.css("height",h),{height:e}),o&&(s=Math.round(e/i)-1,d.css("background-color",a.colors[0>s?0:s])),a.showHint&&(r=this._valueToRealValue(t),u.html(r).css("top",n-l.height()/2-u.height()/4))}else e=this._percToPix(t),this._animate(l.css("left",c),{left:e}),this._animate(d.css("width",c),{width:e}),o&&(s=Math.round(e/i)-1,d.css("background-color",a.colors[0>s?0:s])),a.showHint&&(r=this._valueToRealValue(t),u.html(r).css("left",e-l.width()/2))},_valueToRealValue:function(t){var e,n=this.options,o=(n.maxValue-n.minValue)/100;return e=t*o+n.minValue,Math.round(e)},_realValueToValue:function(t){var e,n=this.options,o=(n.maxValue-n.minValue)/100;return e=t/o+n.minValue,Math.round(e)},_animate:function(t,e){var n=this.options;n.animate?t.stop(!0).animate(e):t.css(e)},_pixToPerc:function(t){var e;return e=(0>t?0:t)*this.options._slider.ppp,Math.round(this._correctValue(e))},_percToPix:function(t){return 0===this.options._slider.ppp?0:Math.round(t/this.options._slider.ppp)},_correctValue:function(t){var e=this.options,n=e.accuracy,o=e.max,i=e.min;return 0===n?t:t===o?o:t===i?i:(t=Math.floor(t/n)*n+Math.round(t%n/n)*n,t>o?o:i>t?i:t)},_initPoints:function(){var t=this.options,e=t._slider,n=this.element;e.vertical?(e.offset=n.offset().top,e.length=n.height(),e.marker=n.children(".marker").height()):(e.offset=n.offset().left,e.length=n.width(),e.marker=n.children(".marker").width()),e.ppp=t.max/(e.length-e.marker),e.start=e.marker/2,e.stop=e.length-e.marker/2},_createSlider:function(){var t,e,n,o,i,r=this.element,a=this.options;r.html(""),i=$("<div/>").addClass("slider-backside").appendTo(r),t=$("<div/>").addClass("complete").appendTo(r),o=$("<div/>").addClass("buffer").appendTo(r),e=$("<a/>").addClass("marker").appendTo(r),a.showHint&&(n=$("<span/>").addClass("slider-hint").appendTo(r)),"default"!==a.color&&(a.color.isColor()?i.css("background-color",a.color):i.addClass(a.color)),"default"!==a.completeColor&&(a.completeColor.isColor()?t.css("background-color",a.completeColor):t.addClass(a.completeColor)),"default"!==a.bufferColor&&(a.bufferColor.isColor()?o.css("background-color",a.bufferColor):o.addClass(a.bufferColor)),"default"!==a.markerColor&&(a.markerColor.isColor()?e.css("background-color",a.markerColor):e.addClass(a.markerColor))},value:function(value){var element=this.element,o=this.options,returnedValue;if("undefined"!=typeof value){if(value=value>o.max?o.max:value,value=value<o.min?o.min:value,this._placeMarker(parseInt(value)),o.position=parseInt(value),returnedValue="value"===o.returnType?this._valueToRealValue(o.position):o.position,o.target&&("INPUT"==$(o.target)[0].tagName?$(o.target).val(returnedValue):$(o.target).html(returnedValue),$(o.target).trigger("change",returnedValue)),"function"==typeof o.onChange)o.onChange(returnedValue,element);else if("function"==typeof window[o.onChange])window[o.onChange](returnedValue,element);else{var result=eval("(function(){"+o.onChange+"})");result.call(returnedValue,element)}return this}return returnedValue="value"===o.returnType?this._valueToRealValue(o.position):o.position},_showBuffer:function(t){var e,n,o=this.options,i=(this.element,this.element.children(".buffer"));n=o.buffer,e=100==t?99.9:t,o._slider.vertical?this._animate(i.css("height",n+"%"),{height:e+"%"}):this._animate(i.css("width",n+"%"),{width:e+"%"})},buffer:function(value){var element=this.element,o=this.options,returnedValue;if("undefined"!=typeof value){if(value=value>100?100:value,value=0>value?0:value,this._showBuffer(parseInt(value)),o.buffer=parseInt(value),returnedValue=o.buffer,"function"==typeof o.onBufferChange)o.onBufferChange(returnedValue,element);else if("function"==typeof window[o.onBufferChange])window[o.onBufferChange](returnedValue,element);else{var result=eval("(function(){"+o.onBufferChange+"})");result.call(returnedValue,element)}return this}return returnedValue=o.buffer},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}}),$.widget("metro.stepper",{version:"3.0.0",options:{steps:3,start:1,type:"default",clickable:!0,onStep:function(t,e){},onStepClick:function(t,e){}},_create:function(){var t=this.element,e=this.options,n=t.attr("id");$.each(t.data(),function(t,n){if(t in e)try{e[t]=$.parseJSON(n)}catch(o){e[t]=n}}),t.hasClass("stepper")||t.addClass("stepper"),void 0===n&&(n=window.uniqueId(this.widgetName+"_"),t.attr("id",n)),this._createStepper(),e.clickable&&this._createEvents(),this._positioningSteps(),this._stepTo(e.start),t.data("stepper",this)},_createEvents:function(){var that=this,element=this.element,o=this.options;element.on("click","li",function(e){var step=$(this).data("step");if("function"==typeof o.onStepClick)o.onStepClick(step-1,step);else if("function"==typeof window[o.onStepClick])window[o.onStepClick](step-1,step);else{var result=eval("(function(){"+o.onStepClick+"})");result.call(step-1,step)}element.trigger("stepclick",step)})},_createStepper:function(){var t,e,n,o=this.element,i=this.options;switch(e=$("<ul/>"),i.type){case"diamond":o.addClass("diamond");break;case"cycle":o.addClass("cycle")}for(t=0;t<i.steps;t++)n=$("<li/>").data("step",t+1).appendTo(e);e.appendTo(o)},_positioningSteps:function(){var t=this.element,e=(this.options,t.find("li")),n=t.width(),o=e.length-1,i=$(e[0]).width();$.each(e,function(t,e){var r=0===t?0:(n-i)/o*t;console.log(n),$(e).animate({left:r})})},_stepTo:function(step){var element=this.element,o=this.options,steps=element.find("li");steps.removeClass("current").removeClass("complete"),$.each(steps,function(i,s){if(step-1>i&&$(s).addClass("complete"),i===step-1)if($(s).addClass("current"),"function"==typeof o.onStep)o.onStep(i+1,s);else if("function"==typeof window[o.onStep])window[o.onStep](i+1,s);else{var result=eval("(function(){"+o.onStep+"})");result.call(i+1,s)}})},stepTo:function(t){this._stepTo(t)},first:function(){var t=this.options;t.start=1,this._stepTo(t.start)},last:function(){var t=this.element,e=this.options,n=t.find("li");e.start=n.length,this._stepTo(e.start)},next:function(){var t=this.element,e=this.options,n=t.find("li");e.start+1>n.length||(e.start++,this._stepTo(e.start))},prior:function(){var t=this.options;t.start-1!==0&&(t.start--,this._stepTo(t.start))},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}}),$.widget("metro.streamer",{version:"3.0.0",options:{scrollBar:!1,meterStart:9,meterStop:19,meterInterval:20,slideToTime:"default",slideSleep:1e3,slideSpeed:1e3,onClick:function(t){}},_create:function(){var t=this.element,e=this.options,n=t.find(".stream"),o=t.find(".event"),i=t.find(".events"),r=t.find(".events-area"),a=t.find(".event-group"),s=t.find(".event-stream");$.each(t.data(),function(t,n){if(t in e)try{e[t]=$.parseJSON(n)}catch(o){e[t]=n}}),t.data("streamSelect",-1);var l,d,u,c=$("<ul/>").addClass("meter"),h=e.meterStart,p=e.meterStop,f=e.meterInterval,m=[];for(l=h;p>l;l++)for(d=0;60>d;d+=f)u=(10>l?"0"+l:l)+":"+(10>d?"0"+d:d),$("<li/>").addClass("js-interval-"+u.replace(":","-")).html("<em>"+u+"</em>").appendTo(c),m.push(u);t.data("intervals",m),c.insertBefore(t.find(".events-grid")),t.find(".event-stream").each(function(t,e){var o=0,i=$(e).find(".event");i.each(function(t,e){o+=$(e).outerWidth()+parseInt($(e).css("margin-left"))}),$(e).css({width:o+2*(i.length-1)+1}),$(e).find(".time").css("background-color",$(n[t]).css("background-color"))}),i.css({"overflow-x":e.scrollBar?"scroll":"hidden"}),t.css({height:t.find(".streams").outerHeight()+(e.scrollBar?20:0)});var g=0;a.each(function(t,e){g+=$(e).outerWidth()}),g+=2*(a.length-1)+10,r.css("width",g),o.each(function(t,e){addTouchEvents(e)}),t.mousewheel(function(t,e){var n=50*e;return i.scrollLeft(i.scrollLeft()-n),!1}),n.each(function(e,n){$(n).mousedown(function(n){t.data("streamSelect")==e?(o.removeClass("event-disable"),t.data("streamSelect",-1)):(t.data("streamSelect",e),o.addClass("event-disable"),$(s[e]).find(".event").removeClass("event-disable"))})}),this._createEvents(),this.slideToTime(e.slideToTime,e.slideSleep,e.slideSpeed),t.data("streamer",this)},_createEvents:function(){var that=this,element=this.element,o=this.options,events=element.find(".event");events.on("click",function(e){var event=$(this);if(e.ctrlKey&&$(this).toggleClass("selected"),"function"==typeof o.onClick)o.onClick(event);else if("function"==typeof window[o.onClick])window[o.onClick](event);else{var result=eval("(function(){"+o.onClick+"})");result.call(event)}e.preventDefault()}),element.find(".js-go-previous-time").on("click",function(t){var e=element.data("intervals").indexOf(element.data("current-time"));if(0!=e){e--;var n=element.data("intervals")[e];that.slideToTime(n,0,o.slideSpeed)}}),element.find(".js-go-next-time").on("click",function(t){var e=element.data("intervals").indexOf(element.data("current-time"));if(e!=element.data("intervals").length-1){e++;var n=element.data("intervals")[e];that.slideToTime(n,0,o.slideSpeed)}}),element.find(".js-show-all-streams").on("click",function(t){element.find(".event").removeClass("event-disable"),element.data("streamSelect",-1),t.preventDefault()}),element.find(".js-schedule-mode").on("click",function(t){$(this).toggleClass("active"),element.data("schedule-mode",$(this).hasClass("inverse")),t.preventDefault()})},slideToTime:function(t,e,n){var o,i,r=this,a=this.element;"default"===t?(o=a.find(".meter li")[0],t=o.className.replace("js-interval-","").replace("-",":")):(i=t.split(":"),1===i[0].length&&(t="0"+t)),o=a.find(".meter li.js-interval-"+t.replace(":","-"))[0],setTimeout(function(){a.find(".events").animate({scrollLeft:o.offsetLeft-$(".streams").width()},n,function(){r._afterSlide()})},e),a.data("current-time",t)},_afterSlide:function(){},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}}),$.widget("metro.tabcontrol",{version:"3.0.0",options:{openTarget:!1,saveState:!1,onTabClick:function(t){return!0},onTabChange:function(t){},_current:{tab:!1,frame:!1}},_create:function(){var t,e,n,o=this.element,i=this.options,r=o.children(".tabs").find("li").children("a");o.children(".frames").children("div");if($.each(o.data(),function(t,e){
if(t in i)try{i[t]=$.parseJSON(e)}catch(n){i[t]=e}}),i.saveState&&void 0!==o.attr("id")&&""!==o.attr("id").trim()){var a=window.localStorage.getItem(o.attr("id")+"-stored-tab");a&&"undefined"!==a&&(t=o.find("a[href='"+a+"']"),t&&(e=t.attr("href"),n=e&&e.isUrl()?!1:$(e),i._current.tab=t,i._current.frame=n))}if(i._current.tab||i.openTarget===!1||(t=o.find("a[href='"+i.openTarget+"']"),t&&(e=t.attr("href"),n=e&&e.isUrl()?!1:$(e),i._current.tab=t,i._current.frame=n)),i._current.tab||$.each(r,function(t,e){var n=$(e),o=n.attr("href"),r=o.isUrl()?!1:$(o);n.parent().hasClass("active")&&!n.parent().hasClass("disabled")&&r!==!1&&(i._current.tab=n,i._current.frame=r)}),!i._current.tab)for(var s=0;s<r.length;s++)if(!$(r[s]).attr("href").isUrl()&&!$(r[s]).parent().hasClass("disabled")){i._current.tab=$(r[s]),i._current.frame=$($(r[s]).attr("href"));break}this._createEvents(),this._openTab(),o.data("tabcontrol",this)},_hideTabs:function(){var t=this.element,e=t.outerWidth(),n=t.children(".tabs").find("li:not(.non-visible-tabs)"),o=t.children(".tabs").find(".non-visible-tabs").children(".d-menu");$.each(n,function(){var t=$(this),n=this;if(n.offsetLeft+n.offsetWidth+30>e){var i=t.clone(!0);i.appendTo(o),t.remove()}})},_openTab:function(){var t=this.element,e=this.options,n=t.children(".tabs").find("li").children("a"),o=t.children(".frames").children("div");n.parent().removeClass("active"),o.hide(),e._current.tab.parent().addClass("active"),e._current.frame.show(),e.saveState&&void 0!==t.attr("id")&&""!==t.attr("id").trim()&&window.localStorage.setItem(t.attr("id")+"-stored-tab",e._current.tab.attr("href"))},_createEvents:function(){var that=this,element=this.element,o=this.options,tabs=element.children(".tabs").find("li").children("a"),frames=element.children(".frames").children("div");element.on("click",".tabs > li > a",function(e){var result,tab=$(this),target=tab.attr("href"),frame=$(target);if(tab.parent().hasClass("disabled"))return!1;if("function"==typeof o.onTabClick){if(!o.onTabClick(tab))return!1}else if("function"==typeof window[o.onTabClick]){if(!window[o.onTabClick](tab))return!1}else if(result=eval("(function(){"+o.onTabClick+"})"),!result.call(tab))return!1;return target.isUrl()?(window.location.href=target,!0):(o._current.tab=tab,o._current.frame=frame,that._openTab(),"function"==typeof o.onTabChange?o.onTabChange(tab):"function"==typeof window[o.onTabChange]?window[o.onTabChange](tab):(result=eval("(function(){"+o.onTabChange+"})"),result.call(tab)),e.preventDefault(),void e.stopPropagation())})},hideTab:function(t){},showTab:function(t){},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}}),$.widget("metro.tile",{version:"3.0.0",options:{effect:"slideLeft",period:4e3,duration:700,easing:"doubleSqrt",onClick:function(t){}},_frames:{},_currentIndex:0,_interval:0,_outPosition:0,_size:{},_create:function(){var t=this.element,e=this.options;$.each(t.data(),function(t,n){if(t in e)try{e[t]=$.parseJSON(n)}catch(o){e[t]=n}}),this._createTransformTile(),this._createLiveTile(),this._createEvents(),t.data("tile",this)},_createEvents:function(){var that=this,element=this.element,o=this.options,event=isTouchDevice()?"touchstart":"click";element.on(event,function(e){if("A"===element[0].tagName);else if("function"==typeof o.onClick)o.onClick(element);else if("function"==typeof window[o.onClick])window[o.onClick](element);else{var result=eval("(function(){"+o.onClick+"})");result.call(element)}})},_createLiveTile:function(){var t=this,e=this.element,n=(this.options,isTouchDevice()?"touchstart":"mouseenter"),o=isTouchDevice()?"touchend":"mouseleave";return this._frames=e.find(".live-slide"),this._frames.length<=1?!1:($.easing.doubleSqrt=function(t){return Math.sqrt(Math.sqrt(t))},this._size={width:e.width(),height:e.height()},e.on(n,function(){t.stop()}),e.on(o,function(){t.start()}),void this.start())},start:function(){var t=this;this._interval=setInterval(function(){t._animate()},this.options.period)},stop:function(){clearInterval(this._interval)},_animate:function(){var t,e=this._frames[this._currentIndex];switch(this._currentIndex+=1,this._currentIndex>=this._frames.length&&(this._currentIndex=0),t=this._frames[this._currentIndex],this.options.effect){case"slideLeft":this._effectSlideLeft(e,t);break;case"slideRight":this._effectSlideRight(e,t);break;case"slideDown":this._effectSlideDown(e,t);break;case"slideUpDown":this._effectSlideUpDown(e,t);break;case"slideLeftRight":this._effectSlideLeftRight(e,t);break;default:this._effectSlideUp(e,t)}},_effectSlideLeftRight:function(t,e){this._currentIndex%2===0?this._effectSlideLeft(t,e):this._effectSlideRight(t,e)},_effectSlideUpDown:function(t,e){this._currentIndex%2===0?this._effectSlideUp(t,e):this._effectSlideDown(t,e)},_effectSlideUp:function(t,e){var n=this._size.height,o={duration:this.options.duration,easing:this.options.easing};$(t).animate({top:-n},o),$(e).css({top:n}).show().animate({top:0},o)},_effectSlideDown:function(t,e){var n=this._size.height,o={duration:this.options.duration,easing:this.options.easing};$(t).animate({top:n},o),$(e).css({top:-n}).show().animate({top:0},o)},_effectSlideLeft:function(t,e){var n=this._size.width,o={duration:this.options.duration,easing:this.options.easing};$(t).animate({left:-1*n},o),$(e).css({left:n}).show().animate({left:0},o)},_effectSlideRight:function(t,e){var n=this._size.width,o={duration:this.options.duration,easing:this.options.easing};$(t).animate({left:n},o),$(e).css({left:-n}).show().animate({left:0},o)},_createTransformTile:function(){var t=this.element,e=(this.options,{w:t.width(),h:t.height()}),n=isTouchDevice()?"touchstart":"mousedown",o=isTouchDevice()?"touchend":"mouseup",i=isTouchDevice()?"touchend":"mouseleave";t.on(n,function(n){var o=n.pageX-$(this).offset().left,i=n.pageY-$(this).offset().top,r="top";o<1*e.w/3&&(i<1*e.h/2||i>1*e.h/2)?r="left":o>2*e.w/3&&(i<1*e.h/2||i>1*e.h/2)?r="right":o>1*e.w/3&&o<2*e.w/3&&i>e.h/2&&(r="bottom"),$(this).addClass("tile-transform-"+r),"A"===t[0].tagName&&t.attr("href")&&setTimeout(function(){document.location.href=t.attr("href")},500)}),t.on(o,function(){$(this).removeClass("tile-transform-left").removeClass("tile-transform-right").removeClass("tile-transform-top").removeClass("tile-transform-bottom")}),t.on(i,function(){$(this).removeClass("tile-transform-left").removeClass("tile-transform-right").removeClass("tile-transform-top").removeClass("tile-transform-bottom")})},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}}),$.widget("metro.treeview",{version:"3.0.0",options:{doubleClick:!0,onClick:function(t,e,n,o){},onInputClick:function(t,e,n,o){},onExpand:function(t,e,n,o){},onCollapse:function(t,e,n,o){}},_create:function(){var t=this.element,e=this.options;$.each(t.data(),function(t,n){if(t in e)try{e[t]=$.parseJSON(n)}catch(o){e[t]=n}}),this._initTree(),this._createEvents(),t.data("treeview",this)},_createCheckbox:function(t,e){var n,o,i;n=$("<label/>").addClass("input-control checkbox small-check").insertBefore(t),o=$("<input/>").attr("type","checkbox").appendTo(n),i=$("<span/>").addClass("check").appendTo(n),void 0!==e.data("name")&&o.attr("name",e.data("name")),void 0!==e.data("id")&&o.attr("id",e.data("id")),void 0!==e.data("checked")&&o.prop("checked",e.data("checked")),void 0!==e.data("readonly")&&o.prop("disabled",e.data("readonly")),void 0!==e.data("disabled")&&(o.prop("disabled",e.data("disabled")),e.data("disabled")===!0&&e.addClass("disabled")),void 0!==e.data("value")&&o.val(e.data("value"))},_createRadio:function(t,e){var n,o,i;n=$("<label/>").addClass("input-control radio small-check").insertBefore(t),o=$("<input/>").attr("type","radio").appendTo(n),i=$("<span/>").addClass("check").appendTo(n),void 0!==e.data("name")&&o.attr("name",e.data("name")),void 0!==e.data("id")&&o.attr("id",e.data("id")),void 0!==e.data("checked")&&o.prop("checked",e.data("checked")),void 0!==e.data("readonly")&&o.prop("disabled",e.data("readonly")),void 0!==e.data("disabled")&&(o.prop("disabled",e.data("disabled")),e.data("disabled")===!0&&e.addClass("disabled")),void 0!==e.data("value")&&o.val(e.data("value"))},_initTree:function(){var t=this,e=this.element,n=(this.options,e.find(".leaf"));$.each(n,function(){var e=$(this),n=e.parent("li"),o=e.siblings("ul");$(e.parents(".node")[0]);"checkbox"===n.data("mode")&&t._createCheckbox(e,n),"radio"===n.data("mode")&&t._createRadio(e,n),o.length>0&&(n.hasClass("node")||n.addClass("node")),n.hasClass("collapsed")&&o.hide()})},_renderChecks:function(t){var e=this.element,n=(this.options,t.is(":checked")),o=$(t.parent().parent()),i=o.children("ul").find('[type="checkbox"]');i.prop("checked",n).removeClass("indeterminate"),$.each(e.find(".node[data-mode=checkbox]").reverse(),function(){var t=$(this),e=t.children(".input-control").find('[type="checkbox"]'),n=t.children("ul").find('[type="checkbox"]'),o=t.children("ul").find('[type="checkbox"]:checked');e.removeClass("indeterminate"),0===o.length?(e.prop("checked",!1),e.removeClass("indeterminate")):o.length>0&&n.length>o.length&&(e.prop("checked",!0),e.addClass("indeterminate"))})},_createEvents:function(){var that=this,element=this.element,o=this.options;element.on("change","input:checkbox",function(){that._renderChecks($(this))}),element.on("click","input",function(){var leaf=$(this),node=$(leaf.parents(".node")[0]),parent=leaf.parent("li"),check=leaf.siblings(".input-control").find("input:checkbox"),radio=leaf.siblings(".input-control").find("input:radio"),new_check_state,check_disabled;if(check.length>0&&(new_check_state=!check.is(":checked"),check_disabled=check.is(":disabled"),check_disabled||check.prop("checked",new_check_state),that._renderChecks(check)),radio.length>0&&(check_disabled=radio.is(":disabled"),check_disabled||radio.prop("checked",!0)),"function"==typeof o.onInputClick)o.onInputClick(leaf,parent,node,that);else if("function"==typeof window[o.onInputClick])window[o.onInputClick](leaf,parent,node,that);else{var result=eval("(function(){"+o.onInputClick+"})");result.call(leaf,parent,node,that)}}),element.on("click",".leaf",function(){var leaf=$(this),node=$(leaf.parents(".node")[0]),parent=leaf.parent("li");if(element.find(".leaf").parent("li").removeClass("active"),parent.addClass("active"),"function"==typeof o.onClick)o.onClick(leaf,parent,node,that);else if("function"==typeof window[o.onClick])window[o.onClick](leaf,parent,node,that);else{var result=eval("(function(){"+o.onClick+"})");result.call(leaf,parent,node,that)}}),o.doubleClick&&element.on("dblclick",".leaf",function(e){var leaf=$(this),parent=leaf.parent("li"),node=$(leaf.parents(".node")[0]),result;return parent.hasClass("keep-open")?!1:(parent.toggleClass("collapsed"),parent.hasClass("collapsed")?(parent.children("ul").fadeOut("fast"),"function"==typeof o.onCollapse?o.onCollapse(parent,leaf,node,that):"function"==typeof window[o.onCollapse]?window[o.onCollapse](parent,leaf,node,that):(result=eval("(function(){"+o.onCollapse+"})"),result.call(parent,leaf,node,that))):(parent.children("ul").fadeIn("fast"),"function"==typeof o.onExpand?o.onExpand(parent,leaf,node,that):"function"==typeof window[o.onExpand]?window[o.onExpand](parent,leaf,node,that):(result=eval("(function(){"+o.onExpand+"})"),result.call(parent,leaf,node,that))),e.stopPropagation(),void e.preventDefault())}),element.on("click",".node-toggle",function(e){var leaf=$(this).siblings(".leaf"),parent=$(this).parent("li"),node=$(leaf.parents(".node")[0]),result;return parent.hasClass("keep-open")?!1:(parent.toggleClass("collapsed"),parent.hasClass("collapsed")?(parent.children("ul").fadeOut("fast"),"function"==typeof o.onCollapse?o.onCollapse(parent,leaf,node,that):"function"==typeof window[o.onCollapse]?window[o.onCollapse](parent,leaf,node,that):(result=eval("(function(){"+o.onCollapse+"})"),result.call(parent,leaf,node,that))):(parent.children("ul").fadeIn("fast"),"function"==typeof o.onExpand?o.onExpand(parent,leaf,node,that):"function"==typeof window[o.onExpand]?window[o.onExpand](parent,leaf,node,that):(result=eval("(function(){"+o.onExpand+"})"),result.call(parent,leaf,node,that))),e.stopPropagation(),void e.preventDefault())})},addLeaf:function(t,e,n){var o,i,r,a=this.element;if(t&&("LI"===t[0].tagName&&t.addClass("node"),0===t.children(".node-toggle").length&&$("<span/>").addClass("node-toggle").appendTo(t)),r=t?$(t).children("ul"):a.children("ul"),0===r.length&&(r=$("<ul/>").appendTo(t?t:a)),i=$("<li/>").appendTo(r),o=void 0!==n&&void 0!==n.tagName?$("<"+n.tagName+"/>").addClass("leaf").appendTo(i):$("<span/>").addClass("leaf").appendTo(i),o.html(e),void 0!==n&&($.each(n,function(t,e){i.attr("data-"+t,e)}),void 0!==n.mode))switch(n.mode){case"checkbox":this._createCheckbox(o,i);break;case"radio":this._createRadio(o,i)}return i},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}}),$.widget("metro.validator",{version:"1.0.0",options:{showErrorState:!0,showErrorHint:!0,showRequiredState:!0,showSuccessState:!0,hintSize:0,hintBackground:"#FFFCC0",hintColor:"#000000",hideError:2e3,hideHint:5e3,hintEasing:"easeInQuad",hintEasingTime:400,hintMode:"hint",hintPosition:"right",focusInput:!0,onBeforeSubmit:function(t,e){return!0},onErrorInput:function(t){},onSubmit:function(t){return!0}},_scroll:0,funcs:{required:function(t){return""!==t.trim()},minlength:function(t,e){return void 0==e||isNaN(e)||0>=e?!1:t.trim().length>=e},maxlength:function(t,e){return void 0==e||isNaN(e)||0>=e?!1:t.trim().length<=e},min:function(t,e){return void 0==e||isNaN(e)?!1:""===t.trim()?!1:isNaN(t)?!1:t>=e},max:function(t,e){return void 0==e||isNaN(e)?!1:""===t.trim()?!1:isNaN(t)?!1:e>=t},email:function(t){return/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test(t)},url:function(t){return/^(?:[a-z]+:)?\/\//i.test(t)},date:function(t){return!("Invalid Date"===new Date(t)||isNaN(new Date(t)))},number:function(t){return t-0==t&&(""+t).trim().length>0},digits:function(t){return/^\d+$/.test(t)},hexcolor:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},pattern:function(t,e){if(void 0==e)return!1;var n=new RegExp(e);return n.test(t)}},_create:function(){var t=this.element,e=this.options;$.each(t.data(),function(t,n){if(t in e)try{e[t]=$.parseJSON(n)}catch(o){e[t]=n}}),"line"!==e.hintMode&&(e.hintMode="hint2"),this._scroll=$(window).scrollTop(),this._createValidator(),t.data("validator",this)},_createValidator:function(){var t=this,e=this.element,n=this.options,o=e.find("[data-validate-func]");e.attr("novalidate","novalidate"),n.showRequiredState&&$.each(o,function(){var t=$(this);t.parent().hasClass("input-control")?t.parent().addClass("required"):t.addClass("required")}),o.on("focus",function(){}),$(window).scroll(function(t){var e=$(this).scrollTop(),n=isNaN(e-this._scroll)?0:e-this._scroll;$(".validator-hint.hint2").css({top:"-="+n}),this._scroll=e}),e[0].onsubmit?(this._onsubmit=e[0].onsubmit,e[0].onsubmit=null):this._onsubmit=null,e[0].onsubmit=function(){return t._submit()}},_submit:function(){var that=this,element=this.element,o=this.options,inputs=element.find("[data-validate-func]"),submit=element.find(":submit").attr("disabled","disabled").addClass("disabled"),result=0;if($(".validator-hint").hide(),inputs.removeClass("error success"),$.each(inputs,function(t,e){var n=$(e);n.parent().hasClass("input-control")&&n.parent().removeClass("error success")}),$.each(inputs,function(i,v){var input=$(v),func=input.data("validateFunc"),arg=input.data("validateArg"),this_result=that.funcs[func](input.val(),arg);this_result||("function"==typeof o.onErrorInput?o.onErrorInput(input):"function"==typeof window[o.onErrorInput]?window[o.onErrorInput](input):(result=eval("(function(){"+o.onErrorInput+"})"),result.call(input))),!this_result&&o.showErrorState&&that._showError(input),!this_result&&o.showErrorHint&&setTimeout(function(){that._showErrorHint(input)},100*i),this_result&&o.showSuccessState&&that._showSuccess(input),!this_result&&0==i&&o.focusInput&&input.focus(),result+=this_result?0:1}),"function"==typeof o.onBeforeSubmit)result+=o.onBeforeSubmit(element,result)?0:1;else if("function"==typeof window[o.onBeforeSubmit])result+=window[o.onBeforeSubmit](element,result)?1:0;else{var f0=eval("(function(){"+o.onBeforeSubmit+"})");result+=f0.call(element,result)?1:0}if(0!==result)return submit.removeAttr("disabled").removeClass("disabled"),!1;if("function"==typeof o.onSubmit)result=o.onSubmit(element[0]);else if("function"==typeof window[o.onSubmit])result=window[o.onSubmit](element[0]);else{var f=eval("(function(){"+o.onSubmit+"})");result=f.call(element[0])}return submit.removeAttr("disabled").removeClass("disabled"),result},_showSuccess:function(t){t.parent().hasClass("input-control")?t.parent().addClass("success"):t.addClass("success")},_showError:function(t){var e=this.options;t.parent().hasClass("input-control")?t.parent().addClass("error"):t.addClass("error"),e.hideError&&e.hideError>0&&setTimeout(function(){t.parent().removeClass("error")},e.hideError)},_showErrorHint:function(t){var e,n,o,i=this.options,r=t.data("validateHint"),a=t.data("validateHintPosition")||i.hintPosition,s=t.data("validateHintMode")||i.hintMode,l=t.data("validateHintBackground")||i.hintBackground,d=t.data("validateHintColor")||i.hintColor;return void 0===r?!1:(e=$("<div/>").addClass(s+" validator-hint"),e.html(void 0!==r?this._format(r,t.val()):""),e.css({"min-width":i.hintSize}),l.isColor()?e.css("background-color",l):e.addClass(l),d.isColor()?e.css("color",d):e.addClass(d),void("line"===s?(e.addClass("hint2").addClass("line"),e.css({position:"relative",width:t.parent().hasClass("input-control")?t.parent().width():t.width(),"z-index":100}),e.appendTo(t.parent()),e.fadeIn(i.hintEasingTime,function(){setTimeout(function(){e.hide().remove()},i.hideHint)})):(e.appendTo("body"),"right"===a?(o=t.offset().left+t.outerWidth()+15-$(window).scrollLeft(),n=t.offset().top+t.outerHeight()/2-e.outerHeight()/2-$(window).scrollTop()-10,e.addClass(a),e.css({top:n,left:$(window).width()+100}),e.show().animate({left:o},i.hintEasingTime,i.hintEasing,function(){setTimeout(function(){e.hide().remove()},i.hideHint)})):"left"===a?(o=t.offset().left-e.outerWidth()-10-$(window).scrollLeft(),n=t.offset().top+t.outerHeight()/2-e.outerHeight()/2-$(window).scrollTop()-10,e.addClass(a),e.css({top:n,left:-t.offset().left-e.outerWidth()-10}),e.show().animate({left:o},i.hintEasingTime,i.hintEasing,function(){setTimeout(function(){e.hide().remove()},i.hideHint)})):"top"===a?(o=t.offset().left+t.outerWidth()/2-e.outerWidth()/2-$(window).scrollLeft(),n=t.offset().top-$(window).scrollTop()-e.outerHeight()-20,e.addClass(a),e.css({top:-e.outerHeight(),left:o}).show().animate({top:n},i.hintEasingTime,i.hintEasing,function(){setTimeout(function(){e.hide().remove()},i.hideHint)})):(o=t.offset().left+t.outerWidth()/2-e.outerWidth()/2-$(window).scrollLeft(),n=t.offset().top-$(window).scrollTop()+t.outerHeight(),e.addClass(a),e.css({top:$(window).height(),left:o}).show().animate({top:n},i.hintEasingTime,i.hintEasing,function(){setTimeout(function(){e.hide().remove()},i.hideHint)})))))},_format:function(t,e){return 1===arguments.length?function(){var e=$.makeArray(arguments);return e.unshift(t),$.validator.format.apply(this,e)}:(arguments.length>2&&e.constructor!==Array&&(e=$.makeArray(arguments).slice(1)),e.constructor!==Array&&(e=[e]),$.each(e,function(e,n){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return n})}),t)},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}}),$.widget("metro.video",{version:"3.0.14",options:{width:"100%",videoSize:"hd",controls:!0,controlsPosition:"bottom",controlsModel:"full",loopButton:"<span class='mif-loop'></span>",stopButton:"<span class='mif-stop'></span>",playButton:"<span class='mif-play'></span>",pauseButton:"<span class='mif-pause'></span>",muteButton:"<span class='mif-volume-mute2'></span>",volumeLowButton:"<span class='mif-volume-low'></span>",volumeMediumButton:"<span class='mif-volume-medium'></span>",volumeHighButton:"<span class='mif-volume-high'></span>",screenMoreButton:"<span class='mif-enlarge'></span>",screenLessButton:"<span class='mif-shrink'></span>",fullScreenMode:"window",poster:!1,src:!1,loop:!1,preload:!1,autoplay:!1,muted:!1,volume:.5,logo:!1,controlsHide:1e3},_create:function(){var t=this.element;this.options;this._setOptionsFromDOM(),this._createPlayer(),this._addControls(),this._addEvents(),t.data("video",this)},_createPlayer:function(){var t,e=this.element,n=this.options,o=e.width(),i=e.find("video");if("HD"==n.videoSize&&"hd"==n.videoSize?t=9*o/16:"SD"==n.videoSize&&"sd"==n.videoSize&&(t=3*o/4),e.addClass("video-player"),e.css({height:t}),0==i.length&&(i=$("<video/>").appendTo(e)),$.each(["muted","autoplay","controls","height","width","loop","poster","preload"],function(){i.removeAttr(this)}),n.poster&&i.attr("poster",n.poster),n.src)if(n.src.indexOf("youtube")>=0){var r=/v=[(\w)]+/gi;r.exec(n.src)[0].substring(2)}else i.attr("src",n.src);n.loop&&i.attr("loop","loop"),n.preload&&i.attr("preload","auto"),n.autoplay&&i.attr("autoplay","autoplay"),i[0].volume=n.volume,e.data("fullScreen",!1),e.data("muted",!1),e.data("duration",0),e.data("timeInterval",void 0),e.data("played",!1),e.data("volume",i[0].volume)},_addEvents:function(){var t=this,e=this.element,n=(e[0],this.options),o=e.find(".controls"),i=e.find(".video-preloader"),r=(o.find(".play"),o.find(".stop"),o.find(".volume"),o.find(".full"),o.find(".volume-slider"),o.find(".stream-slider"),o.find(".info-box")),a=e.find("video"),s=a[0];a.on("loadedmetadata",function(){e.data("duration",s.duration.toFixed(0)),r.html("00:00 / "+secondsToFormattedString(e.data("duration")))}),a.on("canplay",function(){o.fadeIn(),i.hide();var e=s.buffered.length?Math.round(Math.floor(s.buffered.end(0))/Math.floor(s.duration)*100):0;t._setBufferSize(e)}),a.on("progress",function(){var e=s.buffered.length?Math.round(Math.floor(s.buffered.end(0))/Math.floor(s.duration)*100):0;t._setBufferSize(e)}),a.on("timeupdate",function(){t._setInfoData(),t._setStreamSliderPosition()}),a.on("waiting",function(){i.show()}),a.on("loadeddata",function(){i.hide()}),a.on("ended",function(){t._stopVideo()}),e.on("play",function(){isTouchDevice()&&setTimeout(function(){o.fadeOut()},n.controlsHide)}),e.on("pause",function(){}),e.on("stop",function(){o.show()}),e.on("mouseenter",function(){setTimeout(function(){o.fadeIn()},n.controlsHide)}),e.on("mouseleave",function(){s.currentTime>0&&setTimeout(function(){o.fadeOut()},n.controlsHide)}),isTouchDevice()&&e.on("touchstart",function(){s.currentTime>0&&setTimeout(function(){"none"==o.css("display")?o.fadeIn():o.fadeOut()},n.controlsHide)})},_setInfoData:function(){var t=this.element,e=(t[0],this.options,t.find("video")),n=e[0],o=t.find(".controls .info-box"),i=Math.round(n.currentTime);o.html(secondsToFormattedString(i)+" / "+secondsToFormattedString(t.data("duration")))},_setStreamSliderPosition:function(){var t=this.element,e=(t[0],this.options,t.find("video")),n=e[0],o=t.find(".stream-slider").data("slider");o.value(Math.round(100*n.currentTime/t.data("duration")))},_setBufferSize:function(t){var e=this.element,n=(e[0],this.options,e.find("video")),o=(n[0],e.find(".stream-slider").data("slider"));o.buffer(Math.round(t))},_stop:function(){var t=this.element,e=(t[0],this.options),n=t.find("video"),o=n[0],i=t.find(".controls .stop"),r=t.find(".controls .play");o.pause(),o.currentTime=0,r.html(e.playButton),i.attr("disabled","disabled"),t.data("played",!1),t.find(".stream-slider").data("slider").value(0),t.trigger("stop")},_play:function(){var t=this.element,e=(t[0],this.options),n=t.find("video"),o=n[0],i=t.find(".controls .play"),r=t.find(".controls .stop");o.paused?(i.html(e.pauseButton),o.play(),r.removeAttr("disabled"),t.data("played",!0),t.trigger("play")):(i.html(e.playButton),o.pause(),t.data("played",!1),t.trigger("pause"))},_addControls:function(){var t,e,n,o,i,r,a,s,l,d,u,c,h,p=this,f=this.element,m=f[0],g=this.options,v=f.find("video"),y=v[0];g.logo&&(e=$("<img/>").addClass("video-logo").appendTo(f),e.attr("src",g.logo)),t=$("<div/>").addClass("video-preloader").attr("data-role","preloader").attr("data-type","cycle").attr("data-style","color").appendTo(f),n=$("<div/>").addClass("controls").appendTo(f),n.addClass("position-"+g.controlsPosition),h=$("<div/>").addClass("stream-slider-wrapper").appendTo(n),d=$("<div/>").addClass("slider stream-slider").appendTo(h),d.slider({showHint:!0,animate:!1,markerColor:"bg-red",completeColor:"bg-cyan",onStartChange:function(){y.pause()},onChanged:function(t,e){y.seekable.length>0&&(y.currentTime=(f.data("duration")*t/100).toFixed(0)),f.data("played")&&y.currentTime>=0&&y.play()}}),d.data("slider").value(0),g.loopButton!==!1&&(o=$("<button/>").addClass("square-button small-button1 control-button loop no-phone").html(g.loopButton).appendTo(n),o.on("click",function(){o.toggleClass("active"),o.hasClass("active")?v.attr("loop","loop"):v.removeAttr("loop")})),g.playButton!==!1&&(i=$("<button/>").addClass("square-button small-button1 control-button play").html(g.playButton).appendTo(n),i.on("click",function(){p._play()})),g.stopButton!==!1&&(r=$("<button/>").addClass("square-button small-button1 control-button stop no-phone").html(g.stopButton).appendTo(n).attr("disabled","disabled"),r.on("click",function(){p._stop()})),u=$("<div/>").addClass("info-box no-small-phone").appendTo(n),u.html("00:00 / 00:00"),g.screenMoreButton!==!1&&(s=$("<button/>").addClass("square-button small-button1 control-button full").html(g.screenMoreButton).appendTo(n),s.on("click",function(){f.data("fullScreen",!f.data("fullScreen")),f.data("fullScreen")?s.html(g.screenLessButton):s.html(g.screenMoreButton),"window"===g.fullScreenMode?f.toggleClass("full-screen"):f.data("fullScreen")?m.requestFullscreen?m.requestFullscreen():m.msRequestFullscreen?m.msRequestFullscreen():m.mozRequestFullScreen?m.mozRequestFullScreen():m.webkitRequestFullscreen&&m.webkitRequestFullscreen():document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen(),f.data("fullScreen")?$(document).on("keyup.metro_video_player",function(t){27==t.keyCode&&(s.html(g.screenMoreButton),f.data("fullScreen",!1),f.hasClass("full-screen")&&f.removeClass("full-screen"))}):$(document).off("keyup.metro_video_player")})),c=$("<div/>").addClass("control-slider volume-slider-wrapper place-right").appendTo(n),l=$("<div/>").addClass("slider volume-slider").appendTo(c),l.slider({showHint:!0,animate:!1,markerColor:"bg-red",completeColor:"bg-green",onChange:function(t,e){y.volume=t/100,p._setupVolumeButton()}}),l.data("slider").value(100*y.volume),a=$("<button/>").addClass("square-button small-button1 control-button volume place-right").html(g.volumeLowButton).appendTo(n),a.on("click",function(){var t=f.find(".volume-slider").data("slider");f.data("muted",!f.data("muted")),f.data("muted")?(f.data("volume",y.volume),a.html(g.muteButton),t.value(0)):(y.volume=f.data("volume"),t.value(100*f.data("volume")),p._setupVolumeButton()),y.muted=f.data("muted")}),this._setupVolumeButton(),n.hide()},_setupVolumeButton:function(){var t=this.element,e=this.options,n=t.find("video"),o=n[0],i=t.find(".controls"),r=i.find(".volume"),a=o.volume;a>0&&.3>a?r.html(e.volumeLowButton):a>=.3&&.6>a?r.html(e.volumeMediumButton):a>=.6&&1>=a?r.html(e.volumeHighButton):r.html(e.muteButton)},_setOptionsFromDOM:function(){var t=this.element,e=this.options;$.each(t.data(),function(t,n){if(t in e)try{e[t]=$.parseJSON(n)}catch(o){e[t]=n}})},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)},play:function(t,e){var n,o=this.element,i=(this.options,o.find("video")),r=i[0];this._stop(),i.find("source").remove(),i.removeAttr("src"),n=$("<source>").attr("src",t),void 0!=e&&n.attr("type",e),r.load(),n.appendTo(i),this._play()},stop:function(){this._stop()},pause:function(){var t=this.element,e=this.options,n=t.find("video"),o=n[0],i=t.find(".play");i.html(e.playButton),o.pause(),t.data("played",!1),t.trigger("pause")},resume:function(){var t=this.element,e=this.options,n=t.find("video"),o=n[0],i=t.find(".play"),r=t.find(".stop");i.html(e.pauseButton),o.play(),r.removeAttr("disabled"),t.data("played",!0),t.trigger("play")}}),$.widget("metro.window",{version:"3.0.0",options:{parent:"default",captionStyle:!1,contentStyle:!1,buttons:{btnMin:!1,btnMax:!1,btnClose:!1},title:!1,content:!1,icon:!1,type:"default",size:!1,onBtnMinClick:function(t){t.preventDefault()},onBtnMaxClick:function(t){t.preventDefault()},onBtnCloseClick:function(t){t.preventDefault()},onShow:function(t){t.preventDefault()},onHide:function(t){t.preventDefault()}},_create:function(){var t=this.element,e=this.options;$.each(t.data(),function(t,n){if(t in e)try{e[t]=$.parseJSON(n)}catch(o){e[t]=n}}),this._createWindow(),t.data("window",this)},_createWindow:function(){var t,e,n=this.element,o=this.options,i=n;i.addClass("window"),t=$("<div/>").addClass("window-caption"),e=$("<div/>").addClass("window-content"),(o.icon||o.title)&&t.appendTo(i),e.appendTo(i),"object"==typeof o.size&&$.each(o.size,function(t,n){e.css(t,n)}),o.captionStyle&&"object"==typeof o.captionStyle&&$.each(o.captionStyle,function(e,n){n.isColor()?t.css(e,n+" !important"):t.addClass(n)}),o.contentStyle&&"object"==typeof o.contentStyle&&$.each(o.contentStyle,function(t,n){n.isColor()?e.css(t,n+" !important"):e.addClass(n)}),i.appendTo("default"!==o.parent?o.parent:n.parent()),this.icon(),this.title(),this.buttons(),this.content()},icon:function(){var t=this.options,e=this.element.children(".window-caption"),n=e.find(".window-caption-icon");t.icon&&(0===n.length?$("<span/>").addClass("window-caption-icon").html(t.icon).appendTo(e):n.html(t.icon))},title:function(){var t=this.options,e=this.element.children(".window-caption"),n=e.find(".window-caption-title");t.title&&(0===n.length?$("<span/>").addClass("window-caption-title").html(t.title).appendTo(e):n.html(t.title))},buttons:function(){var t,n,o,i=this.options,r=this.element.children(".window-caption");if(0!==r.length&&i.buttons){var a=i.buttons.btnMin,s=i.buttons.btnMax,l=i.buttons.btnClose;if(a&&a!==!1)if(t=$("<span/>").addClass("btn-min").appendTo(r),"object"==typeof a&&t.css(a),"string"==typeof i.onBtnMinClick){var d=window[i.onBtnMinClick];t.on("click",d)}else t.on("click",i.onBtnMinClick(e));if(s&&s!==!1)if(n=$("<span/>").addClass("btn-max").appendTo(r),"object"==typeof s&&n.css(s),"string"==typeof i.onBtnMaxClick){var u=window[i.onBtnMaxClick];n.on("click",u)}else n.on("click",i.onBtnMaxClick(e));if(l&&l!==!1)if(o=$("<span/>").addClass("btn-close").appendTo(r),"object"==typeof l&&o.css(l),"string"==typeof i.onBtnCloseClick){var c=window[i.onBtnCloseClick];o.on("click",c)}else o.on("click",i.onBtnCloseClick(e))}},content:function(){var t=this.options,e=t.content,n=this.element.children(".window-content");if(e)if(e.isUrl()){if(e.indexOf("youtube")>-1){var o=$("<iframe>"),i=$("<div/>").addClass("video-container").appendTo(n);o.attr("src",e).attr("frameborder","0"),o.appendTo(i)}}else n.html(e)},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}}),$.widget("metro.wizard",{version:"3.0.0",options:{stepper:!0,stepperType:"default",stepperClickable:!1,startPage:"default",finishStep:"default",locale:window.METRO_CURRENT_LOCALE,buttons:{cancel:!0,help:!0,prior:!0,next:!0,finish:!0},onCancel:function(t,e){},onHelp:function(t,e){},onPrior:function(t,e){return!0},onNext:function(t,e){return!0},onFinish:function(t,e){},onPage:function(t,e){},onStepClick:function(t){}},_stepper:void 0,_currentStep:0,_steps:void 0,_create:function(){var that=this,element=this.element,o=this.options,steps=element.find(".step");$.each(element.data(),function(t,e){if(t in o)try{o[t]=$.parseJSON(e)}catch(n){o[t]=e}}),this._steps=steps,o.stepper&&(this._stepper=this._createStepper(steps.length).insertBefore(element.find(".steps")).stepper({clickable:o.stepperClickable}).on("stepclick",function(e,s){if(that.stepTo(s),"function"==typeof o.onStepClick)o.onStepClick(s);else if("function"==typeof window[o.onStepClick])window[o.onStepClick](s);else{var result=eval("(function(){"+o.onStepClick+"})");result.call(s)}})),void 0!==element.data("locale")&&(o.locale=element.data("locale")),this._createEvents();var sp="default"!==o.startPage&&parseInt(o.startPage)>1?o.startPage:1;this.stepTo(sp),"string"==typeof o.onPage?window[o.onPage](this._currentStep+1,element):o.onPage(this._currentStep+1,element),element.data("wizard",this)},_createStepper:function(t){var e,n=this.options;return e=$("<div/>").addClass("stepper").attr("data-role","stepper").attr("data-steps",t),"default"!==n.stepperType&&e.addClass(n.stepperType),
e},_createEvents:function(){var that=this,element=this.element,o=this.options;if(o.buttons){var actions=$("<div/>").addClass("actions").appendTo(element),group_left=$("<div/>").addClass("group-left").appendTo(actions),group_right=$("<div/>").addClass("group-right").appendTo(actions),cancel_button,help_button,prior_button,next_button,finish_button;o.buttons.cancel&&(cancel_button=$("<button type='button'/>").addClass("btn-cancel").html(window.METRO_LOCALES[o.locale].buttons[2]),"boolean"==typeof o.buttons.cancel?cancel_button.appendTo(group_left):(o.buttons.cancel.title&&cancel_button.html(o.buttons.cancel.title),o.buttons.cancel.cls&&cancel_button.addClass(o.buttons.cancel.cls),o.buttons.cancel.group&&"left"!==o.buttons.cancel.group?cancel_button.appendTo(group_right):cancel_button.appendTo(group_left)),cancel_button.on("click",function(){if("function"==typeof o.onCancel)o.onCancel(that._currentStep+1,element);else if("function"==typeof window[o.onCancel])window[o.onCancel](that._currentStep+1,element);else{var result=eval("(function(){"+o.onCancel+"})");result.call(that._currentStep+1,element)}})),o.buttons.help&&(help_button=$("<button type='button'/>").addClass("btn-help").html(window.METRO_LOCALES[o.locale].buttons[3]),"boolean"==typeof o.buttons.help?help_button.appendTo(group_right):(o.buttons.help.title&&help_button.html(o.buttons.help.title),o.buttons.help.cls&&help_button.addClass(o.buttons.help.cls),o.buttons.help.group&&"left"!==o.buttons.help.group?help_button.appendTo(group_right):help_button.appendTo(group_left)),help_button.on("click",function(){if("function"==typeof o.onHelp)o.onHelp(that._currentStep+1,element);else if("function"==typeof window[o.onHelp])window[o.onHelp](that._currentStep+1,element);else{var result=eval("(function(){"+o.onHelp+"})");result.call(that._currentStep+1,element)}})),o.buttons.prior&&(prior_button=$("<button type='button'/>").addClass("btn-prior").html(window.METRO_LOCALES[o.locale].buttons[4]),"boolean"==typeof o.buttons.prior?prior_button.appendTo(group_right):(o.buttons.prior.title&&prior_button.html(o.buttons.prior.title),o.buttons.prior.cls&&prior_button.addClass(o.buttons.prior.cls),o.buttons.prior.group&&"left"!==o.buttons.prior.group?prior_button.appendTo(group_right):prior_button.appendTo(group_left)),prior_button.on("click",function(){if("function"==typeof o.onPrior)o.onPrior(that._currentStep+1,element)&&that.prior();else if("function"==typeof window[o.onPrior])window[o.onPrior](that._currentStep+1,element)&&that.prior();else{var result=eval("(function(){"+o.onPrior+"})");result.call(that._currentStep+1,element)&&that.prior()}})),o.buttons.next&&(next_button=$("<button type='button'/>").addClass("btn-next").html(window.METRO_LOCALES[o.locale].buttons[5]),"boolean"==typeof o.buttons.next?next_button.appendTo(group_right):(o.buttons.next.title&&next_button.html(o.buttons.next.title),o.buttons.next.cls&&next_button.addClass(o.buttons.next.cls),o.buttons.next.group&&"left"!==o.buttons.next.group?next_button.appendTo(group_right):next_button.appendTo(group_left)),next_button.on("click",function(){if("function"==typeof o.onNext)o.onNext(that._currentStep+1,element)&&that.next();else if("function"==typeof window[o.onNext])window[o.onNext](that._currentStep+1,element)&&that.next();else{var result=eval("(function(){"+o.onNext+"})");result.call(that._currentStep+1,element)&&that.next()}})),o.buttons.finish&&(finish_button=$("<button type='button'/>").addClass("btn-finish").html(window.METRO_LOCALES[o.locale].buttons[6]),"boolean"==typeof o.buttons.finish?finish_button.appendTo(group_right):(o.buttons.finish.title&&finish_button.html(o.buttons.finish.title),o.buttons.finish.cls&&finish_button.addClass(o.buttons.finish.cls),o.buttons.finish.group&&"left"!==o.buttons.finish.group?finish_button.appendTo(group_right):finish_button.appendTo(group_left)),finish_button.on("click",function(){if("function"==typeof o.onFinish)o.onFinish(that._currentStep+1,element);else if("function"==typeof window[o.onFinish])window[o.onFinish](that._currentStep+1,element);else{var result=eval("(function(){"+o.onFinish+"})");result.call(that._currentStep+1,element)}}))}},next:function(){var element=this.element,that=this,o=this.options,new_step=this._currentStep+1;if(new_step===this._steps.length)return!1;if(this._currentStep=new_step,this._steps.hide(),$(this._steps[new_step]).show(),"function"==typeof o.onPage)o.onPage(that._currentStep+1,element);else if("function"==typeof window[o.onPage])window[o.onPage](that._currentStep+1,element);else{var result=eval("(function(){"+o.onPage+"})");result.call(that._currentStep+1,element)}void 0!==this._stepper&&this._stepper.stepper("stepTo",this._currentStep+1);var finish="default"===o.finishStep?this._steps.length-1:o.finishStep;return new_step===finish?this.element.find(".btn-finish").attr("disabled",!1):this.element.find(".btn-finish").attr("disabled",!0),new_step===this._steps.length-1?this.element.find(".btn-next").attr("disabled",!0):this.element.find(".btn-next").attr("disabled",!1),new_step>0&&this.element.find(".btn-prior").attr("disabled",!1),!0},prior:function(){var element=this.element,that=this,new_step=this._currentStep-1,o=this.options;if(0>new_step)return!1;if(this._currentStep=new_step,this._steps.hide(),$(this._steps[new_step]).show(),"function"==typeof o.onPage)o.onPage(that._currentStep+1,element);else if("function"==typeof window[o.onPage])window[o.onPage](that._currentStep+1,element);else{var result=eval("(function(){"+o.onPage+"})");result.call(that._currentStep+1,element)}void 0!==this._stepper&&this._stepper.stepper("stepTo",this._currentStep+1);var finish="default"===o.finishStep?this._steps.length-1:o.finishStep;return new_step===finish?this.element.find(".btn-finish").attr("disabled",!1):this.element.find(".btn-finish").attr("disabled",!0),0===new_step?this.element.find(".btn-prior").attr("disabled",!0):this.element.find(".btn-prior").attr("disabled",!1),finish>new_step&&this.element.find(".btn-next").attr("disabled",!1),!0},stepTo:function(step){var element=this.element,that=this,new_step=step-1,o=this.options;if(0>new_step)return!1;if(this._currentStep=new_step,this._steps.hide(),$(this._steps[new_step]).show(),"function"==typeof o.onPage)o.onPage(that._currentStep+1,element);else if("function"==typeof window[o.onPage])window[o.onPage](that._currentStep+1,element);else{var result=eval("(function(){"+o.onPage+"})");result.call(that._currentStep+1,element)}void 0!==this._stepper&&this._stepper.stepper("stepTo",step);var finish="default"===o.finishStep?this._steps.length-1:o.finishStep;return new_step===finish?this.element.find(".btn-finish").attr("disabled",!1):this.element.find(".btn-finish").attr("disabled",!0),this.element.find(".btn-next").attr("disabled",new_step>=finish),this.element.find(".btn-prior").attr("disabled",0>=new_step),!0},stepper:function(){return this._stepper},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}}),$.widget("metro.wizard2",{version:"3.0.0",options:{start:1,finish:"default",buttonLabels:{prev:"&lt;",next:"&gt;",finish:"OK",help:"?"},onPrior:function(t,e){return!0},onNext:function(t,e){return!0},onFinish:function(t,e){},onHelp:function(t,e){},onPage:function(t,e){}},_step:1,_steps:void 0,_create:function(){var t=this,e=this.element,n=this.options;$.each(e.data(),function(t,e){if(t in n)try{n[t]=$.parseJSON(e)}catch(o){n[t]=e}}),this._step=n.start,this._steps=e.children(".step"),this._height=0,this._width=0,"default"===n.finish&&(n.finish=this._steps.length),$.each(this._steps,function(e,n){$(n).outerHeight()>t._height&&(t._height=$(n).outerHeight()),$(n).hasClass("active")&&(t._step=e+1)}),this._width=e.innerWidth()-(24*(this._steps.length-1)+this._steps.length),e.children(".step").css({height:this._height+48}),$(window).resize(function(){t._width=e.innerWidth()-(24*(t._steps.length-1)+t._steps.length),t.step(t._step)}),this._createActionBar(),this.step(n.start),this._placeActionBar(),e.data("wizard2",this)},_createActionBar:function(){var that=this,element=this.element,o=this.options,bar=$("<div/>").addClass("action-bar").appendTo(element),btn_prev,btn_next,btn_help,btn_finish;btn_help=$("<button/>").html(o.buttonLabels.help).addClass("button cycle-button medium-button wiz-btn-help place-left").appendTo(bar),btn_finish=$("<button/>").html(o.buttonLabels.finish).addClass("button cycle-button medium-button wiz-btn-finish place-right").appendTo(bar),btn_next=$("<button/>").html(o.buttonLabels.next).addClass("button cycle-button medium-button wiz-btn-next place-right").appendTo(bar),btn_prev=$("<button/>").html(o.buttonLabels.prev).addClass("button cycle-button medium-button wiz-btn-prev place-right").appendTo(bar),btn_help.on("click",function(){if("function"==typeof o.onHelp)o.onHelp(that._step,that);else if("function"==typeof window[o.onHelp])window[o.onHelp](that._step,that);else{var result=eval("(function(){"+o.onHelp+"})");result.call(that._step,that)}}),btn_finish.on("click",function(){if("function"==typeof o.onFinish)o.onFinish(that._step,that);else if("function"==typeof window[o.onFinish])window[o.onFinish](that._step,that);else{var result=eval("(function(){"+o.onFinish+"})");result.call(that._step,that)}}),btn_prev.on("click",function(){if("function"==typeof o.onPrior)o.onPrior(that._step,element)&&that.prior();else if("function"==typeof window[o.onPrior])window[o.onPrior](that._step,element)&&that.prior();else{var result=eval("(function(){"+o.onPrior+"})");result.call(that._step,element)&&that.prior()}}),btn_next.on("click",function(){if("function"==typeof o.onNext)o.onNext(that._step,element)&&that.next();else if("function"==typeof window[o.onNext])window[o.onNext](that._step,element)&&that.next();else{var result=eval("(function(){"+o.onNext+"})");result.call(that._step,element)&&that.next()}})},_placeActionBar:function(){var t=this.element,e=(this.options,t.find(".action-bar")),n=t.find(".step.active"),o=n.position().left,i=n.innerWidth();e.css({left:o,width:i})},step:function(t){var e=this.options;this.element.children(".step").removeClass("active prev next"),$(this.element.children(".step")[t-1]).addClass("active").css("width",this._width),this.element.children(".step.active").prevAll().addClass("prev").css("width",0),this.element.children(".step.active").nextAll().addClass("next").css("width",0),this._placeActionBar(),1===t?this.element.find(".wiz-btn-prev").hide():this.element.find(".wiz-btn-prev").show(),t===this._steps.length?this.element.find(".wiz-btn-next").hide():this.element.find(".wiz-btn-next").show(),t!==e.finish?this.element.find(".wiz-btn-finish").hide():this.element.find(".wiz-btn-finish").show()},prior:function(){var t=this._step-1;return 0>=t?!1:(this._step=t,this.step(t),!0)},next:function(){var t=this._step+1;return t>this._steps.length?!1:(this._step=t,this.step(t),!0)},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}}),$.Metro.init()}),function(){}.call(this);